"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/room/[roomId]/page",{

/***/ "(app-pages-browser)/./src/pages/RoomPage.tsx":
/*!********************************!*\
  !*** ./src/pages/RoomPage.tsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoomPage: function() { return /* binding */ RoomPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/navigation */ \"(app-pages-browser)/./src/lib/navigation.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* harmony import */ var _lib_gameSocket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/gameSocket */ \"(app-pages-browser)/./src/lib/gameSocket.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/logger */ \"(app-pages-browser)/./src/lib/logger.ts\");\n/* harmony import */ var _types_cards__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../types/cards */ \"(app-pages-browser)/./src/types/cards.ts\");\n/* harmony import */ var _utils_cardSort__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/cardSort */ \"(app-pages-browser)/./src/utils/cardSort.ts\");\n/* harmony import */ var _components_TableView__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/TableView */ \"(app-pages-browser)/./src/components/TableView.tsx\");\n/* harmony import */ var _components_PlayingCard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/PlayingCard */ \"(app-pages-browser)/./src/components/PlayingCard.tsx\");\n/* harmony import */ var _components_QueuePanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/QueuePanel */ \"(app-pages-browser)/./src/components/QueuePanel.tsx\");\n/* harmony import */ var _components_AppShell__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/AppShell */ \"(app-pages-browser)/./src/components/AppShell.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/ui/Button */ \"(app-pages-browser)/./src/components/ui/Button.tsx\");\n/* harmony import */ var _components_ui_Card__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/ui/Card */ \"(app-pages-browser)/./src/components/ui/Card.tsx\");\n/* harmony import */ var _components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/ui/Badge */ \"(app-pages-browser)/./src/components/ui/Badge.tsx\");\n/* harmony import */ var _components_ui_Toast__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/ui/Toast */ \"(app-pages-browser)/./src/components/ui/Toast.tsx\");\n/* harmony import */ var _components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/ui/Skeleton */ \"(app-pages-browser)/./src/components/ui/Skeleton.tsx\");\n/* harmony import */ var _utils_cn__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/cn */ \"(app-pages-browser)/./src/utils/cn.ts\");\n/* __next_internal_client_entry_do_not_use__ RoomPage auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst isDev = \"development\" === \"development\";\nfunction RoomPage() {\n    _s();\n    const { roomId } = (0,_lib_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const navigate = (0,_lib_navigation__WEBPACK_IMPORTED_MODULE_2__.useNavigate)();\n    const [room, setRoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [players, setPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [updatingReady, setUpdatingReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [leaving, setLeaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isStarting, setIsStarting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // WebSocket state\n    const [wsStatus, setWsStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"disconnected\");\n    const [wsMessages, setWsMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [wsError, setWsError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const connectingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [wsEvents, setWsEvents] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [wsUrl, setWsUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const shouldReconnectRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true) // Control reconnection\n    ;\n    const reconnectAttemptRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const roomChannelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null) // Track room channel to prevent duplicate subscriptions\n    ;\n    const playersChannelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null) // Track players channel to prevent duplicate subscriptions\n    ;\n    const isSettingUpChannelsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false) // Prevent concurrent channel setup\n    ;\n    // Game state from WS\n    const [roomStatePlayers, setRoomStatePlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [roundStart, setRoundStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // DEALT state\n    const [yourHand, setYourHand] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [handOrder, setHandOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]) // Custom order indices\n    ;\n    const [_pendingPlayCards, setPendingPlayCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null) // Cards we're trying to play (for error recovery) - state for setter, ref for reading\n    ;\n    const pendingPlayCardsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null) // Ref to access current pending cards in message handlers\n    ;\n    const [_starterPlayerId, setStarterPlayerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [_starterReason, setStarterReason] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [seatedPlayerIds, setSeatedPlayerIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [queuePlayerIds, setQueuePlayerIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Game state\n    const [selectedCards, setSelectedCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentTurnPlayerId, setCurrentTurnPlayerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [lastPlay, setLastPlay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [handsCount, setHandsCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [actionError, setActionError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [_canPass, setCanPass] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false) // Legacy, kept for backward compatibility (server may still send it, but PASS button uses lastPlay instead)\n    ;\n    const [passedPlayerIds, setPassedPlayerIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [roundEnd, setRoundEnd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Rules and scoring\n    const [scoreLimit, setScoreLimit] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(60);\n    const [_scoreboard, setScoreboard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [scoreLimitInput, setScoreLimitInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(60);\n    const [totalScores, setTotalScores] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [eliminated, setEliminated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Helper function to get display name for a player\n    const getPlayerDisplayName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((playerId)=>{\n        var _player_profile;\n        const player = players.find((p)=>p.player_id === playerId);\n        if (player === null || player === void 0 ? void 0 : (_player_profile = player.profile) === null || _player_profile === void 0 ? void 0 : _player_profile.display_name) {\n            return player.profile.display_name;\n        }\n        // Fallback to short ID if no display_name\n        return playerId.length > 8 ? \"\".concat(playerId.substring(0, 8), \"...\") : playerId;\n    }, [\n        players\n    ]);\n    // Create player name map for passing to components\n    const playerNameMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const map = {};\n        players.forEach((p)=>{\n            var _p_profile;\n            const name = ((_p_profile = p.profile) === null || _p_profile === void 0 ? void 0 : _p_profile.display_name) || \"\";\n            if (name) {\n                map[p.player_id] = name;\n            }\n        });\n        return map;\n    }, [\n        players\n    ]);\n    // Create player avatar map for passing to components\n    const playerAvatarMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const map = {};\n        players.forEach((p)=>{\n            var _p_profile;\n            if ((_p_profile = p.profile) === null || _p_profile === void 0 ? void 0 : _p_profile.avatar_url) {\n                map[p.player_id] = p.profile.avatar_url;\n            }\n        });\n        return map;\n    }, [\n        players\n    ]);\n    // Auto-connect function: connects to WS if room status is \"playing\"\n    const connectIfPlaying = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (roomStatus, roomIdToConnect)=>{\n        // If roomStatus !== \"playing\", do nothing\n        if (roomStatus !== \"playing\") {\n            shouldReconnectRef.current = false // Stop reconnecting if room not playing\n            ;\n            return;\n        }\n        // Enable reconnection when connecting\n        shouldReconnectRef.current = true;\n        // If already connected or connecting, do nothing\n        if (wsRef.current) {\n            const readyState = wsRef.current.readyState;\n            if (readyState === WebSocket.OPEN) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Already connected, skipping\");\n                return;\n            }\n            if (readyState === WebSocket.CONNECTING) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Already connecting, skipping\");\n                return;\n            }\n            // If closing or closed, clean up first\n            if (readyState === WebSocket.CLOSING || readyState === WebSocket.CLOSED) {\n                wsRef.current.close();\n                wsRef.current = null;\n            }\n        }\n        if (connectingRef.current) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Connection in progress (flag), skipping\");\n            return;\n        }\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] room.status is playing\");\n        try {\n            // Get Supabase session\n            const { data: { session } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.auth.getSession();\n            const hasToken = !!(session === null || session === void 0 ? void 0 : session.access_token);\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] token present?\", hasToken);\n            if (!(session === null || session === void 0 ? void 0 : session.access_token)) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] No access token available\");\n                setWsError(\"No access token available\");\n                setWsStatus(\"error\");\n                return;\n            }\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] creating WS\");\n            // Connect to WS using gameSocket helper\n            connectingRef.current = true;\n            setWsStatus(\"connecting\");\n            setWsError(null);\n            // Get WS URL for display\n            const wsUrlEnv = \"ws:localhost:4000/ws\" || 0 || 0;\n            setWsUrl(wsUrlEnv);\n            const ws = (0,_lib_gameSocket__WEBPACK_IMPORTED_MODULE_4__.connectGameSocketDebug)(roomIdToConnect, session.access_token, (message)=>{\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] message handler received\", message.type);\n                // Handle incoming messages (only store in dev for debug UI)\n                if (isDev) {\n                    setWsMessages((prev)=>{\n                        const newMessages = [\n                            message,\n                            ...prev\n                        ].slice(0, 20);\n                        return newMessages;\n                    });\n                }\n                // Handle ERROR messages from server\n                if (message.type === \"ERROR\") {\n                    const errorMsg = message.error || message.message || \"Server error\";\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Server ERROR:\", errorMsg);\n                    setWsError(errorMsg);\n                    setWsStatus(\"error\");\n                } else if (message.type === \"WELCOME\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received WELCOME\");\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] WS connected because room is playing\");\n                    setWsStatus(\"connected\");\n                    setWsError(null);\n                    connectingRef.current = false;\n                    reconnectAttemptRef.current = 0;\n                    // Send SYNC_REQUEST after WELCOME\n                    // Use roomIdToConnect to ensure we have the correct roomId from the function parameter\n                    setTimeout(()=>{\n                        const currentRoomId = roomIdToConnect || roomId;\n                        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN && currentRoomId) {\n                            try {\n                                // Validate roomId before sending\n                                if (!currentRoomId || typeof currentRoomId !== \"string\" || currentRoomId.trim() === \"\") {\n                                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Cannot send SYNC_REQUEST: Invalid roomId\", {\n                                        roomId: currentRoomId,\n                                        type: typeof currentRoomId,\n                                        fromParams: roomId,\n                                        fromConnect: roomIdToConnect\n                                    });\n                                    return;\n                                }\n                                const syncMessage = {\n                                    type: \"SYNC_REQUEST\",\n                                    roomId: currentRoomId.trim()\n                                };\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Sending SYNC_REQUEST:\", syncMessage);\n                                const messageString = JSON.stringify(syncMessage);\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] SYNC_REQUEST JSON:\", messageString);\n                                wsRef.current.send(messageString);\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] SYNC_REQUEST sent\");\n                            } catch (err) {\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Failed to send SYNC_REQUEST:\", err);\n                            }\n                        } else {\n                            var _wsRef_current;\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Cannot send SYNC_REQUEST:\", {\n                                wsReady: ((_wsRef_current = wsRef.current) === null || _wsRef_current === void 0 ? void 0 : _wsRef_current.readyState) === WebSocket.OPEN,\n                                roomId: currentRoomId,\n                                roomIdFromParams: roomId,\n                                roomIdFromConnect: roomIdToConnect\n                            });\n                        }\n                    }, 100) // Small delay to ensure connection is stable\n                    ;\n                } else if (message.type === \"STATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received STATE\");\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] WS connected because room is playing\");\n                    setWsStatus(\"connected\");\n                    setWsError(null);\n                    connectingRef.current = false;\n                    reconnectAttemptRef.current = 0;\n                    // Also send SYNC_REQUEST after STATE (in case WELCOME was missed)\n                    // Use roomIdToConnect to ensure we have the correct roomId from the function parameter\n                    setTimeout(()=>{\n                        const currentRoomId = roomIdToConnect || roomId;\n                        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN && currentRoomId) {\n                            try {\n                                // Validate roomId before sending\n                                if (!currentRoomId || typeof currentRoomId !== \"string\" || currentRoomId.trim() === \"\") {\n                                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Cannot send SYNC_REQUEST (after STATE): Invalid roomId\", {\n                                        roomId: currentRoomId,\n                                        type: typeof currentRoomId,\n                                        fromParams: roomId,\n                                        fromConnect: roomIdToConnect\n                                    });\n                                    return;\n                                }\n                                const syncMessage = {\n                                    type: \"SYNC_REQUEST\",\n                                    roomId: currentRoomId.trim()\n                                };\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Sending SYNC_REQUEST (after STATE):\", syncMessage);\n                                const messageString = JSON.stringify(syncMessage);\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] SYNC_REQUEST JSON (after STATE):\", messageString);\n                                wsRef.current.send(messageString);\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] SYNC_REQUEST sent (after STATE)\");\n                            } catch (err) {\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Failed to send SYNC_REQUEST:\", err);\n                            }\n                        } else {\n                            var _wsRef_current;\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Cannot send SYNC_REQUEST (after STATE):\", {\n                                wsReady: ((_wsRef_current = wsRef.current) === null || _wsRef_current === void 0 ? void 0 : _wsRef_current.readyState) === WebSocket.OPEN,\n                                roomId: currentRoomId,\n                                roomIdFromParams: roomId,\n                                roomIdFromConnect: roomIdToConnect\n                            });\n                        }\n                    }, 100);\n                } else if (message.type === \"SYNC_STATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received SYNC_STATE\");\n                    // Clear any pending play cards (state synced from server)\n                    setPendingPlayCards(null);\n                    pendingPlayCardsRef.current = null;\n                    // Apply SYNC_STATE - overwrite all relevant state (do NOT merge)\n                    if (message.seatedPlayerIds && Array.isArray(message.seatedPlayerIds)) {\n                        setSeatedPlayerIds(message.seatedPlayerIds);\n                    }\n                    if (message.queuePlayerIds && Array.isArray(message.queuePlayerIds)) {\n                        setQueuePlayerIds(message.queuePlayerIds);\n                    }\n                    if (message.currentTurnPlayerId) {\n                        setCurrentTurnPlayerId(message.currentTurnPlayerId);\n                    }\n                    if (message.lastPlay) {\n                        const normalizedLastPlay = {\n                            playerId: message.lastPlay.playerId,\n                            cards: Array.isArray(message.lastPlay.cards) ? message.lastPlay.cards.map((card)=>(0,_types_cards__WEBPACK_IMPORTED_MODULE_6__.normalizeCard)(card)) : [],\n                            kind: message.lastPlay.kind,\n                            fiveKind: message.lastPlay.fiveKind\n                        };\n                        setLastPlay(normalizedLastPlay);\n                    } else {\n                        setLastPlay(null);\n                    }\n                    if (message.handsCount && typeof message.handsCount === \"object\") {\n                        setHandsCount(message.handsCount);\n                    }\n                    if (message.totalScores && typeof message.totalScores === \"object\") {\n                        const scoresMap = {};\n                        for (const [playerId, score] of Object.entries(message.totalScores)){\n                            scoresMap[playerId] = typeof score === \"number\" ? score : 0;\n                        }\n                        setTotalScores(scoresMap);\n                    }\n                    if (message.eliminated && Array.isArray(message.eliminated)) {\n                        setEliminated(message.eliminated);\n                    }\n                    if (message.yourHand && Array.isArray(message.yourHand)) {\n                        const normalizedHand = message.yourHand.map((card)=>(0,_types_cards__WEBPACK_IMPORTED_MODULE_6__.normalizeCard)(card));\n                        const sortedHand = (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(normalizedHand);\n                        setYourHand(sortedHand);\n                        setHandOrder([]) // Reset custom order when new hand is received\n                        ;\n                    }\n                    if (typeof message.scoreLimit === \"number\") {\n                        setScoreLimit(message.scoreLimit);\n                    }\n                } else if (message.type === \"ROOM_STATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received ROOM_STATE\");\n                    if (message.players && Array.isArray(message.players)) {\n                        setRoomStatePlayers(message.players);\n                        // Fetch profiles for any new players that don't have profiles yet\n                        // Use functional update to access current players state\n                        setPlayers((currentPlayers)=>{\n                            const newPlayerIds = message.players.map((p)=>p.playerId);\n                            const existingPlayerIds = new Set(currentPlayers.map((p)=>p.player_id));\n                            const missingPlayerIds = newPlayerIds.filter((id)=>!existingPlayerIds.has(id));\n                            if (missingPlayerIds.length > 0 && roomId) {\n                                // Fetch profiles for missing players asynchronously\n                                Promise.all(missingPlayerIds.map(async (playerId)=>{\n                                    try {\n                                        const { data: profile } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"profiles\").select(\"id, display_name, avatar_url\").eq(\"id\", playerId).single();\n                                        // Update players state with new profile\n                                        if (profile) {\n                                            setPlayers((prev)=>{\n                                                var _message_players_find;\n                                                const existing = prev.find((p)=>p.player_id === playerId);\n                                                if (existing) {\n                                                    return prev.map((p)=>p.player_id === playerId ? {\n                                                            ...p,\n                                                            profile: profile\n                                                        } : p);\n                                                }\n                                                // If player doesn't exist in players list, add them\n                                                return [\n                                                    ...prev,\n                                                    {\n                                                        player_id: playerId,\n                                                        room_id: roomId,\n                                                        is_ready: ((_message_players_find = message.players.find((p)=>p.playerId === playerId)) === null || _message_players_find === void 0 ? void 0 : _message_players_find.isReady) || false,\n                                                        left_at: null,\n                                                        joined_at: new Date().toISOString(),\n                                                        id: \"\",\n                                                        profile: profile\n                                                    }\n                                                ];\n                                            });\n                                        }\n                                    } catch (err) {\n                                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"Failed to fetch profile for player \".concat(playerId, \":\"), err);\n                                    }\n                                })).catch((err)=>{\n                                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"Failed to fetch profiles for new players:\", err);\n                                });\n                            }\n                            return currentPlayers // Return current state, updates will happen via setPlayers in Promise\n                            ;\n                        });\n                    }\n                } else if (message.type === \"ROUND_START\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received ROUND_START\");\n                    if (message.roomId && message.startedAt) {\n                        setRoundStart({\n                            roomId: message.roomId,\n                            startedAt: message.startedAt\n                        });\n                    }\n                } else if (message.type === \"RULES\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received RULES\");\n                    if (typeof message.scoreLimit === \"number\") {\n                        setScoreLimit(message.scoreLimit);\n                        setScoreLimitInput(message.scoreLimit);\n                    }\n                } else if (message.type === \"SCORE_UPDATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received SCORE_UPDATE\");\n                    if (message.totalScores && typeof message.totalScores === \"object\") {\n                        const scores = [];\n                        const scoresMap = {};\n                        for (const [playerId, score] of Object.entries(message.totalScores)){\n                            const scoreValue = typeof score === \"number\" ? score : 0;\n                            scoresMap[playerId] = scoreValue;\n                            scores.push({\n                                playerId,\n                                totalScore: scoreValue,\n                                eliminated: message.eliminated && Array.isArray(message.eliminated) ? message.eliminated.includes(playerId) : false\n                            });\n                        }\n                        setTotalScores(scoresMap);\n                        setScoreboard(scores);\n                        if (message.eliminated && Array.isArray(message.eliminated)) {\n                            setEliminated(message.eliminated);\n                        }\n                    }\n                } else if (message.type === \"DEALT\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received DEALT\");\n                    // Hide round end banner when new hand is dealt\n                    setRoundEnd(null);\n                    // Clear any pending play cards (new hand dealt)\n                    setPendingPlayCards(null);\n                    pendingPlayCardsRef.current = null;\n                    if (message.yourHand && Array.isArray(message.yourHand)) {\n                        // Normalize cards to handle various formats (numeric, symbol, or canonical)\n                        const normalizedHand = message.yourHand.map((card)=>(0,_types_cards__WEBPACK_IMPORTED_MODULE_6__.normalizeCard)(card));\n                        const sortedHand = (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(normalizedHand);\n                        setYourHand(sortedHand);\n                        setSelectedCards([]) // Reset selection when new hand is dealt\n                        ;\n                        setHandOrder([]) // Reset custom order when new hand is dealt\n                        ;\n                    }\n                    if (message.starterPlayerId) {\n                        setStarterPlayerId(message.starterPlayerId);\n                    }\n                    if (message.reason) {\n                        setStarterReason(message.reason);\n                    }\n                    if (message.seatedPlayerIds && Array.isArray(message.seatedPlayerIds)) {\n                        setSeatedPlayerIds(message.seatedPlayerIds);\n                    }\n                } else if (message.type === \"GAME_STATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received GAME_STATE\");\n                    if (message.currentTurnPlayerId) {\n                        setCurrentTurnPlayerId(message.currentTurnPlayerId);\n                    }\n                    if (message.lastPlay) {\n                        const normalizedLastPlay = {\n                            playerId: message.lastPlay.playerId,\n                            cards: Array.isArray(message.lastPlay.cards) ? message.lastPlay.cards.map((card)=>(0,_types_cards__WEBPACK_IMPORTED_MODULE_6__.normalizeCard)(card)) : [],\n                            kind: message.lastPlay.kind,\n                            fiveKind: message.lastPlay.fiveKind // STRAIGHT, FLUSH, FULL_HOUSE, FOUR, STRAIGHT_FLUSH\n                        };\n                        setLastPlay(normalizedLastPlay);\n                        // If this is our play (successful), clear pending cards\n                        if (normalizedLastPlay.playerId === currentUserId && pendingPlayCardsRef.current) {\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Play successful, clearing pending cards\");\n                            setPendingPlayCards(null);\n                            pendingPlayCardsRef.current = null;\n                        }\n                    } else {\n                        setLastPlay(null);\n                    }\n                    // Clear selection on GAME_STATE update (turn change)\n                    setSelectedCards([]);\n                    if (message.handsCount && typeof message.handsCount === \"object\") {\n                        setHandsCount(message.handsCount);\n                    }\n                    if (typeof message.canPass === \"boolean\") {\n                        setCanPass(message.canPass) // Legacy, kept for backward compatibility (not used for button logic)\n                        ;\n                    }\n                    // Handle passedPlayerIds if provided by server\n                    if (message.passedPlayerIds && Array.isArray(message.passedPlayerIds)) {\n                        setPassedPlayerIds(message.passedPlayerIds);\n                    } else {\n                        // Reset if not provided (server may omit it when no one has passed)\n                        setPassedPlayerIds([]);\n                    }\n                    // Handle queuePlayerIds if provided\n                    if (message.queuePlayerIds && Array.isArray(message.queuePlayerIds)) {\n                        setQueuePlayerIds(message.queuePlayerIds);\n                    }\n                    // Handle totalScores and eliminated if provided\n                    if (message.totalScores && typeof message.totalScores === \"object\") {\n                        const scoresMap = {};\n                        for (const [playerId, score] of Object.entries(message.totalScores)){\n                            scoresMap[playerId] = typeof score === \"number\" ? score : 0;\n                        }\n                        setTotalScores(scoresMap);\n                    }\n                    if (message.eliminated && Array.isArray(message.eliminated)) {\n                        setEliminated(message.eliminated);\n                    }\n                } else if (message.type === \"ACTION_ERROR\") {\n                    const errorMsg = message.error || message.message || \"Action error\";\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Received ACTION_ERROR:\", errorMsg);\n                    setActionError(errorMsg);\n                    // Restore cards if we had pending play cards (error recovery)\n                    const pendingCards = pendingPlayCardsRef.current;\n                    if (pendingCards && pendingCards.length > 0) {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Restoring cards after ACTION_ERROR:\", pendingCards);\n                        setYourHand((prevHand)=>{\n                            if (!prevHand) return prevHand;\n                            // Add back the pending cards\n                            const restoredHand = [\n                                ...prevHand,\n                                ...pendingCards\n                            ];\n                            return (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(restoredHand);\n                        });\n                        // Reset handOrder since we're restoring cards\n                        setHandOrder([]);\n                        // Clear pending cards\n                        setPendingPlayCards(null);\n                        pendingPlayCardsRef.current = null;\n                    }\n                    // Do NOT clear selection on error - user may want to adjust\n                    // Clear error after 5 seconds\n                    setTimeout(()=>setActionError(null), 5000);\n                } else if (message.type === \"ROUND_END\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received ROUND_END\");\n                    if (message.winnerPlayerId) {\n                        setRoundEnd({\n                            winnerPlayerId: message.winnerPlayerId\n                        });\n                    }\n                } else if (message.type === \"WS_ERROR\" || message.type === \"PARSE_ERROR\") {\n                    const errorMsg = message.error || \"WebSocket error\";\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Client error:\", errorMsg);\n                    setWsError(errorMsg);\n                    setWsStatus(\"error\");\n                    connectingRef.current = false;\n                } else if (message.type === \"WS_OPEN_TIMEOUT\") {\n                    const errorMsg = message.error || \"WebSocket open timeout\";\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Open timeout:\", errorMsg);\n                    setWsError(errorMsg);\n                    setWsStatus(\"error\");\n                    connectingRef.current = false;\n                }\n            }, (code, reason, wasClean)=>{\n                // On close - handle reconnection at RoomPage level\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] close handler: code=\".concat(code, \", reason=\").concat(reason, \", wasClean=\").concat(wasClean));\n                wsRef.current = null;\n                connectingRef.current = false;\n                // Only attempt reconnect if it wasn't a manual close and room is still playing\n                if (shouldReconnectRef.current && (room === null || room === void 0 ? void 0 : room.status) === \"playing\" && !wasClean) {\n                    // Start reconnection with exponential backoff\n                    const reconnectDelays = [\n                        500,\n                        1000,\n                        2000,\n                        4000,\n                        8000\n                    ];\n                    const maxAttempts = 10;\n                    const attemptReconnect = async (attempt)=>{\n                        if (!shouldReconnectRef.current || (room === null || room === void 0 ? void 0 : room.status) !== \"playing\") {\n                            setWsStatus(\"disconnected\");\n                            return;\n                        }\n                        if (attempt > maxAttempts) {\n                            setWsStatus(\"disconnected\");\n                            setWsError(\"Failed to reconnect after 10 attempts\");\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Reconnect] Max attempts reached, giving up\");\n                            return;\n                        }\n                        const delayIndex = Math.min(attempt - 1, reconnectDelays.length - 1);\n                        const delay = reconnectDelays[delayIndex];\n                        reconnectAttemptRef.current = attempt;\n                        setWsStatus(\"reconnecting\");\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Reconnect] Attempt \".concat(attempt, \" in \").concat(delay, \"ms\"));\n                        setTimeout(async ()=>{\n                            if (!shouldReconnectRef.current || (room === null || room === void 0 ? void 0 : room.status) !== \"playing\") {\n                                setWsStatus(\"disconnected\");\n                                return;\n                            }\n                            // Check if we're already connected/connecting before attempting\n                            if (wsRef.current) {\n                                const readyState = wsRef.current.readyState;\n                                if (readyState === WebSocket.OPEN || readyState === WebSocket.CONNECTING) {\n                                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Reconnect] Already connected/connecting, skipping\");\n                                    return;\n                                }\n                            }\n                            await connectIfPlaying(room.status, room.id);\n                            // Check connection status after a delay to see if we need to retry\n                            setTimeout(()=>{\n                                if (shouldReconnectRef.current && (room === null || room === void 0 ? void 0 : room.status) === \"playing\") {\n                                    // Check if we're still not connected\n                                    if (!wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n                                        attemptReconnect(attempt + 1);\n                                    }\n                                }\n                            }, delay + 1000) // Check after delay + 1s\n                            ;\n                        }, delay);\n                    };\n                    attemptReconnect(1);\n                } else {\n                    setWsStatus(\"disconnected\");\n                }\n            }, (logEntry)=>{\n                // Event log callback (only store in dev for debug UI)\n                if (isDev) {\n                    setWsEvents((prev)=>{\n                        const newEvents = [\n                            logEntry,\n                            ...prev\n                        ].slice(0, 20);\n                        return newEvents;\n                    });\n                }\n            });\n            wsRef.current = ws;\n            // Update wsRef when reconnecting (the reconnect creates a new ws)\n            if (ws.sendSyncRequest) {\n            // Store reference for SYNC_REQUEST\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to connect to game server\";\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[AutoConnect] Connection error:\", err);\n            setWsError(errorMessage);\n            setWsStatus(\"error\");\n            wsRef.current = null;\n            connectingRef.current = false;\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!roomId) {\n            navigate(\"/lobby\");\n            return;\n        }\n        // Guard: Don't create channels if setup is already in progress\n        if (isSettingUpChannelsRef.current) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Channel setup already in progress, skipping\");\n            return;\n        }\n        // Guard: Don't create channels if they already exist and are active\n        const existingRoomChannel = roomChannelRef.current;\n        const existingPlayersChannel = playersChannelRef.current;\n        if (existingRoomChannel && existingPlayersChannel) {\n            // Check channel state - Supabase channels have a state property\n            const roomChannelState = existingRoomChannel.state;\n            const playersChannelState = existingPlayersChannel.state;\n            // If channels are still subscribed or joining, don't recreate\n            if (roomChannelState === \"joined\" || roomChannelState === \"joining\" || playersChannelState === \"joined\" || playersChannelState === \"joining\") {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Channels already exist and active, skipping creation\");\n                return;\n            }\n            // If channels are closed/errored, clean them up first\n            if (roomChannelState === \"closed\" || roomChannelState === \"errored\" || playersChannelState === \"closed\" || playersChannelState === \"errored\") {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Cleaning up closed/errored channels\");\n                _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(existingRoomChannel);\n                _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(existingPlayersChannel);\n                roomChannelRef.current = null;\n                playersChannelRef.current = null;\n            }\n        }\n        // Mark that we're setting up channels\n        isSettingUpChannelsRef.current = true;\n        const fetchData = async ()=>{\n            try {\n                const { data: { user } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.auth.getUser();\n                if (!user) {\n                    navigate(\"/auth\");\n                    return;\n                }\n                setCurrentUserId(user.id);\n                // Fetch room\n                const { data: roomData, error: roomError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"rooms\").select(\"*\").eq(\"id\", roomId).single();\n                if (roomError || !roomData) {\n                    throw new Error(\"Room not found\");\n                }\n                setRoom(roomData);\n                // Fetch players\n                await fetchPlayers(roomId);\n                // Clean up existing channels if they exist (prevent duplicates)\n                if (playersChannelRef.current) {\n                    _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(playersChannelRef.current);\n                    playersChannelRef.current = null;\n                }\n                if (roomChannelRef.current) {\n                    _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(roomChannelRef.current);\n                    roomChannelRef.current = null;\n                }\n                // Subscribe to room_players changes\n                const channel = _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.channel(\"room_players:\".concat(roomId)).on(\"postgres_changes\", {\n                    event: \"*\",\n                    schema: \"public\",\n                    table: \"room_players\",\n                    filter: \"room_id=eq.\".concat(roomId)\n                }, ()=>{\n                    fetchPlayers(roomId);\n                }).subscribe();\n                playersChannelRef.current = channel;\n                // Subscribe to room status changes\n                const channelName = \"room:\".concat(roomId);\n                const filterString = \"id=eq.\".concat(roomId);\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Creating channel:\", channelName);\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Filter:\", filterString);\n                const roomChannel = _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.channel(channelName).on(\"postgres_changes\", {\n                    event: \"UPDATE\",\n                    schema: \"public\",\n                    table: \"rooms\",\n                    filter: filterString\n                }, (payload)=>{\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] payload received\");\n                    if (payload.new) {\n                        const updatedRoom = payload.new;\n                        // Only update if room actually changed to prevent unnecessary re-renders\n                        setRoom((prevRoom)=>{\n                            if (prevRoom && prevRoom.id === updatedRoom.id && prevRoom.status === updatedRoom.status && prevRoom.score_limit === updatedRoom.score_limit) {\n                                // Room hasn't meaningfully changed, return previous to prevent re-render\n                                return prevRoom;\n                            }\n                            return updatedRoom;\n                        });\n                        // Auto-connect when status becomes \"playing\" (for ALL users)\n                        if (updatedRoom.status === \"playing\") {\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Realtime: room status updated to playing\");\n                            connectIfPlaying(updatedRoom.status, roomId);\n                        }\n                    }\n                }).subscribe((status)=>{\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Subscribe status:\", status);\n                    if (status === \"SUBSCRIBED\") {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Successfully subscribed to room updates\");\n                    } else if (status === \"TIMED_OUT\") {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[RoomsRT] Subscription timed out\");\n                    // Don't recreate on timeout - let it retry naturally\n                    } else if (status === \"CHANNEL_ERROR\") {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[RoomsRT] Channel error occurred\");\n                        // Clear ref so it can be recreated on next effect run\n                        if (roomChannelRef.current === roomChannel) {\n                            roomChannelRef.current = null;\n                        }\n                    } else if (status === \"CLOSED\") {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Channel closed\");\n                        // Only clear ref if this is the current channel (not a stale one)\n                        // Don't recreate immediately to avoid infinite loop\n                        if (roomChannelRef.current === roomChannel) {\n                            roomChannelRef.current = null;\n                        }\n                    }\n                });\n                roomChannelRef.current = roomChannel;\n                // A) After initial room fetch: auto-connect if already \"playing\"\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Initial fetch: room.status =\", roomData.status);\n                connectIfPlaying(roomData.status, roomId);\n                // Mark channel setup as complete\n                isSettingUpChannelsRef.current = false;\n                return ()=>{\n                    isSettingUpChannelsRef.current = false;\n                    if (playersChannelRef.current) {\n                        _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(playersChannelRef.current);\n                        playersChannelRef.current = null;\n                    }\n                    if (roomChannelRef.current) {\n                        _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(roomChannelRef.current);\n                        roomChannelRef.current = null;\n                    }\n                    // Close WebSocket on unmount\n                    if (wsRef.current) {\n                        wsRef.current.close();\n                        wsRef.current = null;\n                    }\n                    connectingRef.current = false;\n                };\n            } catch (err) {\n                if (err instanceof Error) {\n                    setError(err.message);\n                } else {\n                    setError(\"Failed to load room\");\n                }\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        roomId\n    ]) // Only depend on roomId - navigate is stable, but we removed it to be safe\n    ;\n    // Initialize scoreLimit from room data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (room === null || room === void 0 ? void 0 : room.score_limit) {\n            setScoreLimit(room.score_limit);\n            setScoreLimitInput(room.score_limit);\n        }\n    }, [\n        room === null || room === void 0 ? void 0 : room.score_limit\n    ]);\n    // Fallback polling: check room status every 1s if not connected and room not playing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!roomId || !room) return;\n        // Only poll if:\n        // - WS is not connected/connecting\n        // - local room.status is not \"playing\" yet\n        const shouldPoll = wsStatus !== \"connected\" && wsStatus !== \"connecting\" && room.status !== \"playing\";\n        if (!shouldPoll) {\n            return;\n        }\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Polling] Starting fallback polling for room status\");\n        const pollInterval = setInterval(async ()=>{\n            try {\n                const { data: roomData, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"rooms\").select(\"status\").eq(\"id\", roomId).single();\n                if (error) {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Polling] Error fetching room status:\", error);\n                    return;\n                }\n                if ((roomData === null || roomData === void 0 ? void 0 : roomData.status) === \"playing\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Polling] Room status changed to playing, connecting WS\");\n                    connectIfPlaying(\"playing\", roomId);\n                    // Stop polling once connected\n                    clearInterval(pollInterval);\n                }\n            } catch (err) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Polling] Polling error:\", err);\n            }\n        }, 1000);\n        return ()=>{\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Polling] Stopping fallback polling\");\n            clearInterval(pollInterval);\n        };\n    }, [\n        roomId,\n        room === null || room === void 0 ? void 0 : room.status,\n        wsStatus,\n        connectIfPlaying\n    ]);\n    const fetchPlayers = async (id)=>{\n        try {\n            // Try querying with .is() filter first\n            let { data: playersData, error: playersError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"room_players\").select(\"*\").eq(\"room_id\", id).is(\"left_at\", null) // Only show players who haven't left\n            ;\n            // If that fails (500 error or any error), try fetching all and filtering client-side\n            if (playersError) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"Query with .is() failed, trying alternative approach:\", playersError);\n                const { data: allPlayers, error: allError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"room_players\").select(\"*\").eq(\"room_id\", id);\n                if (allError) {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"Failed to fetch players:\", allError);\n                    const errorMsg = (allError === null || allError === void 0 ? void 0 : allError.message) || String(allError);\n                    setError(\"Failed to load players: \".concat(errorMsg));\n                    return;\n                }\n                // Filter client-side for players who haven't left\n                playersData = (allPlayers === null || allPlayers === void 0 ? void 0 : allPlayers.filter((p)=>p.left_at === null)) || null;\n            }\n            if (!playersData || playersData.length === 0) {\n                setPlayers([]);\n                return;\n            }\n            // Fetch profiles for each player\n            const playersWithProfiles = await Promise.all(playersData.map(async (player)=>{\n                const { data: profile, error: profileError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"profiles\").select(\"id, display_name, avatar_url\").eq(\"id\", player.player_id).single();\n                // Log profile errors but don't fail the whole operation\n                if (profileError) {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"Failed to fetch profile for player \".concat(player.player_id, \":\"), profileError);\n                }\n                return {\n                    ...player,\n                    profile: profile\n                };\n            }));\n            setPlayers(playersWithProfiles);\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"Error in fetchPlayers:\", err);\n            const errorMessage = err instanceof Error ? err.message : \"Failed to fetch players\";\n            setError(errorMessage);\n        }\n    };\n    // Send READY message via WebSocket\n    const sendReadyMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((isReady)=>{\n        if (!roomId || !wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[READY] Cannot send READY: WS not connected\");\n            return false;\n        }\n        try {\n            const readyMessage = {\n                type: \"READY\",\n                roomId,\n                isReady\n            };\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[READY] Sending READY message\");\n            wsRef.current.send(JSON.stringify(readyMessage));\n            return true;\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[READY] Failed to send READY message:\", err);\n            return false;\n        }\n    }, [\n        roomId\n    ]);\n    // Send PLAY message via WebSocket\n    const sendPlayMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((cards)=>{\n        if (!roomId || !wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[PLAY] Cannot send PLAY: WS not connected\");\n            return false;\n        }\n        try {\n            const playMessage = {\n                type: \"PLAY\",\n                roomId,\n                cards\n            };\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[PLAY] Sending PLAY message\");\n            wsRef.current.send(JSON.stringify(playMessage));\n            setActionError(null) // Clear any previous errors\n            ;\n            // Store cards we're trying to play (for error recovery)\n            setPendingPlayCards(cards);\n            pendingPlayCardsRef.current = cards;\n            // Optimistically remove played cards from yourHand in real-time\n            // If server returns error, we'll restore them\n            setYourHand((prevHand)=>{\n                if (!prevHand) return prevHand;\n                // Filter out the played cards\n                let newHand = prevHand.filter((handCard)=>{\n                    return !cards.some((playedCard)=>(0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.cardsEqual)(playedCard, handCard));\n                });\n                // Re-sort the remaining cards to maintain proper order\n                newHand = (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(newHand);\n                // Update handOrder to remove indices of played cards\n                setHandOrder((prevOrder)=>{\n                    if (prevOrder.length === 0) return [];\n                    // Find indices of played cards in original hand\n                    const playedIndices = new Set(cards.map((playedCard)=>prevHand.findIndex((handCard)=>(0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.cardsEqual)(handCard, playedCard))).filter((idx)=>idx !== -1));\n                    // Remove played indices and adjust remaining indices\n                    const newOrder = prevOrder.filter((idx)=>!playedIndices.has(idx)).map((idx)=>{\n                        // Adjust index: count how many played cards were before this index\n                        const adjustment = Array.from(playedIndices).filter((playedIdx)=>playedIdx < idx).length;\n                        return idx - adjustment;\n                    });\n                    return newOrder;\n                });\n                return newHand;\n            });\n            // Clear selection after sending (optimistic)\n            setSelectedCards([]);\n            return true;\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[PLAY] Failed to send PLAY message:\", err);\n            setActionError(\"Failed to send play message\");\n            return false;\n        }\n    }, [\n        roomId\n    ]);\n    // Send SET_RULES message via WebSocket\n    const sendSetRulesMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((newScoreLimit)=>{\n        if (!roomId || !wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[SET_RULES] Cannot send SET_RULES: WS not connected\");\n            return false;\n        }\n        try {\n            const rulesMessage = {\n                type: \"SET_RULES\",\n                roomId,\n                scoreLimit: newScoreLimit\n            };\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[SET_RULES] Sending SET_RULES message\");\n            wsRef.current.send(JSON.stringify(rulesMessage));\n            setActionError(null) // Clear any previous errors\n            ;\n            return true;\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[SET_RULES] Failed to send SET_RULES message:\", err);\n            setActionError(\"Failed to set rules\");\n            return false;\n        }\n    }, [\n        roomId\n    ]);\n    // Send PASS message via WebSocket\n    const sendPassMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!roomId || !wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[PASS] Cannot send PASS: WS not connected\");\n            return false;\n        }\n        try {\n            const passMessage = {\n                type: \"PASS\",\n                roomId\n            };\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[PASS] Sending PASS message\");\n            wsRef.current.send(JSON.stringify(passMessage));\n            setActionError(null) // Clear any previous errors\n            ;\n            return true;\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[PASS] Failed to send PASS message:\", err);\n            setActionError(\"Failed to send pass message\");\n            return false;\n        }\n    }, [\n        roomId\n    ]);\n    const handleCardClick = (card)=>{\n        // Toggle selection (max 5 cards)\n        setSelectedCards((prev)=>{\n            // Check if card is already selected\n            const isSelected = prev.some((c)=>c.rank === card.rank && c.suit === card.suit);\n            if (isSelected) {\n                // Remove from selection\n                return prev.filter((c)=>!(c.rank === card.rank && c.suit === card.suit));\n            } else {\n                // Add to selection if under limit\n                if (prev.length >= 5) {\n                    return prev // Max 5 cards\n                    ;\n                }\n                return [\n                    ...prev,\n                    card\n                ];\n            }\n        });\n    };\n    const handlePlay = ()=>{\n        // Allow 1, 2, 3, or 5 cards (not 4)\n        const validLengths = [\n            1,\n            2,\n            3,\n            5\n        ];\n        if (!validLengths.includes(selectedCards.length)) return;\n        sendPlayMessage(selectedCards);\n    // Selection cleared in sendPlayMessage after successful send\n    };\n    const handlePass = ()=>{\n        sendPassMessage();\n    };\n    const isMyTurn = currentTurnPlayerId === currentUserId;\n    const handleToggleReady = async ()=>{\n        var _wsRef_current;\n        if (!roomId || !currentUserId || updatingReady) return;\n        // If WS is connected, use WS READY messages\n        if (wsStatus === \"connected\" && ((_wsRef_current = wsRef.current) === null || _wsRef_current === void 0 ? void 0 : _wsRef_current.readyState) === WebSocket.OPEN) {\n            // Get current ready state from ROOM_STATE if available, otherwise from Supabase\n            const roomStatePlayer = roomStatePlayers.find((p)=>p.playerId === currentUserId);\n            const supabasePlayer = players.find((p)=>p.player_id === currentUserId);\n            var _supabasePlayer_is_ready;\n            const currentReadyState = roomStatePlayer ? roomStatePlayer.isReady : (_supabasePlayer_is_ready = supabasePlayer === null || supabasePlayer === void 0 ? void 0 : supabasePlayer.is_ready) !== null && _supabasePlayer_is_ready !== void 0 ? _supabasePlayer_is_ready : false;\n            const newReadyState = !currentReadyState;\n            setUpdatingReady(true);\n            const sent = sendReadyMessage(newReadyState);\n            if (!sent) {\n                setError(\"Failed to send ready status. Please try again.\");\n            }\n            setUpdatingReady(false);\n            return;\n        }\n        // Fallback to Supabase if WS not connected\n        setUpdatingReady(true);\n        try {\n            const currentPlayer = players.find((p)=>p.player_id === currentUserId);\n            if (!currentPlayer) return;\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"room_players\").update({\n                is_ready: !currentPlayer.is_ready\n            }).eq(\"room_id\", roomId).eq(\"player_id\", currentUserId);\n            if (error) throw error;\n        } catch (err) {\n            if (err instanceof Error) {\n                setError(err.message);\n            }\n        } finally{\n            setUpdatingReady(false);\n        }\n    };\n    const handleLeave = async ()=>{\n        if (!roomId || !currentUserId || leaving) return;\n        setLeaving(true);\n        try {\n            // Stop reconnection attempts\n            shouldReconnectRef.current = false;\n            // Mark as manual close and close WebSocket connection\n            if (wsRef.current) {\n                const markManualClose = wsRef.current.markManualClose;\n                if (markManualClose) {\n                    markManualClose();\n                }\n                wsRef.current.close();\n                wsRef.current = null;\n            }\n            connectingRef.current = false;\n            setWsStatus(\"disconnected\");\n            // Update left_at\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"room_players\").update({\n                left_at: new Date().toISOString()\n            }).eq(\"room_id\", roomId).eq(\"player_id\", currentUserId);\n            if (error) throw error;\n            navigate(\"/lobby\");\n        } catch (err) {\n            if (err instanceof Error) {\n                setError(err.message);\n            }\n        } finally{\n            setLeaving(false);\n        }\n    };\n    const handleStart = async (e)=>{\n        e === null || e === void 0 ? void 0 : e.preventDefault();\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] clicked\");\n        if (isStarting) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Already starting, ignoring duplicate click\");\n            return;\n        }\n        if (!roomId || !currentUserId) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Missing roomId or currentUserId\", {\n                roomId,\n                currentUserId\n            });\n            setError(\"Missing room ID or user ID\");\n            return;\n        }\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] roomId\", roomId);\n        setIsStarting(true);\n        try {\n            // Get session and access token\n            const { data: { session } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.auth.getSession();\n            const hasToken = !!(session === null || session === void 0 ? void 0 : session.access_token);\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] session token present?\", hasToken);\n            if (!(session === null || session === void 0 ? void 0 : session.access_token)) {\n                setError(\"No access token available. Please log in again.\");\n                setWsError(\"No access token available\");\n                return;\n            }\n            // Fetch the room row first to verify ownership and current status\n            const { data: roomData, error: roomFetchError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"rooms\").select(\"id, owner_id, status\").eq(\"id\", roomId).single();\n            if (roomFetchError || !roomData) {\n                const errorMsg = (roomFetchError === null || roomFetchError === void 0 ? void 0 : roomFetchError.message) || \"Room not found\";\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Start] room fetch error:\", roomFetchError);\n                setError(\"Failed to fetch room: \".concat(errorMsg));\n                setWsError(\"Failed to fetch room: \".concat(errorMsg));\n                return;\n            }\n            // Verify ownership\n            if (currentUserId !== roomData.owner_id) {\n                const errorMsg = \"Only the room owner can start the game\";\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Ownership check failed\", {\n                    currentUserId,\n                    ownerId: roomData.owner_id\n                });\n                setError(errorMsg);\n                setWsError(errorMsg);\n                return;\n            }\n            // If status is already \"playing\", do nothing (WS connection handled by connectIfPlaying)\n            if (roomData.status === \"playing\") {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Room already playing, skipping PATCH\");\n                setIsStarting(false);\n                return;\n            }\n            // Update room status to 'playing'\n            // The realtime subscription will trigger connectIfPlaying for ALL users (including owner)\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Patching rooms.status to 'playing'\");\n            const { error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"rooms\").update({\n                status: \"playing\"\n            }).eq(\"id\", roomId);\n            if (updateError) {\n                // Handle Supabase error with detailed information\n                const errorDetails = {\n                    status: (updateError === null || updateError === void 0 ? void 0 : updateError.status) || \"unknown\",\n                    message: updateError.message || \"Unknown error\",\n                    details: (updateError === null || updateError === void 0 ? void 0 : updateError.details) || null,\n                    hint: (updateError === null || updateError === void 0 ? void 0 : updateError.hint) || null\n                };\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Start] patch rooms.status result ERROR:\", errorDetails);\n                const errorMsg = \"Failed to update room status: \".concat(errorDetails.message).concat(errorDetails.hint ? \" (\".concat(errorDetails.hint, \")\") : \"\");\n                setError(errorMsg);\n                setWsError(errorMsg);\n                setIsStarting(false);\n                return;\n            }\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] patch rooms.status result SUCCESS\");\n            // Note: WS connection will be triggered by realtime subscription via connectIfPlaying\n            // Reset isStarting when WS connects or after a timeout\n            const resetTimeout = setTimeout(()=>{\n                setIsStarting(false);\n            }, 5000);\n            // Also reset when WS connects or errors\n            const checkConnection = setInterval(()=>{\n                if (wsStatus === \"connected\" || wsStatus === \"error\") {\n                    clearInterval(checkConnection);\n                    clearTimeout(resetTimeout);\n                    setIsStarting(false);\n                }\n            }, 100);\n            setTimeout(()=>{\n                clearInterval(checkConnection);\n            }, 10000);\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to start game\";\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Start] Unexpected error:\", err);\n            setError(errorMessage);\n            setWsError(errorMessage);\n            setIsStarting(false);\n        }\n    };\n    const handleReconnect = async ()=>{\n        if (!roomId || !currentUserId || !room) return;\n        // Close existing connection if any\n        if (wsRef.current) {\n            wsRef.current.close();\n            wsRef.current = null;\n        }\n        connectingRef.current = false;\n        // Use connectIfPlaying to reconnect (only connects if room.status === \"playing\")\n        await connectIfPlaying(room.status, room.id);\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppShell__WEBPACK_IMPORTED_MODULE_11__.AppShell, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center min-h-[60vh]\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-full max-w-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_16__.Skeleton, {\n                            className: \"h-12 w-full\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1361,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_16__.Skeleton, {\n                            className: \"h-10 w-3/4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1362,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_16__.Skeleton, {\n                            className: \"h-10 w-full\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1363,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1360,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                lineNumber: 1359,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n            lineNumber: 1358,\n            columnNumber: 7\n        }, this);\n    }\n    if (error || !room) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppShell__WEBPACK_IMPORTED_MODULE_11__.AppShell, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-6 text-center space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-[var(--danger)]\",\n                                children: error || \"Room not found\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1376,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                onClick: ()=>navigate(\"/lobby\"),\n                                children: \"Back to Lobby\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1377,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1375,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1374,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                lineNumber: 1373,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n            lineNumber: 1372,\n            columnNumber: 7\n        }, this);\n    }\n    const currentPlayer = players.find((p)=>p.player_id === currentUserId);\n    const isOwner = currentUserId === room.owner_id;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppShell__WEBPACK_IMPORTED_MODULE_11__.AppShell, {\n        title: \"Room: \".concat(room.code),\n        subtitle: \"Score Limit: \".concat(scoreLimit),\n        showSignOut: false,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-end\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                        variant: \"danger\",\n                        onClick: handleLeave,\n                        disabled: leaving,\n                        isLoading: leaving,\n                        children: \"Leave Room\"\n                    }, void 0, false, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1397,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1396,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 bg-[var(--danger-bg)] border border-[var(--danger)] text-[var(--danger)] rounded-lg\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1404,\n                    columnNumber: 11\n                }, this),\n                roundStart && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 bg-[var(--success)] text-white rounded-lg shadow-md\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                className: \"text-lg\",\n                                children: \"Round starting...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1413,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm opacity-90\",\n                                children: new Date(roundStart.startedAt).toLocaleString()\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1414,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1411,\n                    columnNumber: 11\n                }, this),\n                yourHand && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 bg-[var(--info)] text-white rounded-lg shadow-md text-center font-semibold\",\n                    children: \"Cards dealt. Waiting for starter...\"\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1423,\n                    columnNumber: 11\n                }, this),\n                isDev && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                        header: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-sm font-semibold text-[var(--text)]\",\n                            children: \"Debug Info\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1431,\n                            columnNumber: 29\n                        }, void 0),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-xs font-mono\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-2 bg-[var(--bg-elevated)] rounded border border-[var(--border)]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"room.status:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                            lineNumber: 1434,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        room.status\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1433,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-2 bg-[var(--bg-elevated)] rounded border border-[var(--border)]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"current auth.uid:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                            lineNumber: 1437,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        currentUserId || \"null\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1436,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-2 bg-[var(--bg-elevated)] rounded border border-[var(--border)]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"room.owner_id:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                            lineNumber: 1440,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        room.owner_id\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1439,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-2 bg-[var(--bg-elevated)] rounded border border-[var(--border)]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"isOwner:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                            lineNumber: 1443,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        isOwner ? \"true\" : \"false\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1442,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1432,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1431,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1430,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                        header: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-between items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-base font-semibold text-[var(--text)]\",\n                                    children: \"Game Server Connection\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1454,\n                                    columnNumber: 15\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                    variant: wsStatus === \"connected\" ? \"success\" : wsStatus === \"connecting\" || wsStatus === \"reconnecting\" ? \"warning\" : wsStatus === \"error\" ? \"danger\" : \"default\",\n                                    children: [\n                                        wsStatus === \"connected\" && \" Connected\",\n                                        wsStatus === \"connecting\" && \" Connecting...\",\n                                        wsStatus === \"reconnecting\" && \" Reconnecting (\".concat(reconnectAttemptRef.current, \"/10)...\"),\n                                        wsStatus === \"error\" && \" Error\",\n                                        wsStatus === \"disconnected\" && \" Disconnected\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1455,\n                                    columnNumber: 15\n                                }, void 0)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1453,\n                            columnNumber: 13\n                        }, void 0),\n                        children: [\n                            wsError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 p-3 bg-[var(--danger-bg)] border border-[var(--danger)] text-[var(--danger)] rounded-lg text-sm\",\n                                children: wsError\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1471,\n                                columnNumber: 15\n                            }, this),\n                            isDev && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 p-3 bg-[var(--bg-elevated)] rounded text-xs font-mono space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"wsUrl:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1479,\n                                                columnNumber: 22\n                                            }, this),\n                                            \" \",\n                                            wsUrl || \"not set\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1479,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"wsReadyState:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1481,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" \",\n                                            wsRef.current ? wsRef.current.readyState : \"null\",\n                                            \"(\",\n                                            wsRef.current ? [\n                                                \"CONNECTING\",\n                                                \"OPEN\",\n                                                \"CLOSING\",\n                                                \"CLOSED\"\n                                            ][wsRef.current.readyState] : \"null\",\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1480,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"connectionStatus:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1484,\n                                                columnNumber: 22\n                                            }, this),\n                                            \" \",\n                                            wsStatus\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1484,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1478,\n                                columnNumber: 15\n                            }, this),\n                            wsStatus === \"disconnected\" && (room === null || room === void 0 ? void 0 : room.status) === \"playing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                size: \"sm\",\n                                onClick: handleReconnect,\n                                children: \"Reconnect\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1489,\n                                columnNumber: 15\n                            }, this),\n                            isDev && wsEvents.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-semibold text-[var(--text-muted)] mb-2\",\n                                        children: [\n                                            \"Last \",\n                                            wsEvents.length,\n                                            \" WS Events:\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1495,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-h-[200px] overflow-y-auto border border-[var(--border)] rounded p-2 bg-[var(--bg-elevated)] text-xs font-mono space-y-1\",\n                                        children: wsEvents.map((event, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex gap-2 p-1 bg-[var(--bg-surface)] rounded border border-[var(--border)]\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[var(--text-muted)] min-w-[80px]\",\n                                                        children: new Date(event.timestamp).toLocaleTimeString()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1501,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[var(--info)] font-semibold min-w-[150px]\",\n                                                        children: event.event\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1504,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    event.data && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[var(--text)] flex-1 break-all\",\n                                                        children: typeof event.data === \"object\" ? JSON.stringify(event.data) : String(event.data)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1506,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, \"event-\".concat(event.timestamp, \"-\").concat(idx), true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1500,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1498,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1494,\n                                columnNumber: 15\n                            }, this),\n                            isDev && wsMessages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-semibold text-[var(--text-muted)] mb-2\",\n                                        children: [\n                                            \"Last \",\n                                            wsMessages.length,\n                                            \" Messages:\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1519,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-h-[300px] overflow-y-auto border border-[var(--border)] rounded p-2 bg-[var(--bg-elevated)] text-xs font-mono space-y-2\",\n                                        children: wsMessages.map((msg, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-2 bg-[var(--bg-surface)] rounded border border-[var(--border)] whitespace-pre-wrap break-all\",\n                                                children: JSON.stringify(msg, null, 2)\n                                            }, \"msg-\".concat(msg.type, \"-\").concat(idx), false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1524,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1522,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1518,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1452,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1451,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                        header: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-semibold text-[var(--text)]\",\n                            children: [\n                                \"Players (\",\n                                roomStatePlayers.length > 0 ? roomStatePlayers.length : players.length,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1537,\n                            columnNumber: 13\n                        }, void 0),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3\",\n                            children: (()=>{\n                                // Always use players state (which has profiles) as source of truth for display\n                                // Merge ready status from roomStatePlayers if available\n                                const playersToRender = players.map((p)=>{\n                                    var _p_profile;\n                                    const roomStatePlayer = roomStatePlayers.find((rsp)=>rsp.playerId === p.player_id);\n                                    var _roomStatePlayer_isReady;\n                                    return {\n                                        playerId: p.player_id,\n                                        isReady: (_roomStatePlayer_isReady = roomStatePlayer === null || roomStatePlayer === void 0 ? void 0 : roomStatePlayer.isReady) !== null && _roomStatePlayer_isReady !== void 0 ? _roomStatePlayer_isReady : p.is_ready,\n                                        displayName: ((_p_profile = p.profile) === null || _p_profile === void 0 ? void 0 : _p_profile.display_name) || null\n                                    };\n                                });\n                                // If roomStatePlayers has players not in players list, add them (will show ID until profile loads)\n                                if (roomStatePlayers.length > 0) {\n                                    roomStatePlayers.forEach((rsp)=>{\n                                        if (!playersToRender.find((p)=>p.playerId === rsp.playerId)) {\n                                            playersToRender.push({\n                                                playerId: rsp.playerId,\n                                                isReady: rsp.isReady,\n                                                displayName: null\n                                            });\n                                        }\n                                    });\n                                }\n                                if (playersToRender.length === 0) {\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-center text-[var(--text-muted)] py-8\",\n                                        children: \"No players in room\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1568,\n                                        columnNumber: 26\n                                    }, this);\n                                }\n                                return playersToRender.map((player)=>{\n                                    const isCurrentPlayer = player.playerId === currentUserId;\n                                    const hasPassed = passedPlayerIds.includes(player.playerId);\n                                    const isCurrentTurn = player.playerId === currentTurnPlayerId;\n                                    // Use displayName if available, otherwise fallback to getPlayerDisplayName\n                                    const displayName = player.displayName || getPlayerDisplayName(player.playerId);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (0,_utils_cn__WEBPACK_IMPORTED_MODULE_17__.cn)(\"flex justify-between items-center p-4 rounded-lg border transition-all\", isCurrentPlayer && \"bg-[var(--primary-bg)] border-[var(--primary)]\", isCurrentTurn && \"bg-[var(--warning-bg)] border-[var(--warning)]\", !isCurrentPlayer && !isCurrentTurn && \"bg-[var(--bg-elevated)] border-[var(--border)] hover:bg-[var(--surface-hover)]\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-[var(--text)]\",\n                                                        children: displayName\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1589,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    isOwner && player.playerId === room.owner_id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                                        variant: \"warning\",\n                                                        size: \"sm\",\n                                                        children: \"Owner\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1593,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    hasPassed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                                        variant: \"default\",\n                                                        size: \"sm\",\n                                                        children: \"Passed\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1596,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1588,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    player.isReady ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                                        variant: \"success\",\n                                                        size: \"sm\",\n                                                        children: \" Ready\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1601,\n                                                        columnNumber: 27\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm text-[var(--text-muted)]\",\n                                                        children: \"Not Ready\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1603,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    isCurrentTurn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                                        variant: \"warning\",\n                                                        size: \"sm\",\n                                                        children: \" Your Turn\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1606,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1599,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, player.playerId, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1579,\n                                        columnNumber: 21\n                                    }, this);\n                                });\n                            })()\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1541,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1536,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1535,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col sm:flex-row gap-4 items-center justify-center\",\n                    children: [\n                        currentUserId && (()=>{\n                            const roomStatePlayer = roomStatePlayers.find((p)=>p.playerId === currentUserId);\n                            var _currentPlayer_is_ready;\n                            const currentReady = roomStatePlayer ? roomStatePlayer.isReady : (_currentPlayer_is_ready = currentPlayer === null || currentPlayer === void 0 ? void 0 : currentPlayer.is_ready) !== null && _currentPlayer_is_ready !== void 0 ? _currentPlayer_is_ready : false;\n                            const isDisabled = updatingReady || wsStatus !== \"connected\" || !!roundStart;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                onClick: handleToggleReady,\n                                variant: currentReady ? \"success\" : \"secondary\",\n                                disabled: isDisabled,\n                                isLoading: updatingReady,\n                                title: wsStatus !== \"connected\" ? \"Connect first\" : roundStart ? \"Round already started\" : \"\",\n                                children: wsStatus !== \"connected\" ? \"Connect first\" : roundStart ? \"Round started\" : currentReady ? \"Mark Not Ready\" : \"Mark Ready\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1627,\n                                columnNumber: 15\n                            }, this);\n                        })(),\n                        isOwner && room.status !== \"playing\" && !roundStart && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 p-4 bg-[var(--bg-elevated)] rounded-lg border border-[var(--border)]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"scoreLimit\",\n                                    className: \"text-sm font-medium text-[var(--text)]\",\n                                    children: \"Score Limit (1-60):\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1648,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    id: \"scoreLimit\",\n                                    type: \"number\",\n                                    min: \"1\",\n                                    max: \"60\",\n                                    value: scoreLimitInput,\n                                    onChange: (e)=>setScoreLimitInput(Math.min(60, Math.max(1, Number(e.target.value) || 60))),\n                                    className: \"w-20 px-3 py-2 bg-[var(--bg-surface)] border border-[var(--border)] rounded-lg text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--border-focus)]\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1651,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                    size: \"sm\",\n                                    onClick: ()=>{\n                                        if (scoreLimitInput >= 1 && scoreLimitInput <= 60) {\n                                            sendSetRulesMessage(scoreLimitInput);\n                                            _components_ui_Toast__WEBPACK_IMPORTED_MODULE_15__.toast.success(\"Score limit updated\");\n                                        }\n                                    },\n                                    disabled: wsStatus !== \"connected\" || scoreLimitInput < 1 || scoreLimitInput > 60,\n                                    title: wsStatus !== \"connected\" ? \"WebSocket disconnected\" : \"\",\n                                    children: \"Set Rules\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1660,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1647,\n                            columnNumber: 13\n                        }, this),\n                        isOwner && room.status !== \"playing\" && !roundStart && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                            onClick: handleStart,\n                            disabled: isStarting,\n                            isLoading: isStarting,\n                            children: \"Start Game\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1677,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1618,\n                    columnNumber: 9\n                }, this),\n                yourHand && (room === null || room === void 0 ? void 0 : room.status) === \"playing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-6\",\n                    children: [\n                        roundEnd && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 bg-[var(--success)] text-white rounded-lg shadow-md text-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                className: \"text-lg\",\n                                children: [\n                                    \"Round ended. Winner: \",\n                                    roundEnd.winnerPlayerId\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1693,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1692,\n                            columnNumber: 15\n                        }, this),\n                        actionError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 bg-[var(--danger-bg)] border border-[var(--danger)] text-[var(--danger)] rounded-lg text-sm font-medium\",\n                            children: actionError\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1699,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col lg:flex-row gap-6 justify-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-w-0\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_TableView__WEBPACK_IMPORTED_MODULE_8__.TableView, {\n                                        seatedPlayerIds: seatedPlayerIds,\n                                        handsCount: handsCount,\n                                        totalScores: totalScores,\n                                        scoreLimit: scoreLimit,\n                                        currentTurnPlayerId: currentTurnPlayerId,\n                                        eliminated: eliminated,\n                                        currentUserId: currentUserId,\n                                        lastPlay: lastPlay,\n                                        playerNames: playerNameMap,\n                                        playerAvatars: playerAvatarMap\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1708,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1707,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"lg:w-80\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_QueuePanel__WEBPACK_IMPORTED_MODULE_10__.QueuePanel, {\n                                        queuePlayerIds: queuePlayerIds,\n                                        seatedPlayerIds: seatedPlayerIds,\n                                        handsCount: handsCount,\n                                        totalScores: totalScores,\n                                        scoreLimit: scoreLimit,\n                                        currentTurnPlayerId: currentTurnPlayerId,\n                                        eliminated: eliminated,\n                                        playerNames: playerNameMap\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1724,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1723,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1705,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"text-lg font-heading font-bold text-cyan-300 text-glow-cyan\",\n                                                        children: [\n                                                            \"Your Hand (\",\n                                                            yourHand.length,\n                                                            \" cards)\",\n                                                            selectedCards.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"ml-2 text-sm text-lime-400 text-glow-lime font-medium\",\n                                                                children: [\n                                                                    \" Selected: \",\n                                                                    selectedCards.length,\n                                                                    \"/5\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                                lineNumber: 1745,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1742,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    handOrder.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                                        onClick: ()=>setHandOrder([]),\n                                                        variant: \"secondary\",\n                                                        size: \"sm\",\n                                                        title: \"Sort cards by rank and suit\",\n                                                        children: \"Sort\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1751,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1741,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap gap-3 justify-center\",\n                                                children: (()=>{\n                                                    // If user has custom order, use it; otherwise show sorted cards\n                                                    if (handOrder.length > 0 && handOrder.length === yourHand.length) {\n                                                        // User's custom arrangement\n                                                        return handOrder.map((originalIdx)=>yourHand[originalIdx]).filter(Boolean);\n                                                    } else {\n                                                        // Default sorted order\n                                                        return (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(yourHand);\n                                                    }\n                                                })().map((card)=>{\n                                                    const isSelected = selectedCards.some((c)=>(0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.cardsEqual)(c, card));\n                                                    const originalIdx = yourHand.findIndex((c)=>(0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.cardsEqual)(c, card));\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        draggable: true,\n                                                        onDragStart: (e)=>{\n                                                            e.dataTransfer.setData(\"cardIndex\", String(originalIdx));\n                                                            e.dataTransfer.effectAllowed = \"move\";\n                                                        },\n                                                        onDragOver: (e)=>{\n                                                            e.preventDefault();\n                                                            e.dataTransfer.dropEffect = \"move\";\n                                                        },\n                                                        onDrop: (e)=>{\n                                                            e.preventDefault();\n                                                            const draggedIndex = parseInt(e.dataTransfer.getData(\"cardIndex\"), 10);\n                                                            const dropIndex = originalIdx;\n                                                            if (draggedIndex === dropIndex) return;\n                                                            setHandOrder((prevOrder)=>{\n                                                                if (prevOrder.length === 0) {\n                                                                    // Initialize order array\n                                                                    return yourHand.map((_, idx)=>idx);\n                                                                }\n                                                                const newOrder = [\n                                                                    ...prevOrder\n                                                                ];\n                                                                const draggedPos = newOrder.indexOf(draggedIndex);\n                                                                const dropPos = newOrder.indexOf(dropIndex);\n                                                                // Remove dragged item\n                                                                newOrder.splice(draggedPos, 1);\n                                                                // Insert at new position\n                                                                newOrder.splice(dropPos, 0, draggedIndex);\n                                                                return newOrder;\n                                                            });\n                                                        },\n                                                        className: \"cursor-move transition-transform duration-200 hover:scale-110\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlayingCard__WEBPACK_IMPORTED_MODULE_9__.PlayingCard, {\n                                                            card: card,\n                                                            isSelected: isSelected,\n                                                            onClick: ()=>handleCardClick(card),\n                                                            size: \"md\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                            lineNumber: 1816,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, \"\".concat(card.rank, \"-\").concat(card.suit, \"-\").concat(originalIdx), false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1778,\n                                                        columnNumber: 25\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1761,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1740,\n                                        columnNumber: 17\n                                    }, this),\n                                    !roundEnd && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-4 justify-center pt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                                onClick: handlePlay,\n                                                variant: \"success\",\n                                                disabled: (()=>{\n                                                    const validLengths = [\n                                                        1,\n                                                        2,\n                                                        3,\n                                                        5\n                                                    ];\n                                                    return !validLengths.includes(selectedCards.length) || !isMyTurn || wsStatus !== \"connected\";\n                                                })(),\n                                                title: wsStatus !== \"connected\" ? \"WebSocket disconnected\" : !isMyTurn ? \"Not your turn\" : selectedCards.length === 0 ? \"Select 1, 2, 3, or 5 cards to play\" : selectedCards.length === 4 ? \"4 cards not allowed. Select 1, 2, 3, or 5 cards\" : selectedCards.length > 5 ? \"Maximum 5 cards allowed\" : \"\",\n                                                children: [\n                                                    \"PLAY \",\n                                                    selectedCards.length > 0 && \"(\".concat(selectedCards.length, \")\")\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1831,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                                onClick: handlePass,\n                                                variant: \"warning\",\n                                                disabled: !isMyTurn || !lastPlay || wsStatus !== \"connected\",\n                                                title: wsStatus !== \"connected\" ? \"WebSocket disconnected\" : !isMyTurn ? \"Not your turn\" : !lastPlay ? \"You must start the trick\" : \"\",\n                                                children: \"PASS\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1854,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1830,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1739,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1738,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1689,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n            lineNumber: 1394,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n        lineNumber: 1389,\n        columnNumber: 5\n    }, this);\n}\n_s(RoomPage, \"RNjL8lLzPs7hd77azTOqZBf+LXQ=\", false, function() {\n    return [\n        _lib_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        _lib_navigation__WEBPACK_IMPORTED_MODULE_2__.useNavigate\n    ];\n});\n_c = RoomPage;\nvar _c;\n$RefreshReg$(_c, \"RoomPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9wYWdlcy9Sb29tUGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUV5RTtBQUNmO0FBQ2hCO0FBQ3lEO0FBQ3ZDO0FBR2Q7QUFDVztBQUNOO0FBQ0k7QUFDRjtBQUNKO0FBQ0Q7QUFDTTtBQUNSO0FBQ0E7QUFDTTtBQUNwQjtBQUVoQyxNQUFNMkIsUUFBUUMsa0JBQXlCO0FBTWhDLFNBQVNDOztJQUNkLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUd6QiwwREFBU0E7SUFDNUIsTUFBTTBCLFdBQVd6Qiw0REFBV0E7SUFDNUIsTUFBTSxDQUFDMEIsTUFBTUMsUUFBUSxHQUFHakMsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDa0MsU0FBU0MsV0FBVyxHQUFHbkMsK0NBQVFBLENBQXNCLEVBQUU7SUFDOUQsTUFBTSxDQUFDb0MsZUFBZUMsaUJBQWlCLEdBQUdyQywrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDc0MsU0FBU0MsV0FBVyxHQUFHdkMsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDVyxPQUFPNkIsU0FBUyxHQUFHeEMsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQ3lDLGVBQWVDLGlCQUFpQixHQUFHMUMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDMkMsU0FBU0MsV0FBVyxHQUFHNUMsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDNkMsWUFBWUMsY0FBYyxHQUFHOUMsK0NBQVFBLENBQUM7SUFFN0Msa0JBQWtCO0lBQ2xCLE1BQU0sQ0FBQytDLFVBQVVDLFlBQVksR0FBR2hELCtDQUFRQSxDQUF5RTtJQUNqSCxNQUFNLENBQUNpRCxZQUFZQyxjQUFjLEdBQUdsRCwrQ0FBUUEsQ0FBc0IsRUFBRTtJQUNwRSxNQUFNLENBQUNtRCxTQUFTQyxXQUFXLEdBQUdwRCwrQ0FBUUEsQ0FBZ0I7SUFDdEQsTUFBTXFELFFBQVFuRCw2Q0FBTUEsQ0FBbUI7SUFDdkMs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QTs7O0tBRmR1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvcGFnZXMvUm9vbVBhZ2UudHN4PzZlODkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVBhcmFtcywgdXNlTmF2aWdhdGUgfSBmcm9tICcuLi9saWIvbmF2aWdhdGlvbidcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vbGliL3N1cGFiYXNlJ1xuaW1wb3J0IHsgY29ubmVjdEdhbWVTb2NrZXREZWJ1ZywgdHlwZSBHYW1lU29ja2V0TWVzc2FnZSwgdHlwZSBXU0V2ZW50TG9nIH0gZnJvbSAnLi4vbGliL2dhbWVTb2NrZXQnXG5pbXBvcnQgeyBsb2csIHdhcm4sIGVycm9yIGFzIGxvZ0Vycm9yIH0gZnJvbSAnLi4vbGliL2xvZ2dlcidcbmltcG9ydCB0eXBlIHsgUm9vbSwgUm9vbVBsYXllciwgUHJvZmlsZSB9IGZyb20gJy4uL3R5cGVzL2RhdGFiYXNlJ1xuaW1wb3J0IHR5cGUgeyBDYXJkIH0gZnJvbSAnLi4vdHlwZXMvY2FyZHMnXG5pbXBvcnQgeyBub3JtYWxpemVDYXJkIH0gZnJvbSAnLi4vdHlwZXMvY2FyZHMnXG5pbXBvcnQgeyBzb3J0Q2FyZHMsIGNhcmRzRXF1YWwgfSBmcm9tICcuLi91dGlscy9jYXJkU29ydCdcbmltcG9ydCB7IFRhYmxlVmlldyB9IGZyb20gJy4uL2NvbXBvbmVudHMvVGFibGVWaWV3J1xuaW1wb3J0IHsgUGxheWluZ0NhcmQgfSBmcm9tICcuLi9jb21wb25lbnRzL1BsYXlpbmdDYXJkJ1xuaW1wb3J0IHsgUXVldWVQYW5lbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvUXVldWVQYW5lbCdcbmltcG9ydCB7IEFwcFNoZWxsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9BcHBTaGVsbCdcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvdWkvQnV0dG9uJ1xuaW1wb3J0IHsgQ2FyZCBhcyBVSUNhcmQgfSBmcm9tICcuLi9jb21wb25lbnRzL3VpL0NhcmQnXG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvdWkvQmFkZ2UnXG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gJy4uL2NvbXBvbmVudHMvdWkvVG9hc3QnXG5pbXBvcnQgeyBTa2VsZXRvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvdWkvU2tlbGV0b24nXG5pbXBvcnQgeyBjbiB9IGZyb20gJy4uL3V0aWxzL2NuJ1xuXG5jb25zdCBpc0RldiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnXG5cbmludGVyZmFjZSBQbGF5ZXJXaXRoUHJvZmlsZSBleHRlbmRzIFJvb21QbGF5ZXIge1xuICBwcm9maWxlOiBQcm9maWxlIHwgbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUm9vbVBhZ2UoKSB7XG4gIGNvbnN0IHsgcm9vbUlkIH0gPSB1c2VQYXJhbXM8eyByb29tSWQ6IHN0cmluZyB9PigpXG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKVxuICBjb25zdCBbcm9vbSwgc2V0Um9vbV0gPSB1c2VTdGF0ZTxSb29tIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3BsYXllcnMsIHNldFBsYXllcnNdID0gdXNlU3RhdGU8UGxheWVyV2l0aFByb2ZpbGVbXT4oW10pXG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3VwZGF0aW5nUmVhZHksIHNldFVwZGF0aW5nUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtsZWF2aW5nLCBzZXRMZWF2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNTdGFydGluZywgc2V0SXNTdGFydGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgXG4gIC8vIFdlYlNvY2tldCBzdGF0ZVxuICBjb25zdCBbd3NTdGF0dXMsIHNldFdzU3RhdHVzXSA9IHVzZVN0YXRlPCdkaXNjb25uZWN0ZWQnIHwgJ2Nvbm5lY3RpbmcnIHwgJ2Nvbm5lY3RlZCcgfCAncmVjb25uZWN0aW5nJyB8ICdlcnJvcic+KCdkaXNjb25uZWN0ZWQnKVxuICBjb25zdCBbd3NNZXNzYWdlcywgc2V0V3NNZXNzYWdlc10gPSB1c2VTdGF0ZTxHYW1lU29ja2V0TWVzc2FnZVtdPihbXSlcbiAgY29uc3QgW3dzRXJyb3IsIHNldFdzRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcbiAgY29uc3Qgd3NSZWYgPSB1c2VSZWY8V2ViU29ja2V0IHwgbnVsbD4obnVsbClcbiAgY29uc3QgY29ubmVjdGluZ1JlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSlcbiAgY29uc3QgW3dzRXZlbnRzLCBzZXRXc0V2ZW50c10gPSB1c2VTdGF0ZTxXU0V2ZW50TG9nW10+KFtdKVxuICBjb25zdCBbd3NVcmwsIHNldFdzVXJsXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpXG4gIGNvbnN0IHNob3VsZFJlY29ubmVjdFJlZiA9IHVzZVJlZjxib29sZWFuPih0cnVlKSAvLyBDb250cm9sIHJlY29ubmVjdGlvblxuICBjb25zdCByZWNvbm5lY3RBdHRlbXB0UmVmID0gdXNlUmVmPG51bWJlcj4oMClcbiAgY29uc3Qgcm9vbUNoYW5uZWxSZWYgPSB1c2VSZWY8YW55PihudWxsKSAvLyBUcmFjayByb29tIGNoYW5uZWwgdG8gcHJldmVudCBkdXBsaWNhdGUgc3Vic2NyaXB0aW9uc1xuICBjb25zdCBwbGF5ZXJzQ2hhbm5lbFJlZiA9IHVzZVJlZjxhbnk+KG51bGwpIC8vIFRyYWNrIHBsYXllcnMgY2hhbm5lbCB0byBwcmV2ZW50IGR1cGxpY2F0ZSBzdWJzY3JpcHRpb25zXG4gIGNvbnN0IGlzU2V0dGluZ1VwQ2hhbm5lbHNSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpIC8vIFByZXZlbnQgY29uY3VycmVudCBjaGFubmVsIHNldHVwXG4gIFxuICAvLyBHYW1lIHN0YXRlIGZyb20gV1NcbiAgY29uc3QgW3Jvb21TdGF0ZVBsYXllcnMsIHNldFJvb21TdGF0ZVBsYXllcnNdID0gdXNlU3RhdGU8QXJyYXk8e3BsYXllcklkOiBzdHJpbmcsIGlzUmVhZHk6IGJvb2xlYW59Pj4oW10pXG4gIGNvbnN0IFtyb3VuZFN0YXJ0LCBzZXRSb3VuZFN0YXJ0XSA9IHVzZVN0YXRlPHtyb29tSWQ6IHN0cmluZywgc3RhcnRlZEF0OiBzdHJpbmd9IHwgbnVsbD4obnVsbClcbiAgXG4gIC8vIERFQUxUIHN0YXRlXG4gIGNvbnN0IFt5b3VySGFuZCwgc2V0WW91ckhhbmRdID0gdXNlU3RhdGU8Q2FyZFtdIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2hhbmRPcmRlciwgc2V0SGFuZE9yZGVyXSA9IHVzZVN0YXRlPG51bWJlcltdPihbXSkgLy8gQ3VzdG9tIG9yZGVyIGluZGljZXNcbiAgY29uc3QgW19wZW5kaW5nUGxheUNhcmRzLCBzZXRQZW5kaW5nUGxheUNhcmRzXSA9IHVzZVN0YXRlPENhcmRbXSB8IG51bGw+KG51bGwpIC8vIENhcmRzIHdlJ3JlIHRyeWluZyB0byBwbGF5IChmb3IgZXJyb3IgcmVjb3ZlcnkpIC0gc3RhdGUgZm9yIHNldHRlciwgcmVmIGZvciByZWFkaW5nXG4gIGNvbnN0IHBlbmRpbmdQbGF5Q2FyZHNSZWYgPSB1c2VSZWY8Q2FyZFtdIHwgbnVsbD4obnVsbCkgLy8gUmVmIHRvIGFjY2VzcyBjdXJyZW50IHBlbmRpbmcgY2FyZHMgaW4gbWVzc2FnZSBoYW5kbGVyc1xuICBjb25zdCBbX3N0YXJ0ZXJQbGF5ZXJJZCwgc2V0U3RhcnRlclBsYXllcklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtfc3RhcnRlclJlYXNvbiwgc2V0U3RhcnRlclJlYXNvbl0gPSB1c2VTdGF0ZTxcIldJTk5FUlwiIHwgXCJXRUFLRVNUX1NJTkdMRVwiIHwgc3RyaW5nIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3NlYXRlZFBsYXllcklkcywgc2V0U2VhdGVkUGxheWVySWRzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSlcbiAgY29uc3QgW3F1ZXVlUGxheWVySWRzLCBzZXRRdWV1ZVBsYXllcklkc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pXG4gIFxuICAvLyBHYW1lIHN0YXRlXG4gIGNvbnN0IFtzZWxlY3RlZENhcmRzLCBzZXRTZWxlY3RlZENhcmRzXSA9IHVzZVN0YXRlPENhcmRbXT4oW10pXG4gIGNvbnN0IFtjdXJyZW50VHVyblBsYXllcklkLCBzZXRDdXJyZW50VHVyblBsYXllcklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtsYXN0UGxheSwgc2V0TGFzdFBsYXldID0gdXNlU3RhdGU8e3BsYXllcklkOiBzdHJpbmcsIGNhcmRzOiBDYXJkW10sIGtpbmQ/OiBzdHJpbmcsIGZpdmVLaW5kPzogc3RyaW5nfSB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtoYW5kc0NvdW50LCBzZXRIYW5kc0NvdW50XSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KVxuICBjb25zdCBbYWN0aW9uRXJyb3IsIHNldEFjdGlvbkVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtfY2FuUGFzcywgc2V0Q2FuUGFzc10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSkgLy8gTGVnYWN5LCBrZXB0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IChzZXJ2ZXIgbWF5IHN0aWxsIHNlbmQgaXQsIGJ1dCBQQVNTIGJ1dHRvbiB1c2VzIGxhc3RQbGF5IGluc3RlYWQpXG4gIGNvbnN0IFtwYXNzZWRQbGF5ZXJJZHMsIHNldFBhc3NlZFBsYXllcklkc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pXG4gIGNvbnN0IFtyb3VuZEVuZCwgc2V0Um91bmRFbmRdID0gdXNlU3RhdGU8e3dpbm5lclBsYXllcklkOiBzdHJpbmd9IHwgbnVsbD4obnVsbClcbiAgXG4gIC8vIFJ1bGVzIGFuZCBzY29yaW5nXG4gIGNvbnN0IFtzY29yZUxpbWl0LCBzZXRTY29yZUxpbWl0XSA9IHVzZVN0YXRlPG51bWJlcj4oNjApXG4gIGNvbnN0IFtfc2NvcmVib2FyZCwgc2V0U2NvcmVib2FyZF0gPSB1c2VTdGF0ZTx7cGxheWVySWQ6IHN0cmluZywgdG90YWxTY29yZTogbnVtYmVyLCBlbGltaW5hdGVkOiBib29sZWFufVtdPihbXSlcbiAgY29uc3QgW3Njb3JlTGltaXRJbnB1dCwgc2V0U2NvcmVMaW1pdElucHV0XSA9IHVzZVN0YXRlPG51bWJlcj4oNjApXG4gIGNvbnN0IFt0b3RhbFNjb3Jlcywgc2V0VG90YWxTY29yZXNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgbnVtYmVyPj4oe30pXG4gIGNvbnN0IFtlbGltaW5hdGVkLCBzZXRFbGltaW5hdGVkXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSlcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGRpc3BsYXkgbmFtZSBmb3IgYSBwbGF5ZXJcbiAgY29uc3QgZ2V0UGxheWVyRGlzcGxheU5hbWUgPSB1c2VDYWxsYmFjaygocGxheWVySWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgcGxheWVyID0gcGxheWVycy5maW5kKHAgPT4gcC5wbGF5ZXJfaWQgPT09IHBsYXllcklkKVxuICAgIGlmIChwbGF5ZXI/LnByb2ZpbGU/LmRpc3BsYXlfbmFtZSkge1xuICAgICAgcmV0dXJuIHBsYXllci5wcm9maWxlLmRpc3BsYXlfbmFtZVxuICAgIH1cbiAgICAvLyBGYWxsYmFjayB0byBzaG9ydCBJRCBpZiBubyBkaXNwbGF5X25hbWVcbiAgICByZXR1cm4gcGxheWVySWQubGVuZ3RoID4gOCA/IGAke3BsYXllcklkLnN1YnN0cmluZygwLCA4KX0uLi5gIDogcGxheWVySWRcbiAgfSwgW3BsYXllcnNdKVxuXG4gIC8vIENyZWF0ZSBwbGF5ZXIgbmFtZSBtYXAgZm9yIHBhc3NpbmcgdG8gY29tcG9uZW50c1xuICBjb25zdCBwbGF5ZXJOYW1lTWFwID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge31cbiAgICBwbGF5ZXJzLmZvckVhY2goKHApID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBwLnByb2ZpbGU/LmRpc3BsYXlfbmFtZSB8fCAnJ1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgbWFwW3AucGxheWVyX2lkXSA9IG5hbWVcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBtYXBcbiAgfSwgW3BsYXllcnNdKVxuXG4gIC8vIENyZWF0ZSBwbGF5ZXIgYXZhdGFyIG1hcCBmb3IgcGFzc2luZyB0byBjb21wb25lbnRzXG4gIGNvbnN0IHBsYXllckF2YXRhck1hcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVsbD4gPSB7fVxuICAgIHBsYXllcnMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgaWYgKHAucHJvZmlsZT8uYXZhdGFyX3VybCkge1xuICAgICAgICBtYXBbcC5wbGF5ZXJfaWRdID0gcC5wcm9maWxlLmF2YXRhcl91cmxcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBtYXBcbiAgfSwgW3BsYXllcnNdKVxuXG4gIC8vIEF1dG8tY29ubmVjdCBmdW5jdGlvbjogY29ubmVjdHMgdG8gV1MgaWYgcm9vbSBzdGF0dXMgaXMgXCJwbGF5aW5nXCJcbiAgY29uc3QgY29ubmVjdElmUGxheWluZyA9IHVzZUNhbGxiYWNrKGFzeW5jIChyb29tU3RhdHVzOiBzdHJpbmcsIHJvb21JZFRvQ29ubmVjdDogc3RyaW5nKSA9PiB7XG4gICAgLy8gSWYgcm9vbVN0YXR1cyAhPT0gXCJwbGF5aW5nXCIsIGRvIG5vdGhpbmdcbiAgICBpZiAocm9vbVN0YXR1cyAhPT0gJ3BsYXlpbmcnKSB7XG4gICAgICBzaG91bGRSZWNvbm5lY3RSZWYuY3VycmVudCA9IGZhbHNlIC8vIFN0b3AgcmVjb25uZWN0aW5nIGlmIHJvb20gbm90IHBsYXlpbmdcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBcbiAgICAvLyBFbmFibGUgcmVjb25uZWN0aW9uIHdoZW4gY29ubmVjdGluZ1xuICAgIHNob3VsZFJlY29ubmVjdFJlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgLy8gSWYgYWxyZWFkeSBjb25uZWN0ZWQgb3IgY29ubmVjdGluZywgZG8gbm90aGluZ1xuICAgIGlmICh3c1JlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCByZWFkeVN0YXRlID0gd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlXG4gICAgICBpZiAocmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgbG9nKCdbQXV0b0Nvbm5lY3RdIEFscmVhZHkgY29ubmVjdGVkLCBza2lwcGluZycpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKHJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSB7XG4gICAgICAgIGxvZygnW0F1dG9Db25uZWN0XSBBbHJlYWR5IGNvbm5lY3RpbmcsIHNraXBwaW5nJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvLyBJZiBjbG9zaW5nIG9yIGNsb3NlZCwgY2xlYW4gdXAgZmlyc3RcbiAgICAgIGlmIChyZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0lORyB8fCByZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0VEKSB7XG4gICAgICAgIHdzUmVmLmN1cnJlbnQuY2xvc2UoKVxuICAgICAgICB3c1JlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb25uZWN0aW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgIGxvZygnW0F1dG9Db25uZWN0XSBDb25uZWN0aW9uIGluIHByb2dyZXNzIChmbGFnKSwgc2tpcHBpbmcnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbG9nKCdbQXV0b0Nvbm5lY3RdIHJvb20uc3RhdHVzIGlzIHBsYXlpbmcnKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBTdXBhYmFzZSBzZXNzaW9uXG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKVxuICAgICAgY29uc3QgaGFzVG9rZW4gPSAhIXNlc3Npb24/LmFjY2Vzc190b2tlblxuICAgICAgbG9nKCdbQXV0b0Nvbm5lY3RdIHRva2VuIHByZXNlbnQ/JywgaGFzVG9rZW4pXG5cbiAgICAgIGlmICghc2Vzc2lvbj8uYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIGxvZygnW0F1dG9Db25uZWN0XSBObyBhY2Nlc3MgdG9rZW4gYXZhaWxhYmxlJylcbiAgICAgICAgc2V0V3NFcnJvcignTm8gYWNjZXNzIHRva2VuIGF2YWlsYWJsZScpXG4gICAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBsb2coJ1tBdXRvQ29ubmVjdF0gY3JlYXRpbmcgV1MnKVxuICAgICAgXG4gICAgICAvLyBDb25uZWN0IHRvIFdTIHVzaW5nIGdhbWVTb2NrZXQgaGVscGVyXG4gICAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgICBzZXRXc1N0YXR1cygnY29ubmVjdGluZycpXG4gICAgICBzZXRXc0Vycm9yKG51bGwpXG5cbiAgICAgIC8vIEdldCBXUyBVUkwgZm9yIGRpc3BsYXlcbiAgICAgIGNvbnN0IHdzVXJsRW52ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR0FNRV9TRVJWRVJfV1NfVVJMIHx8IHByb2Nlc3MuZW52LlZJVEVfR0FNRV9TRVJWRVJfV1NfVVJMIHx8ICdub3Qgc2V0J1xuICAgICAgc2V0V3NVcmwod3NVcmxFbnYpXG5cbiAgICAgIGNvbnN0IHdzID0gY29ubmVjdEdhbWVTb2NrZXREZWJ1ZyhcbiAgICAgICAgcm9vbUlkVG9Db25uZWN0LFxuICAgICAgICBzZXNzaW9uLmFjY2Vzc190b2tlbixcbiAgICAgICAgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICBsb2coXCJbV1NdIG1lc3NhZ2UgaGFuZGxlciByZWNlaXZlZFwiLCBtZXNzYWdlLnR5cGUpXG4gICAgICAgICAgLy8gSGFuZGxlIGluY29taW5nIG1lc3NhZ2VzIChvbmx5IHN0b3JlIGluIGRldiBmb3IgZGVidWcgVUkpXG4gICAgICAgICAgaWYgKGlzRGV2KSB7XG4gICAgICAgICAgICBzZXRXc01lc3NhZ2VzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gW21lc3NhZ2UsIC4uLnByZXZdLnNsaWNlKDAsIDIwKVxuICAgICAgICAgICAgICByZXR1cm4gbmV3TWVzc2FnZXNcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSGFuZGxlIEVSUk9SIG1lc3NhZ2VzIGZyb20gc2VydmVyXG4gICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ0VSUk9SJykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBtZXNzYWdlLmVycm9yIHx8IG1lc3NhZ2UubWVzc2FnZSB8fCAnU2VydmVyIGVycm9yJ1xuICAgICAgICAgICAgbG9nRXJyb3IoJ1tXU10gU2VydmVyIEVSUk9SOicsIGVycm9yTXNnKVxuICAgICAgICAgICAgc2V0V3NFcnJvcihlcnJvck1zZylcbiAgICAgICAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpXG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdXRUxDT01FJykge1xuICAgICAgICAgICAgbG9nKCdbV1NdIFJlY2VpdmVkIFdFTENPTUUnKVxuICAgICAgICAgICAgbG9nKCdbQXV0b0Nvbm5lY3RdIFdTIGNvbm5lY3RlZCBiZWNhdXNlIHJvb20gaXMgcGxheWluZycpXG4gICAgICAgICAgICBzZXRXc1N0YXR1cygnY29ubmVjdGVkJylcbiAgICAgICAgICAgIHNldFdzRXJyb3IobnVsbClcbiAgICAgICAgICAgIGNvbm5lY3RpbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgICAgICByZWNvbm5lY3RBdHRlbXB0UmVmLmN1cnJlbnQgPSAwXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNlbmQgU1lOQ19SRVFVRVNUIGFmdGVyIFdFTENPTUVcbiAgICAgICAgICAgIC8vIFVzZSByb29tSWRUb0Nvbm5lY3QgdG8gZW5zdXJlIHdlIGhhdmUgdGhlIGNvcnJlY3Qgcm9vbUlkIGZyb20gdGhlIGZ1bmN0aW9uIHBhcmFtZXRlclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb29tSWQgPSByb29tSWRUb0Nvbm5lY3QgfHwgcm9vbUlkXG4gICAgICAgICAgICAgIGlmICh3c1JlZi5jdXJyZW50ICYmIHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gJiYgY3VycmVudFJvb21JZCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSByb29tSWQgYmVmb3JlIHNlbmRpbmdcbiAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudFJvb21JZCB8fCB0eXBlb2YgY3VycmVudFJvb21JZCAhPT0gJ3N0cmluZycgfHwgY3VycmVudFJvb21JZC50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIENhbm5vdCBzZW5kIFNZTkNfUkVRVUVTVDogSW52YWxpZCByb29tSWQnLCB7IFxuICAgICAgICAgICAgICAgICAgICAgIHJvb21JZDogY3VycmVudFJvb21JZCwgXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZW9mIGN1cnJlbnRSb29tSWQsXG4gICAgICAgICAgICAgICAgICAgICAgZnJvbVBhcmFtczogcm9vbUlkLFxuICAgICAgICAgICAgICAgICAgICAgIGZyb21Db25uZWN0OiByb29tSWRUb0Nvbm5lY3RcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN5bmNNZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnU1lOQ19SRVFVRVNUJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiBjdXJyZW50Um9vbUlkLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGxvZygnW1dTXSBTZW5kaW5nIFNZTkNfUkVRVUVTVDonLCBzeW5jTWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShzeW5jTWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgIGxvZygnW1dTXSBTWU5DX1JFUVVFU1QgSlNPTjonLCBtZXNzYWdlU3RyaW5nKVxuICAgICAgICAgICAgICAgICAgd3NSZWYuY3VycmVudC5zZW5kKG1lc3NhZ2VTdHJpbmcpXG4gICAgICAgICAgICAgICAgICBsb2coJ1tXU10gU1lOQ19SRVFVRVNUIHNlbnQnKVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgbG9nRXJyb3IoJ1tXU10gRmFpbGVkIHRvIHNlbmQgU1lOQ19SRVFVRVNUOicsIGVycilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoJ1tXU10gQ2Fubm90IHNlbmQgU1lOQ19SRVFVRVNUOicsIHtcbiAgICAgICAgICAgICAgICAgIHdzUmVhZHk6IHdzUmVmLmN1cnJlbnQ/LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOLFxuICAgICAgICAgICAgICAgICAgcm9vbUlkOiBjdXJyZW50Um9vbUlkLFxuICAgICAgICAgICAgICAgICAgcm9vbUlkRnJvbVBhcmFtczogcm9vbUlkLFxuICAgICAgICAgICAgICAgICAgcm9vbUlkRnJvbUNvbm5lY3Q6IHJvb21JZFRvQ29ubmVjdCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDApIC8vIFNtYWxsIGRlbGF5IHRvIGVuc3VyZSBjb25uZWN0aW9uIGlzIHN0YWJsZVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnU1RBVEUnKSB7XG4gICAgICAgICAgICBsb2coJ1tXU10gUmVjZWl2ZWQgU1RBVEUnKVxuICAgICAgICAgICAgbG9nKCdbQXV0b0Nvbm5lY3RdIFdTIGNvbm5lY3RlZCBiZWNhdXNlIHJvb20gaXMgcGxheWluZycpXG4gICAgICAgICAgICBzZXRXc1N0YXR1cygnY29ubmVjdGVkJylcbiAgICAgICAgICAgIHNldFdzRXJyb3IobnVsbClcbiAgICAgICAgICAgIGNvbm5lY3RpbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgICAgICByZWNvbm5lY3RBdHRlbXB0UmVmLmN1cnJlbnQgPSAwXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFsc28gc2VuZCBTWU5DX1JFUVVFU1QgYWZ0ZXIgU1RBVEUgKGluIGNhc2UgV0VMQ09NRSB3YXMgbWlzc2VkKVxuICAgICAgICAgICAgLy8gVXNlIHJvb21JZFRvQ29ubmVjdCB0byBlbnN1cmUgd2UgaGF2ZSB0aGUgY29ycmVjdCByb29tSWQgZnJvbSB0aGUgZnVuY3Rpb24gcGFyYW1ldGVyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY3VycmVudFJvb21JZCA9IHJvb21JZFRvQ29ubmVjdCB8fCByb29tSWRcbiAgICAgICAgICAgICAgaWYgKHdzUmVmLmN1cnJlbnQgJiYgd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiAmJiBjdXJyZW50Um9vbUlkKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHJvb21JZCBiZWZvcmUgc2VuZGluZ1xuICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Um9vbUlkIHx8IHR5cGVvZiBjdXJyZW50Um9vbUlkICE9PSAnc3RyaW5nJyB8fCBjdXJyZW50Um9vbUlkLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXJyb3IoJ1tXU10gQ2Fubm90IHNlbmQgU1lOQ19SRVFVRVNUIChhZnRlciBTVEFURSk6IEludmFsaWQgcm9vbUlkJywgeyBcbiAgICAgICAgICAgICAgICAgICAgICByb29tSWQ6IGN1cnJlbnRSb29tSWQsIFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVvZiBjdXJyZW50Um9vbUlkLFxuICAgICAgICAgICAgICAgICAgICAgIGZyb21QYXJhbXM6IHJvb21JZCxcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tQ29ubmVjdDogcm9vbUlkVG9Db25uZWN0XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBjb25zdCBzeW5jTWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1NZTkNfUkVRVUVTVCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICAgIHJvb21JZDogY3VycmVudFJvb21JZC50cmltKCksXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBsb2coJ1tXU10gU2VuZGluZyBTWU5DX1JFUVVFU1QgKGFmdGVyIFNUQVRFKTonLCBzeW5jTWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShzeW5jTWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgIGxvZygnW1dTXSBTWU5DX1JFUVVFU1QgSlNPTiAoYWZ0ZXIgU1RBVEUpOicsIG1lc3NhZ2VTdHJpbmcpXG4gICAgICAgICAgICAgICAgICB3c1JlZi5jdXJyZW50LnNlbmQobWVzc2FnZVN0cmluZylcbiAgICAgICAgICAgICAgICAgIGxvZygnW1dTXSBTWU5DX1JFUVVFU1Qgc2VudCAoYWZ0ZXIgU1RBVEUpJylcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIEZhaWxlZCB0byBzZW5kIFNZTkNfUkVRVUVTVDonLCBlcnIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIENhbm5vdCBzZW5kIFNZTkNfUkVRVUVTVCAoYWZ0ZXIgU1RBVEUpOicsIHtcbiAgICAgICAgICAgICAgICAgIHdzUmVhZHk6IHdzUmVmLmN1cnJlbnQ/LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOLFxuICAgICAgICAgICAgICAgICAgcm9vbUlkOiBjdXJyZW50Um9vbUlkLFxuICAgICAgICAgICAgICAgICAgcm9vbUlkRnJvbVBhcmFtczogcm9vbUlkLFxuICAgICAgICAgICAgICAgICAgcm9vbUlkRnJvbUNvbm5lY3Q6IHJvb21JZFRvQ29ubmVjdCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDApXG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdTWU5DX1NUQVRFJykge1xuICAgICAgICAgICAgbG9nKCdbV1NdIFJlY2VpdmVkIFNZTkNfU1RBVEUnKVxuICAgICAgICAgICAgLy8gQ2xlYXIgYW55IHBlbmRpbmcgcGxheSBjYXJkcyAoc3RhdGUgc3luY2VkIGZyb20gc2VydmVyKVxuICAgICAgICAgICAgc2V0UGVuZGluZ1BsYXlDYXJkcyhudWxsKVxuICAgICAgICAgICAgcGVuZGluZ1BsYXlDYXJkc1JlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgICAgLy8gQXBwbHkgU1lOQ19TVEFURSAtIG92ZXJ3cml0ZSBhbGwgcmVsZXZhbnQgc3RhdGUgKGRvIE5PVCBtZXJnZSlcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnNlYXRlZFBsYXllcklkcyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2Uuc2VhdGVkUGxheWVySWRzKSkge1xuICAgICAgICAgICAgICBzZXRTZWF0ZWRQbGF5ZXJJZHMobWVzc2FnZS5zZWF0ZWRQbGF5ZXJJZHMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5xdWV1ZVBsYXllcklkcyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UucXVldWVQbGF5ZXJJZHMpKSB7XG4gICAgICAgICAgICAgIHNldFF1ZXVlUGxheWVySWRzKG1lc3NhZ2UucXVldWVQbGF5ZXJJZHMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50VHVyblBsYXllcklkKSB7XG4gICAgICAgICAgICAgIHNldEN1cnJlbnRUdXJuUGxheWVySWQobWVzc2FnZS5jdXJyZW50VHVyblBsYXllcklkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGFzdFBsYXkpIHtcbiAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZExhc3RQbGF5ID0ge1xuICAgICAgICAgICAgICAgIHBsYXllcklkOiBtZXNzYWdlLmxhc3RQbGF5LnBsYXllcklkLFxuICAgICAgICAgICAgICAgIGNhcmRzOiBBcnJheS5pc0FycmF5KG1lc3NhZ2UubGFzdFBsYXkuY2FyZHMpIFxuICAgICAgICAgICAgICAgICAgPyBtZXNzYWdlLmxhc3RQbGF5LmNhcmRzLm1hcCgoY2FyZDogYW55KSA9PiBub3JtYWxpemVDYXJkKGNhcmQpKVxuICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgICAgICBraW5kOiBtZXNzYWdlLmxhc3RQbGF5LmtpbmQsXG4gICAgICAgICAgICAgICAgZml2ZUtpbmQ6IG1lc3NhZ2UubGFzdFBsYXkuZml2ZUtpbmRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRMYXN0UGxheShub3JtYWxpemVkTGFzdFBsYXkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRMYXN0UGxheShudWxsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaGFuZHNDb3VudCAmJiB0eXBlb2YgbWVzc2FnZS5oYW5kc0NvdW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBzZXRIYW5kc0NvdW50KG1lc3NhZ2UuaGFuZHNDb3VudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnRvdGFsU2NvcmVzICYmIHR5cGVvZiBtZXNzYWdlLnRvdGFsU2NvcmVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBjb25zdCBzY29yZXNNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fVxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtwbGF5ZXJJZCwgc2NvcmVdIG9mIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UudG90YWxTY29yZXMpKSB7XG4gICAgICAgICAgICAgICAgc2NvcmVzTWFwW3BsYXllcklkXSA9IHR5cGVvZiBzY29yZSA9PT0gJ251bWJlcicgPyBzY29yZSA6IDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRUb3RhbFNjb3JlcyhzY29yZXNNYXApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5lbGltaW5hdGVkICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS5lbGltaW5hdGVkKSkge1xuICAgICAgICAgICAgICBzZXRFbGltaW5hdGVkKG1lc3NhZ2UuZWxpbWluYXRlZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnlvdXJIYW5kICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS55b3VySGFuZCkpIHtcbiAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEhhbmQgPSBtZXNzYWdlLnlvdXJIYW5kLm1hcCgoY2FyZDogYW55KSA9PiBub3JtYWxpemVDYXJkKGNhcmQpKVxuICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRIYW5kID0gc29ydENhcmRzKG5vcm1hbGl6ZWRIYW5kKVxuICAgICAgICAgICAgICBzZXRZb3VySGFuZChzb3J0ZWRIYW5kKVxuICAgICAgICAgICAgICBzZXRIYW5kT3JkZXIoW10pIC8vIFJlc2V0IGN1c3RvbSBvcmRlciB3aGVuIG5ldyBoYW5kIGlzIHJlY2VpdmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2Uuc2NvcmVMaW1pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgc2V0U2NvcmVMaW1pdChtZXNzYWdlLnNjb3JlTGltaXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdST09NX1NUQVRFJykge1xuICAgICAgICAgICAgbG9nKCdbV1NdIFJlY2VpdmVkIFJPT01fU1RBVEUnKVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGxheWVycyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UucGxheWVycykpIHtcbiAgICAgICAgICAgICAgc2V0Um9vbVN0YXRlUGxheWVycyhtZXNzYWdlLnBsYXllcnMpXG4gICAgICAgICAgICAgIC8vIEZldGNoIHByb2ZpbGVzIGZvciBhbnkgbmV3IHBsYXllcnMgdGhhdCBkb24ndCBoYXZlIHByb2ZpbGVzIHlldFxuICAgICAgICAgICAgICAvLyBVc2UgZnVuY3Rpb25hbCB1cGRhdGUgdG8gYWNjZXNzIGN1cnJlbnQgcGxheWVycyBzdGF0ZVxuICAgICAgICAgICAgICBzZXRQbGF5ZXJzKGN1cnJlbnRQbGF5ZXJzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQbGF5ZXJJZHMgPSBtZXNzYWdlLnBsYXllcnMubWFwKChwOiBhbnkpID0+IHAucGxheWVySWQpXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdQbGF5ZXJJZHMgPSBuZXcgU2V0KGN1cnJlbnRQbGF5ZXJzLm1hcChwID0+IHAucGxheWVyX2lkKSlcbiAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nUGxheWVySWRzID0gbmV3UGxheWVySWRzLmZpbHRlcigoaWQ6IHN0cmluZykgPT4gIWV4aXN0aW5nUGxheWVySWRzLmhhcyhpZCkpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG1pc3NpbmdQbGF5ZXJJZHMubGVuZ3RoID4gMCAmJiByb29tSWQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZldGNoIHByb2ZpbGVzIGZvciBtaXNzaW5nIHBsYXllcnMgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgICAgICBtaXNzaW5nUGxheWVySWRzLm1hcChhc3luYyAocGxheWVySWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3QoJ2lkLCBkaXNwbGF5X25hbWUsIGF2YXRhcl91cmwnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuZXEoJ2lkJywgcGxheWVySWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5zaW5nbGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcGxheWVycyBzdGF0ZSB3aXRoIG5ldyBwcm9maWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQbGF5ZXJzKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcHJldi5maW5kKHAgPT4gcC5wbGF5ZXJfaWQgPT09IHBsYXllcklkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXYubWFwKHAgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAucGxheWVyX2lkID09PSBwbGF5ZXJJZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgLi4ucCwgcHJvZmlsZTogcHJvZmlsZSBhcyBQcm9maWxlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcGxheWVyIGRvZXNuJ3QgZXhpc3QgaW4gcGxheWVycyBsaXN0LCBhZGQgdGhlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4ucHJldiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2lkOiBwbGF5ZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21faWQ6IHJvb21JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3JlYWR5OiBtZXNzYWdlLnBsYXllcnMuZmluZCgocDogYW55KSA9PiBwLnBsYXllcklkID09PSBwbGF5ZXJJZCk/LmlzUmVhZHkgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0X2F0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbmVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsIC8vIFdpbGwgYmUgc2V0IGJ5IFN1cGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlOiBwcm9maWxlIGFzIFByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBQbGF5ZXJXaXRoUHJvZmlsZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBmZXRjaCBwcm9maWxlIGZvciBwbGF5ZXIgJHtwbGF5ZXJJZH06YCwgZXJyKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignRmFpbGVkIHRvIGZldGNoIHByb2ZpbGVzIGZvciBuZXcgcGxheWVyczonLCBlcnIpXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFBsYXllcnMgLy8gUmV0dXJuIGN1cnJlbnQgc3RhdGUsIHVwZGF0ZXMgd2lsbCBoYXBwZW4gdmlhIHNldFBsYXllcnMgaW4gUHJvbWlzZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnUk9VTkRfU1RBUlQnKSB7XG4gICAgICAgICAgICBsb2coJ1tXU10gUmVjZWl2ZWQgUk9VTkRfU1RBUlQnKVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2Uucm9vbUlkICYmIG1lc3NhZ2Uuc3RhcnRlZEF0KSB7XG4gICAgICAgICAgICAgIHNldFJvdW5kU3RhcnQoeyByb29tSWQ6IG1lc3NhZ2Uucm9vbUlkLCBzdGFydGVkQXQ6IG1lc3NhZ2Uuc3RhcnRlZEF0IH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdSVUxFUycpIHtcbiAgICAgICAgICAgIGxvZygnW1dTXSBSZWNlaXZlZCBSVUxFUycpXG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2Uuc2NvcmVMaW1pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgc2V0U2NvcmVMaW1pdChtZXNzYWdlLnNjb3JlTGltaXQpXG4gICAgICAgICAgICAgIHNldFNjb3JlTGltaXRJbnB1dChtZXNzYWdlLnNjb3JlTGltaXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdTQ09SRV9VUERBVEUnKSB7XG4gICAgICAgICAgICBsb2coJ1tXU10gUmVjZWl2ZWQgU0NPUkVfVVBEQVRFJylcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnRvdGFsU2NvcmVzICYmIHR5cGVvZiBtZXNzYWdlLnRvdGFsU2NvcmVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBjb25zdCBzY29yZXM6IHtwbGF5ZXJJZDogc3RyaW5nLCB0b3RhbFNjb3JlOiBudW1iZXIsIGVsaW1pbmF0ZWQ6IGJvb2xlYW59W10gPSBbXVxuICAgICAgICAgICAgICBjb25zdCBzY29yZXNNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fVxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtwbGF5ZXJJZCwgc2NvcmVdIG9mIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UudG90YWxTY29yZXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVWYWx1ZSA9IHR5cGVvZiBzY29yZSA9PT0gJ251bWJlcicgPyBzY29yZSA6IDBcbiAgICAgICAgICAgICAgICBzY29yZXNNYXBbcGxheWVySWRdID0gc2NvcmVWYWx1ZVxuICAgICAgICAgICAgICAgIHNjb3Jlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHBsYXllcklkLFxuICAgICAgICAgICAgICAgICAgdG90YWxTY29yZTogc2NvcmVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgIGVsaW1pbmF0ZWQ6IG1lc3NhZ2UuZWxpbWluYXRlZCAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UuZWxpbWluYXRlZCkgXG4gICAgICAgICAgICAgICAgICAgID8gbWVzc2FnZS5lbGltaW5hdGVkLmluY2x1ZGVzKHBsYXllcklkKVxuICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRUb3RhbFNjb3JlcyhzY29yZXNNYXApXG4gICAgICAgICAgICAgIHNldFNjb3JlYm9hcmQoc2NvcmVzKVxuICAgICAgICAgICAgICBpZiAobWVzc2FnZS5lbGltaW5hdGVkICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS5lbGltaW5hdGVkKSkge1xuICAgICAgICAgICAgICAgIHNldEVsaW1pbmF0ZWQobWVzc2FnZS5lbGltaW5hdGVkKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdERUFMVCcpIHtcbiAgICAgICAgICAgIGxvZygnW1dTXSBSZWNlaXZlZCBERUFMVCcpXG4gICAgICAgICAgICAvLyBIaWRlIHJvdW5kIGVuZCBiYW5uZXIgd2hlbiBuZXcgaGFuZCBpcyBkZWFsdFxuICAgICAgICAgICAgc2V0Um91bmRFbmQobnVsbClcbiAgICAgICAgICAgIC8vIENsZWFyIGFueSBwZW5kaW5nIHBsYXkgY2FyZHMgKG5ldyBoYW5kIGRlYWx0KVxuICAgICAgICAgICAgc2V0UGVuZGluZ1BsYXlDYXJkcyhudWxsKVxuICAgICAgICAgICAgcGVuZGluZ1BsYXlDYXJkc1JlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UueW91ckhhbmQgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLnlvdXJIYW5kKSkge1xuICAgICAgICAgICAgICAvLyBOb3JtYWxpemUgY2FyZHMgdG8gaGFuZGxlIHZhcmlvdXMgZm9ybWF0cyAobnVtZXJpYywgc3ltYm9sLCBvciBjYW5vbmljYWwpXG4gICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRIYW5kID0gbWVzc2FnZS55b3VySGFuZC5tYXAoKGNhcmQ6IGFueSkgPT4gbm9ybWFsaXplQ2FyZChjYXJkKSlcbiAgICAgICAgICAgICAgY29uc3Qgc29ydGVkSGFuZCA9IHNvcnRDYXJkcyhub3JtYWxpemVkSGFuZClcbiAgICAgICAgICAgICAgc2V0WW91ckhhbmQoc29ydGVkSGFuZClcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkcyhbXSkgLy8gUmVzZXQgc2VsZWN0aW9uIHdoZW4gbmV3IGhhbmQgaXMgZGVhbHRcbiAgICAgICAgICAgICAgc2V0SGFuZE9yZGVyKFtdKSAvLyBSZXNldCBjdXN0b20gb3JkZXIgd2hlbiBuZXcgaGFuZCBpcyBkZWFsdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhcnRlclBsYXllcklkKSB7XG4gICAgICAgICAgICAgIHNldFN0YXJ0ZXJQbGF5ZXJJZChtZXNzYWdlLnN0YXJ0ZXJQbGF5ZXJJZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnJlYXNvbikge1xuICAgICAgICAgICAgICBzZXRTdGFydGVyUmVhc29uKG1lc3NhZ2UucmVhc29uKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc2VhdGVkUGxheWVySWRzICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS5zZWF0ZWRQbGF5ZXJJZHMpKSB7XG4gICAgICAgICAgICAgIHNldFNlYXRlZFBsYXllcklkcyhtZXNzYWdlLnNlYXRlZFBsYXllcklkcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ0dBTUVfU1RBVEUnKSB7XG4gICAgICAgICAgICBsb2coJ1tXU10gUmVjZWl2ZWQgR0FNRV9TVEFURScpXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50VHVyblBsYXllcklkKSB7XG4gICAgICAgICAgICAgIHNldEN1cnJlbnRUdXJuUGxheWVySWQobWVzc2FnZS5jdXJyZW50VHVyblBsYXllcklkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGFzdFBsYXkpIHtcbiAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZExhc3RQbGF5ID0ge1xuICAgICAgICAgICAgICAgIHBsYXllcklkOiBtZXNzYWdlLmxhc3RQbGF5LnBsYXllcklkLFxuICAgICAgICAgICAgICAgIGNhcmRzOiBBcnJheS5pc0FycmF5KG1lc3NhZ2UubGFzdFBsYXkuY2FyZHMpIFxuICAgICAgICAgICAgICAgICAgPyBtZXNzYWdlLmxhc3RQbGF5LmNhcmRzLm1hcCgoY2FyZDogYW55KSA9PiBub3JtYWxpemVDYXJkKGNhcmQpKVxuICAgICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgICAgICBraW5kOiBtZXNzYWdlLmxhc3RQbGF5LmtpbmQsIC8vIFNJTkdMRSwgUEFJUiwgU0VULCBGSVZFLCBldGMuXG4gICAgICAgICAgICAgICAgZml2ZUtpbmQ6IG1lc3NhZ2UubGFzdFBsYXkuZml2ZUtpbmQgLy8gU1RSQUlHSFQsIEZMVVNILCBGVUxMX0hPVVNFLCBGT1VSLCBTVFJBSUdIVF9GTFVTSFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldExhc3RQbGF5KG5vcm1hbGl6ZWRMYXN0UGxheSlcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIHBsYXkgKHN1Y2Nlc3NmdWwpLCBjbGVhciBwZW5kaW5nIGNhcmRzXG4gICAgICAgICAgICAgIGlmIChub3JtYWxpemVkTGFzdFBsYXkucGxheWVySWQgPT09IGN1cnJlbnRVc2VySWQgJiYgcGVuZGluZ1BsYXlDYXJkc1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgbG9nKCdbV1NdIFBsYXkgc3VjY2Vzc2Z1bCwgY2xlYXJpbmcgcGVuZGluZyBjYXJkcycpXG4gICAgICAgICAgICAgICAgc2V0UGVuZGluZ1BsYXlDYXJkcyhudWxsKVxuICAgICAgICAgICAgICAgIHBlbmRpbmdQbGF5Q2FyZHNSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0TGFzdFBsYXkobnVsbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENsZWFyIHNlbGVjdGlvbiBvbiBHQU1FX1NUQVRFIHVwZGF0ZSAodHVybiBjaGFuZ2UpXG4gICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRzKFtdKVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaGFuZHNDb3VudCAmJiB0eXBlb2YgbWVzc2FnZS5oYW5kc0NvdW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBzZXRIYW5kc0NvdW50KG1lc3NhZ2UuaGFuZHNDb3VudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5jYW5QYXNzID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgc2V0Q2FuUGFzcyhtZXNzYWdlLmNhblBhc3MpIC8vIExlZ2FjeSwga2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSAobm90IHVzZWQgZm9yIGJ1dHRvbiBsb2dpYylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSBwYXNzZWRQbGF5ZXJJZHMgaWYgcHJvdmlkZWQgYnkgc2VydmVyXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5wYXNzZWRQbGF5ZXJJZHMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLnBhc3NlZFBsYXllcklkcykpIHtcbiAgICAgICAgICAgICAgc2V0UGFzc2VkUGxheWVySWRzKG1lc3NhZ2UucGFzc2VkUGxheWVySWRzKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gUmVzZXQgaWYgbm90IHByb3ZpZGVkIChzZXJ2ZXIgbWF5IG9taXQgaXQgd2hlbiBubyBvbmUgaGFzIHBhc3NlZClcbiAgICAgICAgICAgICAgc2V0UGFzc2VkUGxheWVySWRzKFtdKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlIHF1ZXVlUGxheWVySWRzIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5xdWV1ZVBsYXllcklkcyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UucXVldWVQbGF5ZXJJZHMpKSB7XG4gICAgICAgICAgICAgIHNldFF1ZXVlUGxheWVySWRzKG1lc3NhZ2UucXVldWVQbGF5ZXJJZHMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIYW5kbGUgdG90YWxTY29yZXMgYW5kIGVsaW1pbmF0ZWQgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnRvdGFsU2NvcmVzICYmIHR5cGVvZiBtZXNzYWdlLnRvdGFsU2NvcmVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBjb25zdCBzY29yZXNNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fVxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtwbGF5ZXJJZCwgc2NvcmVdIG9mIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UudG90YWxTY29yZXMpKSB7XG4gICAgICAgICAgICAgICAgc2NvcmVzTWFwW3BsYXllcklkXSA9IHR5cGVvZiBzY29yZSA9PT0gJ251bWJlcicgPyBzY29yZSA6IDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRUb3RhbFNjb3JlcyhzY29yZXNNYXApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5lbGltaW5hdGVkICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS5lbGltaW5hdGVkKSkge1xuICAgICAgICAgICAgICBzZXRFbGltaW5hdGVkKG1lc3NhZ2UuZWxpbWluYXRlZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ0FDVElPTl9FUlJPUicpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gbWVzc2FnZS5lcnJvciB8fCBtZXNzYWdlLm1lc3NhZ2UgfHwgJ0FjdGlvbiBlcnJvcidcbiAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIFJlY2VpdmVkIEFDVElPTl9FUlJPUjonLCBlcnJvck1zZylcbiAgICAgICAgICAgIHNldEFjdGlvbkVycm9yKGVycm9yTXNnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZXN0b3JlIGNhcmRzIGlmIHdlIGhhZCBwZW5kaW5nIHBsYXkgY2FyZHMgKGVycm9yIHJlY292ZXJ5KVxuICAgICAgICAgICAgY29uc3QgcGVuZGluZ0NhcmRzID0gcGVuZGluZ1BsYXlDYXJkc1JlZi5jdXJyZW50XG4gICAgICAgICAgICBpZiAocGVuZGluZ0NhcmRzICYmIHBlbmRpbmdDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGxvZygnW1dTXSBSZXN0b3JpbmcgY2FyZHMgYWZ0ZXIgQUNUSU9OX0VSUk9SOicsIHBlbmRpbmdDYXJkcylcbiAgICAgICAgICAgICAgc2V0WW91ckhhbmQoKHByZXZIYW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmV2SGFuZCkgcmV0dXJuIHByZXZIYW5kXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQWRkIGJhY2sgdGhlIHBlbmRpbmcgY2FyZHNcbiAgICAgICAgICAgICAgICBjb25zdCByZXN0b3JlZEhhbmQgPSBbLi4ucHJldkhhbmQsIC4uLnBlbmRpbmdDYXJkc11cbiAgICAgICAgICAgICAgICByZXR1cm4gc29ydENhcmRzKHJlc3RvcmVkSGFuZClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlc2V0IGhhbmRPcmRlciBzaW5jZSB3ZSdyZSByZXN0b3JpbmcgY2FyZHNcbiAgICAgICAgICAgICAgc2V0SGFuZE9yZGVyKFtdKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2xlYXIgcGVuZGluZyBjYXJkc1xuICAgICAgICAgICAgICBzZXRQZW5kaW5nUGxheUNhcmRzKG51bGwpXG4gICAgICAgICAgICAgIHBlbmRpbmdQbGF5Q2FyZHNSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRG8gTk9UIGNsZWFyIHNlbGVjdGlvbiBvbiBlcnJvciAtIHVzZXIgbWF5IHdhbnQgdG8gYWRqdXN0XG4gICAgICAgICAgICAvLyBDbGVhciBlcnJvciBhZnRlciA1IHNlY29uZHNcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0QWN0aW9uRXJyb3IobnVsbCksIDUwMDApXG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdST1VORF9FTkQnKSB7XG4gICAgICAgICAgICBsb2coJ1tXU10gUmVjZWl2ZWQgUk9VTkRfRU5EJylcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLndpbm5lclBsYXllcklkKSB7XG4gICAgICAgICAgICAgIHNldFJvdW5kRW5kKHsgd2lubmVyUGxheWVySWQ6IG1lc3NhZ2Uud2lubmVyUGxheWVySWQgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ1dTX0VSUk9SJyB8fCBtZXNzYWdlLnR5cGUgPT09ICdQQVJTRV9FUlJPUicpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gbWVzc2FnZS5lcnJvciB8fCAnV2ViU29ja2V0IGVycm9yJ1xuICAgICAgICAgICAgbG9nRXJyb3IoJ1tXU10gQ2xpZW50IGVycm9yOicsIGVycm9yTXNnKVxuICAgICAgICAgICAgc2V0V3NFcnJvcihlcnJvck1zZylcbiAgICAgICAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpXG4gICAgICAgICAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnV1NfT1BFTl9USU1FT1VUJykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBtZXNzYWdlLmVycm9yIHx8ICdXZWJTb2NrZXQgb3BlbiB0aW1lb3V0J1xuICAgICAgICAgICAgbG9nRXJyb3IoJ1tXU10gT3BlbiB0aW1lb3V0OicsIGVycm9yTXNnKVxuICAgICAgICAgICAgc2V0V3NFcnJvcihlcnJvck1zZylcbiAgICAgICAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpXG4gICAgICAgICAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKGNvZGUsIHJlYXNvbiwgd2FzQ2xlYW4pID0+IHtcbiAgICAgICAgICAvLyBPbiBjbG9zZSAtIGhhbmRsZSByZWNvbm5lY3Rpb24gYXQgUm9vbVBhZ2UgbGV2ZWxcbiAgICAgICAgICBsb2coYFtXU10gY2xvc2UgaGFuZGxlcjogY29kZT0ke2NvZGV9LCByZWFzb249JHtyZWFzb259LCB3YXNDbGVhbj0ke3dhc0NsZWFufWApXG4gICAgICAgICAgXG4gICAgICAgICAgd3NSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIE9ubHkgYXR0ZW1wdCByZWNvbm5lY3QgaWYgaXQgd2Fzbid0IGEgbWFudWFsIGNsb3NlIGFuZCByb29tIGlzIHN0aWxsIHBsYXlpbmdcbiAgICAgICAgICBpZiAoc2hvdWxkUmVjb25uZWN0UmVmLmN1cnJlbnQgJiYgcm9vbT8uc3RhdHVzID09PSAncGxheWluZycgJiYgIXdhc0NsZWFuKSB7XG4gICAgICAgICAgICAvLyBTdGFydCByZWNvbm5lY3Rpb24gd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICBjb25zdCByZWNvbm5lY3REZWxheXMgPSBbNTAwLCAxMDAwLCAyMDAwLCA0MDAwLCA4MDAwXVxuICAgICAgICAgICAgY29uc3QgbWF4QXR0ZW1wdHMgPSAxMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBhdHRlbXB0UmVjb25uZWN0ID0gYXN5bmMgKGF0dGVtcHQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXNob3VsZFJlY29ubmVjdFJlZi5jdXJyZW50IHx8IHJvb20/LnN0YXR1cyAhPT0gJ3BsYXlpbmcnKSB7XG4gICAgICAgICAgICAgICAgc2V0V3NTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChhdHRlbXB0ID4gbWF4QXR0ZW1wdHMpIHtcbiAgICAgICAgICAgICAgICBzZXRXc1N0YXR1cygnZGlzY29ubmVjdGVkJylcbiAgICAgICAgICAgICAgICBzZXRXc0Vycm9yKCdGYWlsZWQgdG8gcmVjb25uZWN0IGFmdGVyIDEwIGF0dGVtcHRzJylcbiAgICAgICAgICAgICAgICBsb2coJ1tSZWNvbm5lY3RdIE1heCBhdHRlbXB0cyByZWFjaGVkLCBnaXZpbmcgdXAnKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBkZWxheUluZGV4ID0gTWF0aC5taW4oYXR0ZW1wdCAtIDEsIHJlY29ubmVjdERlbGF5cy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICBjb25zdCBkZWxheSA9IHJlY29ubmVjdERlbGF5c1tkZWxheUluZGV4XVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgcmVjb25uZWN0QXR0ZW1wdFJlZi5jdXJyZW50ID0gYXR0ZW1wdFxuICAgICAgICAgICAgICBzZXRXc1N0YXR1cygncmVjb25uZWN0aW5nJylcbiAgICAgICAgICAgICAgbG9nKGBbUmVjb25uZWN0XSBBdHRlbXB0ICR7YXR0ZW1wdH0gaW4gJHtkZWxheX1tc2ApXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFJlY29ubmVjdFJlZi5jdXJyZW50IHx8IHJvb20/LnN0YXR1cyAhPT0gJ3BsYXlpbmcnKSB7XG4gICAgICAgICAgICAgICAgICBzZXRXc1N0YXR1cygnZGlzY29ubmVjdGVkJylcbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBhbHJlYWR5IGNvbm5lY3RlZC9jb25uZWN0aW5nIGJlZm9yZSBhdHRlbXB0aW5nXG4gICAgICAgICAgICAgICAgaWYgKHdzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWR5U3RhdGUgPSB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGVcbiAgICAgICAgICAgICAgICAgIGlmIChyZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiB8fCByZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykge1xuICAgICAgICAgICAgICAgICAgICBsb2coJ1tSZWNvbm5lY3RdIEFscmVhZHkgY29ubmVjdGVkL2Nvbm5lY3RpbmcsIHNraXBwaW5nJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RJZlBsYXlpbmcocm9vbS5zdGF0dXMsIHJvb20uaWQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgY29ubmVjdGlvbiBzdGF0dXMgYWZ0ZXIgYSBkZWxheSB0byBzZWUgaWYgd2UgbmVlZCB0byByZXRyeVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZFJlY29ubmVjdFJlZi5jdXJyZW50ICYmIHJvb20/LnN0YXR1cyA9PT0gJ3BsYXlpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIHN0aWxsIG5vdCBjb25uZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3c1JlZi5jdXJyZW50IHx8IHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0UmVjb25uZWN0KGF0dGVtcHQgKyAxKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZGVsYXkgKyAxMDAwKSAvLyBDaGVjayBhZnRlciBkZWxheSArIDFzXG4gICAgICAgICAgICAgIH0sIGRlbGF5KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhdHRlbXB0UmVjb25uZWN0KDEpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFdzU3RhdHVzKCdkaXNjb25uZWN0ZWQnKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKGxvZ0VudHJ5KSA9PiB7XG4gICAgICAgICAgLy8gRXZlbnQgbG9nIGNhbGxiYWNrIChvbmx5IHN0b3JlIGluIGRldiBmb3IgZGVidWcgVUkpXG4gICAgICAgICAgaWYgKGlzRGV2KSB7XG4gICAgICAgICAgICBzZXRXc0V2ZW50cygocHJldikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHMgPSBbbG9nRW50cnksIC4uLnByZXZdLnNsaWNlKDAsIDIwKVxuICAgICAgICAgICAgICByZXR1cm4gbmV3RXZlbnRzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICB3c1JlZi5jdXJyZW50ID0gd3NcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHdzUmVmIHdoZW4gcmVjb25uZWN0aW5nICh0aGUgcmVjb25uZWN0IGNyZWF0ZXMgYSBuZXcgd3MpXG4gICAgICBpZiAoKHdzIGFzIGFueSkuc2VuZFN5bmNSZXF1ZXN0KSB7XG4gICAgICAgIC8vIFN0b3JlIHJlZmVyZW5jZSBmb3IgU1lOQ19SRVFVRVNUXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBjb25uZWN0IHRvIGdhbWUgc2VydmVyJ1xuICAgICAgbG9nRXJyb3IoJ1tBdXRvQ29ubmVjdF0gQ29ubmVjdGlvbiBlcnJvcjonLCBlcnIpXG4gICAgICBzZXRXc0Vycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpXG4gICAgICB3c1JlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgY29ubmVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICB9XG4gIH0sIFtdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyb29tSWQpIHtcbiAgICAgIG5hdmlnYXRlKCcvbG9iYnknKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gR3VhcmQ6IERvbid0IGNyZWF0ZSBjaGFubmVscyBpZiBzZXR1cCBpcyBhbHJlYWR5IGluIHByb2dyZXNzXG4gICAgaWYgKGlzU2V0dGluZ1VwQ2hhbm5lbHNSZWYuY3VycmVudCkge1xuICAgICAgbG9nKCdbUm9vbXNSVF0gQ2hhbm5lbCBzZXR1cCBhbHJlYWR5IGluIHByb2dyZXNzLCBza2lwcGluZycpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBHdWFyZDogRG9uJ3QgY3JlYXRlIGNoYW5uZWxzIGlmIHRoZXkgYWxyZWFkeSBleGlzdCBhbmQgYXJlIGFjdGl2ZVxuICAgIGNvbnN0IGV4aXN0aW5nUm9vbUNoYW5uZWwgPSByb29tQ2hhbm5lbFJlZi5jdXJyZW50XG4gICAgY29uc3QgZXhpc3RpbmdQbGF5ZXJzQ2hhbm5lbCA9IHBsYXllcnNDaGFubmVsUmVmLmN1cnJlbnRcbiAgICBcbiAgICBpZiAoZXhpc3RpbmdSb29tQ2hhbm5lbCAmJiBleGlzdGluZ1BsYXllcnNDaGFubmVsKSB7XG4gICAgICAvLyBDaGVjayBjaGFubmVsIHN0YXRlIC0gU3VwYWJhc2UgY2hhbm5lbHMgaGF2ZSBhIHN0YXRlIHByb3BlcnR5XG4gICAgICBjb25zdCByb29tQ2hhbm5lbFN0YXRlID0gKGV4aXN0aW5nUm9vbUNoYW5uZWwgYXMgYW55KS5zdGF0ZVxuICAgICAgY29uc3QgcGxheWVyc0NoYW5uZWxTdGF0ZSA9IChleGlzdGluZ1BsYXllcnNDaGFubmVsIGFzIGFueSkuc3RhdGVcbiAgICAgIFxuICAgICAgLy8gSWYgY2hhbm5lbHMgYXJlIHN0aWxsIHN1YnNjcmliZWQgb3Igam9pbmluZywgZG9uJ3QgcmVjcmVhdGVcbiAgICAgIGlmIChyb29tQ2hhbm5lbFN0YXRlID09PSAnam9pbmVkJyB8fCByb29tQ2hhbm5lbFN0YXRlID09PSAnam9pbmluZycgfHwgXG4gICAgICAgICAgcGxheWVyc0NoYW5uZWxTdGF0ZSA9PT0gJ2pvaW5lZCcgfHwgcGxheWVyc0NoYW5uZWxTdGF0ZSA9PT0gJ2pvaW5pbmcnKSB7XG4gICAgICAgIGxvZygnW1Jvb21zUlRdIENoYW5uZWxzIGFscmVhZHkgZXhpc3QgYW5kIGFjdGl2ZSwgc2tpcHBpbmcgY3JlYXRpb24nKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgY2hhbm5lbHMgYXJlIGNsb3NlZC9lcnJvcmVkLCBjbGVhbiB0aGVtIHVwIGZpcnN0XG4gICAgICBpZiAocm9vbUNoYW5uZWxTdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgcm9vbUNoYW5uZWxTdGF0ZSA9PT0gJ2Vycm9yZWQnIHx8XG4gICAgICAgICAgcGxheWVyc0NoYW5uZWxTdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgcGxheWVyc0NoYW5uZWxTdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgICAgIGxvZygnW1Jvb21zUlRdIENsZWFuaW5nIHVwIGNsb3NlZC9lcnJvcmVkIGNoYW5uZWxzJylcbiAgICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChleGlzdGluZ1Jvb21DaGFubmVsKVxuICAgICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKGV4aXN0aW5nUGxheWVyc0NoYW5uZWwpXG4gICAgICAgIHJvb21DaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgIHBsYXllcnNDaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFyayB0aGF0IHdlJ3JlIHNldHRpbmcgdXAgY2hhbm5lbHNcbiAgICBpc1NldHRpbmdVcENoYW5uZWxzUmVmLmN1cnJlbnQgPSB0cnVlXG5cbiAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICBuYXZpZ2F0ZSgnL2F1dGgnKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQodXNlci5pZClcblxuICAgICAgICAvLyBGZXRjaCByb29tXG4gICAgICAgIGNvbnN0IHsgZGF0YTogcm9vbURhdGEsIGVycm9yOiByb29tRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3Jvb21zJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAuZXEoJ2lkJywgcm9vbUlkKVxuICAgICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAgIGlmIChyb29tRXJyb3IgfHwgIXJvb21EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb29tIG5vdCBmb3VuZCcpXG4gICAgICAgIH1cbiAgICAgICAgc2V0Um9vbShyb29tRGF0YSBhcyBSb29tKVxuXG4gICAgICAgIC8vIEZldGNoIHBsYXllcnNcbiAgICAgICAgYXdhaXQgZmV0Y2hQbGF5ZXJzKHJvb21JZClcblxuICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBjaGFubmVscyBpZiB0aGV5IGV4aXN0IChwcmV2ZW50IGR1cGxpY2F0ZXMpXG4gICAgICAgIGlmIChwbGF5ZXJzQ2hhbm5lbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChwbGF5ZXJzQ2hhbm5lbFJlZi5jdXJyZW50KVxuICAgICAgICAgIHBsYXllcnNDaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvb21DaGFubmVsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKHJvb21DaGFubmVsUmVmLmN1cnJlbnQpXG4gICAgICAgICAgcm9vbUNoYW5uZWxSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN1YnNjcmliZSB0byByb29tX3BsYXllcnMgY2hhbmdlc1xuICAgICAgICBjb25zdCBjaGFubmVsID0gc3VwYWJhc2VcbiAgICAgICAgICAuY2hhbm5lbChgcm9vbV9wbGF5ZXJzOiR7cm9vbUlkfWApXG4gICAgICAgICAgLm9uKFxuICAgICAgICAgICAgJ3Bvc3RncmVzX2NoYW5nZXMnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBldmVudDogJyonLFxuICAgICAgICAgICAgICBzY2hlbWE6ICdwdWJsaWMnLFxuICAgICAgICAgICAgICB0YWJsZTogJ3Jvb21fcGxheWVycycsXG4gICAgICAgICAgICAgIGZpbHRlcjogYHJvb21faWQ9ZXEuJHtyb29tSWR9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIGZldGNoUGxheWVycyhyb29tSWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICAgIC5zdWJzY3JpYmUoKVxuICAgICAgICBwbGF5ZXJzQ2hhbm5lbFJlZi5jdXJyZW50ID0gY2hhbm5lbFxuXG4gICAgICAgIC8vIFN1YnNjcmliZSB0byByb29tIHN0YXR1cyBjaGFuZ2VzXG4gICAgICAgIGNvbnN0IGNoYW5uZWxOYW1lID0gYHJvb206JHtyb29tSWR9YFxuICAgICAgICBjb25zdCBmaWx0ZXJTdHJpbmcgPSBgaWQ9ZXEuJHtyb29tSWR9YFxuICAgICAgICBsb2coJ1tSb29tc1JUXSBDcmVhdGluZyBjaGFubmVsOicsIGNoYW5uZWxOYW1lKVxuICAgICAgICBsb2coJ1tSb29tc1JUXSBGaWx0ZXI6JywgZmlsdGVyU3RyaW5nKVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgcm9vbUNoYW5uZWwgPSBzdXBhYmFzZVxuICAgICAgICAgIC5jaGFubmVsKGNoYW5uZWxOYW1lKVxuICAgICAgICAgIC5vbihcbiAgICAgICAgICAgICdwb3N0Z3Jlc19jaGFuZ2VzJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXZlbnQ6ICdVUERBVEUnLFxuICAgICAgICAgICAgICBzY2hlbWE6ICdwdWJsaWMnLFxuICAgICAgICAgICAgICB0YWJsZTogJ3Jvb21zJyxcbiAgICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXJTdHJpbmcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgbG9nKCdbUm9vbXNSVF0gcGF5bG9hZCByZWNlaXZlZCcpXG4gICAgICAgICAgICAgIGlmIChwYXlsb2FkLm5ldykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRSb29tID0gcGF5bG9hZC5uZXcgYXMgUm9vbVxuICAgICAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIGlmIHJvb20gYWN0dWFsbHkgY2hhbmdlZCB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHJlLXJlbmRlcnNcbiAgICAgICAgICAgICAgICBzZXRSb29tKHByZXZSb29tID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChwcmV2Um9vbSAmJiBwcmV2Um9vbS5pZCA9PT0gdXBkYXRlZFJvb20uaWQgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgcHJldlJvb20uc3RhdHVzID09PSB1cGRhdGVkUm9vbS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICBwcmV2Um9vbS5zY29yZV9saW1pdCA9PT0gdXBkYXRlZFJvb20uc2NvcmVfbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUm9vbSBoYXNuJ3QgbWVhbmluZ2Z1bGx5IGNoYW5nZWQsIHJldHVybiBwcmV2aW91cyB0byBwcmV2ZW50IHJlLXJlbmRlclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldlJvb21cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkUm9vbVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQXV0by1jb25uZWN0IHdoZW4gc3RhdHVzIGJlY29tZXMgXCJwbGF5aW5nXCIgKGZvciBBTEwgdXNlcnMpXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRSb29tLnN0YXR1cyA9PT0gJ3BsYXlpbmcnKSB7XG4gICAgICAgICAgICAgICAgICBsb2coJ1tBdXRvQ29ubmVjdF0gUmVhbHRpbWU6IHJvb20gc3RhdHVzIHVwZGF0ZWQgdG8gcGxheWluZycpXG4gICAgICAgICAgICAgICAgICBjb25uZWN0SWZQbGF5aW5nKHVwZGF0ZWRSb29tLnN0YXR1cywgcm9vbUlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgICAuc3Vic2NyaWJlKChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgIGxvZygnW1Jvb21zUlRdIFN1YnNjcmliZSBzdGF0dXM6Jywgc3RhdHVzKVxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ1NVQlNDUklCRUQnKSB7XG4gICAgICAgICAgICAgIGxvZygnW1Jvb21zUlRdIFN1Y2Nlc3NmdWxseSBzdWJzY3JpYmVkIHRvIHJvb20gdXBkYXRlcycpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ1RJTUVEX09VVCcpIHtcbiAgICAgICAgICAgICAgd2FybignW1Jvb21zUlRdIFN1YnNjcmlwdGlvbiB0aW1lZCBvdXQnKVxuICAgICAgICAgICAgICAvLyBEb24ndCByZWNyZWF0ZSBvbiB0aW1lb3V0IC0gbGV0IGl0IHJldHJ5IG5hdHVyYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdDSEFOTkVMX0VSUk9SJykge1xuICAgICAgICAgICAgICBsb2dFcnJvcignW1Jvb21zUlRdIENoYW5uZWwgZXJyb3Igb2NjdXJyZWQnKVxuICAgICAgICAgICAgICAvLyBDbGVhciByZWYgc28gaXQgY2FuIGJlIHJlY3JlYXRlZCBvbiBuZXh0IGVmZmVjdCBydW5cbiAgICAgICAgICAgICAgaWYgKHJvb21DaGFubmVsUmVmLmN1cnJlbnQgPT09IHJvb21DaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgcm9vbUNoYW5uZWxSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdDTE9TRUQnKSB7XG4gICAgICAgICAgICAgIGxvZygnW1Jvb21zUlRdIENoYW5uZWwgY2xvc2VkJylcbiAgICAgICAgICAgICAgLy8gT25seSBjbGVhciByZWYgaWYgdGhpcyBpcyB0aGUgY3VycmVudCBjaGFubmVsIChub3QgYSBzdGFsZSBvbmUpXG4gICAgICAgICAgICAgIC8vIERvbid0IHJlY3JlYXRlIGltbWVkaWF0ZWx5IHRvIGF2b2lkIGluZmluaXRlIGxvb3BcbiAgICAgICAgICAgICAgaWYgKHJvb21DaGFubmVsUmVmLmN1cnJlbnQgPT09IHJvb21DaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgcm9vbUNoYW5uZWxSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIHJvb21DaGFubmVsUmVmLmN1cnJlbnQgPSByb29tQ2hhbm5lbFxuXG4gICAgICAgIC8vIEEpIEFmdGVyIGluaXRpYWwgcm9vbSBmZXRjaDogYXV0by1jb25uZWN0IGlmIGFscmVhZHkgXCJwbGF5aW5nXCJcbiAgICAgICAgbG9nKCdbQXV0b0Nvbm5lY3RdIEluaXRpYWwgZmV0Y2g6IHJvb20uc3RhdHVzID0nLCByb29tRGF0YS5zdGF0dXMpXG4gICAgICAgIGNvbm5lY3RJZlBsYXlpbmcocm9vbURhdGEuc3RhdHVzLCByb29tSWQpXG5cbiAgICAgICAgLy8gTWFyayBjaGFubmVsIHNldHVwIGFzIGNvbXBsZXRlXG4gICAgICAgIGlzU2V0dGluZ1VwQ2hhbm5lbHNSZWYuY3VycmVudCA9IGZhbHNlXG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBpc1NldHRpbmdVcENoYW5uZWxzUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgIGlmIChwbGF5ZXJzQ2hhbm5lbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKHBsYXllcnNDaGFubmVsUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBwbGF5ZXJzQ2hhbm5lbFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm9vbUNoYW5uZWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChyb29tQ2hhbm5lbFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgcm9vbUNoYW5uZWxSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ2xvc2UgV2ViU29ja2V0IG9uIHVubW91bnRcbiAgICAgICAgICBpZiAod3NSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgd3NSZWYuY3VycmVudC5jbG9zZSgpXG4gICAgICAgICAgICB3c1JlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHJvb20nKVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZldGNoRGF0YSgpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbcm9vbUlkXSkgLy8gT25seSBkZXBlbmQgb24gcm9vbUlkIC0gbmF2aWdhdGUgaXMgc3RhYmxlLCBidXQgd2UgcmVtb3ZlZCBpdCB0byBiZSBzYWZlXG5cbiAgLy8gSW5pdGlhbGl6ZSBzY29yZUxpbWl0IGZyb20gcm9vbSBkYXRhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJvb20/LnNjb3JlX2xpbWl0KSB7XG4gICAgICBzZXRTY29yZUxpbWl0KHJvb20uc2NvcmVfbGltaXQpXG4gICAgICBzZXRTY29yZUxpbWl0SW5wdXQocm9vbS5zY29yZV9saW1pdClcbiAgICB9XG4gIH0sIFtyb29tPy5zY29yZV9saW1pdF0pXG5cbiAgLy8gRmFsbGJhY2sgcG9sbGluZzogY2hlY2sgcm9vbSBzdGF0dXMgZXZlcnkgMXMgaWYgbm90IGNvbm5lY3RlZCBhbmQgcm9vbSBub3QgcGxheWluZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcm9vbUlkIHx8ICFyb29tKSByZXR1cm5cblxuICAgIC8vIE9ubHkgcG9sbCBpZjpcbiAgICAvLyAtIFdTIGlzIG5vdCBjb25uZWN0ZWQvY29ubmVjdGluZ1xuICAgIC8vIC0gbG9jYWwgcm9vbS5zdGF0dXMgaXMgbm90IFwicGxheWluZ1wiIHlldFxuICAgIGNvbnN0IHNob3VsZFBvbGwgPSBcbiAgICAgIHdzU3RhdHVzICE9PSAnY29ubmVjdGVkJyAmJiBcbiAgICAgIHdzU3RhdHVzICE9PSAnY29ubmVjdGluZycgJiYgXG4gICAgICByb29tLnN0YXR1cyAhPT0gJ3BsYXlpbmcnXG5cbiAgICBpZiAoIXNob3VsZFBvbGwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxvZygnW1BvbGxpbmddIFN0YXJ0aW5nIGZhbGxiYWNrIHBvbGxpbmcgZm9yIHJvb20gc3RhdHVzJylcbiAgICBcbiAgICBjb25zdCBwb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IHJvb21EYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgncm9vbXMnKVxuICAgICAgICAgIC5zZWxlY3QoJ3N0YXR1cycpXG4gICAgICAgICAgLmVxKCdpZCcsIHJvb21JZClcbiAgICAgICAgICAuc2luZ2xlKClcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBsb2dFcnJvcignW1BvbGxpbmddIEVycm9yIGZldGNoaW5nIHJvb20gc3RhdHVzOicsIGVycm9yKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvb21EYXRhPy5zdGF0dXMgPT09ICdwbGF5aW5nJykge1xuICAgICAgICAgIGxvZygnW1BvbGxpbmddIFJvb20gc3RhdHVzIGNoYW5nZWQgdG8gcGxheWluZywgY29ubmVjdGluZyBXUycpXG4gICAgICAgICAgY29ubmVjdElmUGxheWluZygncGxheWluZycsIHJvb21JZClcbiAgICAgICAgICAvLyBTdG9wIHBvbGxpbmcgb25jZSBjb25uZWN0ZWRcbiAgICAgICAgICBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbClcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ0Vycm9yKCdbUG9sbGluZ10gUG9sbGluZyBlcnJvcjonLCBlcnIpXG4gICAgICB9XG4gICAgfSwgMTAwMClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBsb2coJ1tQb2xsaW5nXSBTdG9wcGluZyBmYWxsYmFjayBwb2xsaW5nJylcbiAgICAgIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKVxuICAgIH1cbiAgfSwgW3Jvb21JZCwgcm9vbT8uc3RhdHVzLCB3c1N0YXR1cywgY29ubmVjdElmUGxheWluZ10pXG5cbiAgY29uc3QgZmV0Y2hQbGF5ZXJzID0gYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHF1ZXJ5aW5nIHdpdGggLmlzKCkgZmlsdGVyIGZpcnN0XG4gICAgICBsZXQgeyBkYXRhOiBwbGF5ZXJzRGF0YSwgZXJyb3I6IHBsYXllcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Jvb21fcGxheWVycycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ3Jvb21faWQnLCBpZClcbiAgICAgICAgLmlzKCdsZWZ0X2F0JywgbnVsbCkgLy8gT25seSBzaG93IHBsYXllcnMgd2hvIGhhdmVuJ3QgbGVmdFxuXG4gICAgICAvLyBJZiB0aGF0IGZhaWxzICg1MDAgZXJyb3Igb3IgYW55IGVycm9yKSwgdHJ5IGZldGNoaW5nIGFsbCBhbmQgZmlsdGVyaW5nIGNsaWVudC1zaWRlXG4gICAgICBpZiAocGxheWVyc0Vycm9yKSB7XG4gICAgICAgIHdhcm4oJ1F1ZXJ5IHdpdGggLmlzKCkgZmFpbGVkLCB0cnlpbmcgYWx0ZXJuYXRpdmUgYXBwcm9hY2g6JywgcGxheWVyc0Vycm9yKVxuICAgICAgICBjb25zdCB7IGRhdGE6IGFsbFBsYXllcnMsIGVycm9yOiBhbGxFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgncm9vbV9wbGF5ZXJzJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAuZXEoJ3Jvb21faWQnLCBpZClcblxuICAgICAgICBpZiAoYWxsRXJyb3IpIHtcbiAgICAgICAgICBsb2dFcnJvcignRmFpbGVkIHRvIGZldGNoIHBsYXllcnM6JywgYWxsRXJyb3IpXG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSAoYWxsRXJyb3IgYXMgYW55KT8ubWVzc2FnZSB8fCBTdHJpbmcoYWxsRXJyb3IpXG4gICAgICAgICAgc2V0RXJyb3IoYEZhaWxlZCB0byBsb2FkIHBsYXllcnM6ICR7ZXJyb3JNc2d9YClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbHRlciBjbGllbnQtc2lkZSBmb3IgcGxheWVycyB3aG8gaGF2ZW4ndCBsZWZ0XG4gICAgICAgIHBsYXllcnNEYXRhID0gYWxsUGxheWVycz8uZmlsdGVyKHAgPT4gcC5sZWZ0X2F0ID09PSBudWxsKSB8fCBudWxsXG4gICAgICB9XG5cbiAgICAgIGlmICghcGxheWVyc0RhdGEgfHwgcGxheWVyc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldFBsYXllcnMoW10pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBGZXRjaCBwcm9maWxlcyBmb3IgZWFjaCBwbGF5ZXJcbiAgICAgIGNvbnN0IHBsYXllcnNXaXRoUHJvZmlsZXM6IFBsYXllcldpdGhQcm9maWxlW10gPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgcGxheWVyc0RhdGEubWFwKGFzeW5jIChwbGF5ZXIpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAgICAgLnNlbGVjdCgnaWQsIGRpc3BsYXlfbmFtZSwgYXZhdGFyX3VybCcpXG4gICAgICAgICAgICAuZXEoJ2lkJywgcGxheWVyLnBsYXllcl9pZClcbiAgICAgICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAgICAgLy8gTG9nIHByb2ZpbGUgZXJyb3JzIGJ1dCBkb24ndCBmYWlsIHRoZSB3aG9sZSBvcGVyYXRpb25cbiAgICAgICAgICBpZiAocHJvZmlsZUVycm9yKSB7XG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gZmV0Y2ggcHJvZmlsZSBmb3IgcGxheWVyICR7cGxheWVyLnBsYXllcl9pZH06YCwgcHJvZmlsZUVycm9yKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wbGF5ZXIsXG4gICAgICAgICAgICBwcm9maWxlOiBwcm9maWxlIGFzIFByb2ZpbGUgfCBudWxsLFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgc2V0UGxheWVycyhwbGF5ZXJzV2l0aFByb2ZpbGVzKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoJ0Vycm9yIGluIGZldGNoUGxheWVyczonLCBlcnIpXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCBwbGF5ZXJzJ1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgIH1cbiAgfVxuXG4gIC8vIFNlbmQgUkVBRFkgbWVzc2FnZSB2aWEgV2ViU29ja2V0XG4gIGNvbnN0IHNlbmRSZWFkeU1lc3NhZ2UgPSB1c2VDYWxsYmFjaygoaXNSZWFkeTogYm9vbGVhbikgPT4ge1xuICAgIGlmICghcm9vbUlkIHx8ICF3c1JlZi5jdXJyZW50IHx8IHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHdhcm4oJ1tSRUFEWV0gQ2Fubm90IHNlbmQgUkVBRFk6IFdTIG5vdCBjb25uZWN0ZWQnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlYWR5TWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogJ1JFQURZJyxcbiAgICAgICAgcm9vbUlkLFxuICAgICAgICBpc1JlYWR5LFxuICAgICAgfVxuICAgICAgbG9nKCdbUkVBRFldIFNlbmRpbmcgUkVBRFkgbWVzc2FnZScpXG4gICAgICB3c1JlZi5jdXJyZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVhZHlNZXNzYWdlKSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dFcnJvcignW1JFQURZXSBGYWlsZWQgdG8gc2VuZCBSRUFEWSBtZXNzYWdlOicsIGVycilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSwgW3Jvb21JZF0pXG5cbiAgLy8gU2VuZCBQTEFZIG1lc3NhZ2UgdmlhIFdlYlNvY2tldFxuICBjb25zdCBzZW5kUGxheU1lc3NhZ2UgPSB1c2VDYWxsYmFjaygoY2FyZHM6IENhcmRbXSkgPT4ge1xuICAgIGlmICghcm9vbUlkIHx8ICF3c1JlZi5jdXJyZW50IHx8IHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHdhcm4oJ1tQTEFZXSBDYW5ub3Qgc2VuZCBQTEFZOiBXUyBub3QgY29ubmVjdGVkJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwbGF5TWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogJ1BMQVknLFxuICAgICAgICByb29tSWQsXG4gICAgICAgIGNhcmRzLFxuICAgICAgfVxuICAgICAgbG9nKCdbUExBWV0gU2VuZGluZyBQTEFZIG1lc3NhZ2UnKVxuICAgICAgd3NSZWYuY3VycmVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHBsYXlNZXNzYWdlKSlcbiAgICAgIHNldEFjdGlvbkVycm9yKG51bGwpIC8vIENsZWFyIGFueSBwcmV2aW91cyBlcnJvcnNcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgY2FyZHMgd2UncmUgdHJ5aW5nIHRvIHBsYXkgKGZvciBlcnJvciByZWNvdmVyeSlcbiAgICAgIHNldFBlbmRpbmdQbGF5Q2FyZHMoY2FyZHMpXG4gICAgICBwZW5kaW5nUGxheUNhcmRzUmVmLmN1cnJlbnQgPSBjYXJkc1xuICAgICAgXG4gICAgICAvLyBPcHRpbWlzdGljYWxseSByZW1vdmUgcGxheWVkIGNhcmRzIGZyb20geW91ckhhbmQgaW4gcmVhbC10aW1lXG4gICAgICAvLyBJZiBzZXJ2ZXIgcmV0dXJucyBlcnJvciwgd2UnbGwgcmVzdG9yZSB0aGVtXG4gICAgICBzZXRZb3VySGFuZCgocHJldkhhbmQpID0+IHtcbiAgICAgICAgaWYgKCFwcmV2SGFuZCkgcmV0dXJuIHByZXZIYW5kXG4gICAgICAgIFxuICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoZSBwbGF5ZWQgY2FyZHNcbiAgICAgICAgbGV0IG5ld0hhbmQgPSBwcmV2SGFuZC5maWx0ZXIoKGhhbmRDYXJkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICFjYXJkcy5zb21lKFxuICAgICAgICAgICAgKHBsYXllZENhcmQpID0+IGNhcmRzRXF1YWwocGxheWVkQ2FyZCwgaGFuZENhcmQpXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgLy8gUmUtc29ydCB0aGUgcmVtYWluaW5nIGNhcmRzIHRvIG1haW50YWluIHByb3BlciBvcmRlclxuICAgICAgICBuZXdIYW5kID0gc29ydENhcmRzKG5ld0hhbmQpXG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgaGFuZE9yZGVyIHRvIHJlbW92ZSBpbmRpY2VzIG9mIHBsYXllZCBjYXJkc1xuICAgICAgICBzZXRIYW5kT3JkZXIoKHByZXZPcmRlcikgPT4ge1xuICAgICAgICAgIGlmIChwcmV2T3JkZXIubGVuZ3RoID09PSAwKSByZXR1cm4gW11cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaW5kIGluZGljZXMgb2YgcGxheWVkIGNhcmRzIGluIG9yaWdpbmFsIGhhbmRcbiAgICAgICAgICBjb25zdCBwbGF5ZWRJbmRpY2VzID0gbmV3IFNldChcbiAgICAgICAgICAgIGNhcmRzLm1hcCgocGxheWVkQ2FyZCkgPT5cbiAgICAgICAgICAgICAgcHJldkhhbmQuZmluZEluZGV4KChoYW5kQ2FyZCkgPT4gY2FyZHNFcXVhbChoYW5kQ2FyZCwgcGxheWVkQ2FyZCkpXG4gICAgICAgICAgICApLmZpbHRlcigoaWR4KSA9PiBpZHggIT09IC0xKVxuICAgICAgICAgIClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZW1vdmUgcGxheWVkIGluZGljZXMgYW5kIGFkanVzdCByZW1haW5pbmcgaW5kaWNlc1xuICAgICAgICAgIGNvbnN0IG5ld09yZGVyID0gcHJldk9yZGVyXG4gICAgICAgICAgICAuZmlsdGVyKChpZHgpID0+ICFwbGF5ZWRJbmRpY2VzLmhhcyhpZHgpKVxuICAgICAgICAgICAgLm1hcCgoaWR4KSA9PiB7XG4gICAgICAgICAgICAgIC8vIEFkanVzdCBpbmRleDogY291bnQgaG93IG1hbnkgcGxheWVkIGNhcmRzIHdlcmUgYmVmb3JlIHRoaXMgaW5kZXhcbiAgICAgICAgICAgICAgY29uc3QgYWRqdXN0bWVudCA9IEFycmF5LmZyb20ocGxheWVkSW5kaWNlcykuZmlsdGVyKChwbGF5ZWRJZHgpID0+IHBsYXllZElkeCA8IGlkeCkubGVuZ3RoXG4gICAgICAgICAgICAgIHJldHVybiBpZHggLSBhZGp1c3RtZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBuZXdPcmRlclxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ld0hhbmRcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIENsZWFyIHNlbGVjdGlvbiBhZnRlciBzZW5kaW5nIChvcHRpbWlzdGljKVxuICAgICAgc2V0U2VsZWN0ZWRDYXJkcyhbXSlcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ0Vycm9yKCdbUExBWV0gRmFpbGVkIHRvIHNlbmQgUExBWSBtZXNzYWdlOicsIGVycilcbiAgICAgIHNldEFjdGlvbkVycm9yKCdGYWlsZWQgdG8gc2VuZCBwbGF5IG1lc3NhZ2UnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LCBbcm9vbUlkXSlcblxuICAvLyBTZW5kIFNFVF9SVUxFUyBtZXNzYWdlIHZpYSBXZWJTb2NrZXRcbiAgY29uc3Qgc2VuZFNldFJ1bGVzTWVzc2FnZSA9IHVzZUNhbGxiYWNrKChuZXdTY29yZUxpbWl0OiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXJvb21JZCB8fCAhd3NSZWYuY3VycmVudCB8fCB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB3YXJuKCdbU0VUX1JVTEVTXSBDYW5ub3Qgc2VuZCBTRVRfUlVMRVM6IFdTIG5vdCBjb25uZWN0ZWQnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJ1bGVzTWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogJ1NFVF9SVUxFUycsXG4gICAgICAgIHJvb21JZCxcbiAgICAgICAgc2NvcmVMaW1pdDogbmV3U2NvcmVMaW1pdCxcbiAgICAgIH1cbiAgICAgIGxvZygnW1NFVF9SVUxFU10gU2VuZGluZyBTRVRfUlVMRVMgbWVzc2FnZScpXG4gICAgICB3c1JlZi5jdXJyZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkocnVsZXNNZXNzYWdlKSlcbiAgICAgIHNldEFjdGlvbkVycm9yKG51bGwpIC8vIENsZWFyIGFueSBwcmV2aW91cyBlcnJvcnNcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dFcnJvcignW1NFVF9SVUxFU10gRmFpbGVkIHRvIHNlbmQgU0VUX1JVTEVTIG1lc3NhZ2U6JywgZXJyKVxuICAgICAgc2V0QWN0aW9uRXJyb3IoJ0ZhaWxlZCB0byBzZXQgcnVsZXMnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LCBbcm9vbUlkXSlcblxuICAvLyBTZW5kIFBBU1MgbWVzc2FnZSB2aWEgV2ViU29ja2V0XG4gIGNvbnN0IHNlbmRQYXNzTWVzc2FnZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXJvb21JZCB8fCAhd3NSZWYuY3VycmVudCB8fCB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB3YXJuKCdbUEFTU10gQ2Fubm90IHNlbmQgUEFTUzogV1Mgbm90IGNvbm5lY3RlZCcpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFzc01lc3NhZ2UgPSB7XG4gICAgICAgIHR5cGU6ICdQQVNTJyxcbiAgICAgICAgcm9vbUlkLFxuICAgICAgfVxuICAgICAgbG9nKCdbUEFTU10gU2VuZGluZyBQQVNTIG1lc3NhZ2UnKVxuICAgICAgd3NSZWYuY3VycmVudC5zZW5kKEpTT04uc3RyaW5naWZ5KHBhc3NNZXNzYWdlKSlcbiAgICAgIHNldEFjdGlvbkVycm9yKG51bGwpIC8vIENsZWFyIGFueSBwcmV2aW91cyBlcnJvcnNcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dFcnJvcignW1BBU1NdIEZhaWxlZCB0byBzZW5kIFBBU1MgbWVzc2FnZTonLCBlcnIpXG4gICAgICBzZXRBY3Rpb25FcnJvcignRmFpbGVkIHRvIHNlbmQgcGFzcyBtZXNzYWdlJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSwgW3Jvb21JZF0pXG5cbiAgY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKGNhcmQ6IENhcmQpID0+IHtcbiAgICAvLyBUb2dnbGUgc2VsZWN0aW9uIChtYXggNSBjYXJkcylcbiAgICBzZXRTZWxlY3RlZENhcmRzKChwcmV2KSA9PiB7XG4gICAgICAvLyBDaGVjayBpZiBjYXJkIGlzIGFscmVhZHkgc2VsZWN0ZWRcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBwcmV2LnNvbWUoXG4gICAgICAgIChjKSA9PiBjLnJhbmsgPT09IGNhcmQucmFuayAmJiBjLnN1aXQgPT09IGNhcmQuc3VpdFxuICAgICAgKVxuICAgICAgXG4gICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAvLyBSZW1vdmUgZnJvbSBzZWxlY3Rpb25cbiAgICAgICAgcmV0dXJuIHByZXYuZmlsdGVyKFxuICAgICAgICAgIChjKSA9PiAhKGMucmFuayA9PT0gY2FyZC5yYW5rICYmIGMuc3VpdCA9PT0gY2FyZC5zdWl0KVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgdG8gc2VsZWN0aW9uIGlmIHVuZGVyIGxpbWl0XG4gICAgICAgIGlmIChwcmV2Lmxlbmd0aCA+PSA1KSB7XG4gICAgICAgICAgcmV0dXJuIHByZXYgLy8gTWF4IDUgY2FyZHNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gWy4uLnByZXYsIGNhcmRdXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVBsYXkgPSAoKSA9PiB7XG4gICAgLy8gQWxsb3cgMSwgMiwgMywgb3IgNSBjYXJkcyAobm90IDQpXG4gICAgY29uc3QgdmFsaWRMZW5ndGhzID0gWzEsIDIsIDMsIDVdXG4gICAgaWYgKCF2YWxpZExlbmd0aHMuaW5jbHVkZXMoc2VsZWN0ZWRDYXJkcy5sZW5ndGgpKSByZXR1cm5cbiAgICBcbiAgICBzZW5kUGxheU1lc3NhZ2Uoc2VsZWN0ZWRDYXJkcylcbiAgICAvLyBTZWxlY3Rpb24gY2xlYXJlZCBpbiBzZW5kUGxheU1lc3NhZ2UgYWZ0ZXIgc3VjY2Vzc2Z1bCBzZW5kXG4gIH1cblxuICBjb25zdCBoYW5kbGVQYXNzID0gKCkgPT4ge1xuICAgIHNlbmRQYXNzTWVzc2FnZSgpXG4gIH1cblxuICBjb25zdCBpc015VHVybiA9IGN1cnJlbnRUdXJuUGxheWVySWQgPT09IGN1cnJlbnRVc2VySWRcblxuICBjb25zdCBoYW5kbGVUb2dnbGVSZWFkeSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXJvb21JZCB8fCAhY3VycmVudFVzZXJJZCB8fCB1cGRhdGluZ1JlYWR5KSByZXR1cm5cblxuICAgIC8vIElmIFdTIGlzIGNvbm5lY3RlZCwgdXNlIFdTIFJFQURZIG1lc3NhZ2VzXG4gICAgaWYgKHdzU3RhdHVzID09PSAnY29ubmVjdGVkJyAmJiB3c1JlZi5jdXJyZW50Py5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgcmVhZHkgc3RhdGUgZnJvbSBST09NX1NUQVRFIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZyb20gU3VwYWJhc2VcbiAgICAgIGNvbnN0IHJvb21TdGF0ZVBsYXllciA9IHJvb21TdGF0ZVBsYXllcnMuZmluZCgocCkgPT4gcC5wbGF5ZXJJZCA9PT0gY3VycmVudFVzZXJJZClcbiAgICAgIGNvbnN0IHN1cGFiYXNlUGxheWVyID0gcGxheWVycy5maW5kKChwKSA9PiBwLnBsYXllcl9pZCA9PT0gY3VycmVudFVzZXJJZClcbiAgICAgIGNvbnN0IGN1cnJlbnRSZWFkeVN0YXRlID0gcm9vbVN0YXRlUGxheWVyIFxuICAgICAgICA/IHJvb21TdGF0ZVBsYXllci5pc1JlYWR5IFxuICAgICAgICA6IHN1cGFiYXNlUGxheWVyPy5pc19yZWFkeSA/PyBmYWxzZVxuICAgICAgXG4gICAgICBjb25zdCBuZXdSZWFkeVN0YXRlID0gIWN1cnJlbnRSZWFkeVN0YXRlXG4gICAgICBcbiAgICAgIHNldFVwZGF0aW5nUmVhZHkodHJ1ZSlcbiAgICAgIGNvbnN0IHNlbnQgPSBzZW5kUmVhZHlNZXNzYWdlKG5ld1JlYWR5U3RhdGUpXG4gICAgICBpZiAoIXNlbnQpIHtcbiAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBzZW5kIHJlYWR5IHN0YXR1cy4gUGxlYXNlIHRyeSBhZ2Fpbi4nKVxuICAgICAgfVxuICAgICAgc2V0VXBkYXRpbmdSZWFkeShmYWxzZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIFN1cGFiYXNlIGlmIFdTIG5vdCBjb25uZWN0ZWRcbiAgICBzZXRVcGRhdGluZ1JlYWR5KHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJzLmZpbmQoKHApID0+IHAucGxheWVyX2lkID09PSBjdXJyZW50VXNlcklkKVxuICAgICAgaWYgKCFjdXJyZW50UGxheWVyKSByZXR1cm5cblxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Jvb21fcGxheWVycycpXG4gICAgICAgIC51cGRhdGUoeyBpc19yZWFkeTogIWN1cnJlbnRQbGF5ZXIuaXNfcmVhZHkgfSlcbiAgICAgICAgLmVxKCdyb29tX2lkJywgcm9vbUlkKVxuICAgICAgICAuZXEoJ3BsYXllcl9pZCcsIGN1cnJlbnRVc2VySWQpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSlcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0VXBkYXRpbmdSZWFkeShmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVMZWF2ZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXJvb21JZCB8fCAhY3VycmVudFVzZXJJZCB8fCBsZWF2aW5nKSByZXR1cm5cblxuICAgIHNldExlYXZpbmcodHJ1ZSlcbiAgICB0cnkge1xuICAgICAgLy8gU3RvcCByZWNvbm5lY3Rpb24gYXR0ZW1wdHNcbiAgICAgIHNob3VsZFJlY29ubmVjdFJlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgIFxuICAgICAgLy8gTWFyayBhcyBtYW51YWwgY2xvc2UgYW5kIGNsb3NlIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gICAgICBpZiAod3NSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zdCBtYXJrTWFudWFsQ2xvc2UgPSAod3NSZWYuY3VycmVudCBhcyBhbnkpLm1hcmtNYW51YWxDbG9zZVxuICAgICAgICBpZiAobWFya01hbnVhbENsb3NlKSB7XG4gICAgICAgICAgbWFya01hbnVhbENsb3NlKClcbiAgICAgICAgfVxuICAgICAgICB3c1JlZi5jdXJyZW50LmNsb3NlKClcbiAgICAgICAgd3NSZWYuY3VycmVudCA9IG51bGxcbiAgICAgIH1cbiAgICAgIGNvbm5lY3RpbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICBzZXRXc1N0YXR1cygnZGlzY29ubmVjdGVkJylcblxuICAgICAgLy8gVXBkYXRlIGxlZnRfYXRcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdyb29tX3BsYXllcnMnKVxuICAgICAgICAudXBkYXRlKHsgbGVmdF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgICAgIC5lcSgncm9vbV9pZCcsIHJvb21JZClcbiAgICAgICAgLmVxKCdwbGF5ZXJfaWQnLCBjdXJyZW50VXNlcklkKVxuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG5cbiAgICAgIG5hdmlnYXRlKCcvbG9iYnknKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMZWF2aW5nKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVN0YXJ0ID0gYXN5bmMgKGU/OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4ge1xuICAgIGU/LnByZXZlbnREZWZhdWx0KClcbiAgICBsb2coXCJbU3RhcnRdIGNsaWNrZWRcIilcbiAgICBcbiAgICBpZiAoaXNTdGFydGluZykge1xuICAgICAgbG9nKFwiW1N0YXJ0XSBBbHJlYWR5IHN0YXJ0aW5nLCBpZ25vcmluZyBkdXBsaWNhdGUgY2xpY2tcIilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghcm9vbUlkIHx8ICFjdXJyZW50VXNlcklkKSB7XG4gICAgICBsb2coXCJbU3RhcnRdIE1pc3Npbmcgcm9vbUlkIG9yIGN1cnJlbnRVc2VySWRcIiwgeyByb29tSWQsIGN1cnJlbnRVc2VySWQgfSlcbiAgICAgIHNldEVycm9yKCdNaXNzaW5nIHJvb20gSUQgb3IgdXNlciBJRCcpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsb2coXCJbU3RhcnRdIHJvb21JZFwiLCByb29tSWQpXG4gICAgc2V0SXNTdGFydGluZyh0cnVlKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBzZXNzaW9uIGFuZCBhY2Nlc3MgdG9rZW5cbiAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpXG4gICAgICBjb25zdCBoYXNUb2tlbiA9ICEhc2Vzc2lvbj8uYWNjZXNzX3Rva2VuXG4gICAgICBsb2coXCJbU3RhcnRdIHNlc3Npb24gdG9rZW4gcHJlc2VudD9cIiwgaGFzVG9rZW4pXG4gICAgICBcbiAgICAgIGlmICghc2Vzc2lvbj8uYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHNldEVycm9yKCdObyBhY2Nlc3MgdG9rZW4gYXZhaWxhYmxlLiBQbGVhc2UgbG9nIGluIGFnYWluLicpXG4gICAgICAgIHNldFdzRXJyb3IoJ05vIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUnKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gRmV0Y2ggdGhlIHJvb20gcm93IGZpcnN0IHRvIHZlcmlmeSBvd25lcnNoaXAgYW5kIGN1cnJlbnQgc3RhdHVzXG4gICAgICBjb25zdCB7IGRhdGE6IHJvb21EYXRhLCBlcnJvcjogcm9vbUZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdyb29tcycpXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBvd25lcl9pZCwgc3RhdHVzJylcbiAgICAgICAgLmVxKCdpZCcsIHJvb21JZClcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmIChyb29tRmV0Y2hFcnJvciB8fCAhcm9vbURhdGEpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSByb29tRmV0Y2hFcnJvcj8ubWVzc2FnZSB8fCAnUm9vbSBub3QgZm91bmQnXG4gICAgICAgIGxvZ0Vycm9yKFwiW1N0YXJ0XSByb29tIGZldGNoIGVycm9yOlwiLCByb29tRmV0Y2hFcnJvcilcbiAgICAgICAgc2V0RXJyb3IoYEZhaWxlZCB0byBmZXRjaCByb29tOiAke2Vycm9yTXNnfWApXG4gICAgICAgIHNldFdzRXJyb3IoYEZhaWxlZCB0byBmZXRjaCByb29tOiAke2Vycm9yTXNnfWApXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBWZXJpZnkgb3duZXJzaGlwXG4gICAgICBpZiAoY3VycmVudFVzZXJJZCAhPT0gcm9vbURhdGEub3duZXJfaWQpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSAnT25seSB0aGUgcm9vbSBvd25lciBjYW4gc3RhcnQgdGhlIGdhbWUnXG4gICAgICAgIGxvZyhcIltTdGFydF0gT3duZXJzaGlwIGNoZWNrIGZhaWxlZFwiLCB7IGN1cnJlbnRVc2VySWQsIG93bmVySWQ6IHJvb21EYXRhLm93bmVyX2lkIH0pXG4gICAgICAgIHNldEVycm9yKGVycm9yTXNnKVxuICAgICAgICBzZXRXc0Vycm9yKGVycm9yTXNnKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gSWYgc3RhdHVzIGlzIGFscmVhZHkgXCJwbGF5aW5nXCIsIGRvIG5vdGhpbmcgKFdTIGNvbm5lY3Rpb24gaGFuZGxlZCBieSBjb25uZWN0SWZQbGF5aW5nKVxuICAgICAgaWYgKHJvb21EYXRhLnN0YXR1cyA9PT0gJ3BsYXlpbmcnKSB7XG4gICAgICAgIGxvZyhcIltTdGFydF0gUm9vbSBhbHJlYWR5IHBsYXlpbmcsIHNraXBwaW5nIFBBVENIXCIpXG4gICAgICAgIHNldElzU3RhcnRpbmcoZmFsc2UpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgcm9vbSBzdGF0dXMgdG8gJ3BsYXlpbmcnXG4gICAgICAvLyBUaGUgcmVhbHRpbWUgc3Vic2NyaXB0aW9uIHdpbGwgdHJpZ2dlciBjb25uZWN0SWZQbGF5aW5nIGZvciBBTEwgdXNlcnMgKGluY2x1ZGluZyBvd25lcilcbiAgICAgIGxvZyhcIltTdGFydF0gUGF0Y2hpbmcgcm9vbXMuc3RhdHVzIHRvICdwbGF5aW5nJ1wiKVxuICAgICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdyb29tcycpXG4gICAgICAgIC51cGRhdGUoeyBzdGF0dXM6ICdwbGF5aW5nJyB9KVxuICAgICAgICAuZXEoJ2lkJywgcm9vbUlkKVxuXG4gICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgLy8gSGFuZGxlIFN1cGFiYXNlIGVycm9yIHdpdGggZGV0YWlsZWQgaW5mb3JtYXRpb25cbiAgICAgICAgY29uc3QgZXJyb3JEZXRhaWxzID0ge1xuICAgICAgICAgIHN0YXR1czogKHVwZGF0ZUVycm9yIGFzIGFueSk/LnN0YXR1cyB8fCAndW5rbm93bicsXG4gICAgICAgICAgbWVzc2FnZTogdXBkYXRlRXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicsXG4gICAgICAgICAgZGV0YWlsczogKHVwZGF0ZUVycm9yIGFzIGFueSk/LmRldGFpbHMgfHwgbnVsbCxcbiAgICAgICAgICBoaW50OiAodXBkYXRlRXJyb3IgYXMgYW55KT8uaGludCB8fCBudWxsLFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsb2dFcnJvcignW1N0YXJ0XSBwYXRjaCByb29tcy5zdGF0dXMgcmVzdWx0IEVSUk9SOicsIGVycm9yRGV0YWlscylcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgRmFpbGVkIHRvIHVwZGF0ZSByb29tIHN0YXR1czogJHtlcnJvckRldGFpbHMubWVzc2FnZX0ke2Vycm9yRGV0YWlscy5oaW50ID8gYCAoJHtlcnJvckRldGFpbHMuaGludH0pYCA6ICcnfWBcbiAgICAgICAgc2V0RXJyb3IoZXJyb3JNc2cpXG4gICAgICAgIHNldFdzRXJyb3IoZXJyb3JNc2cpXG4gICAgICAgIHNldElzU3RhcnRpbmcoZmFsc2UpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBsb2coXCJbU3RhcnRdIHBhdGNoIHJvb21zLnN0YXR1cyByZXN1bHQgU1VDQ0VTU1wiKVxuICAgICAgLy8gTm90ZTogV1MgY29ubmVjdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBieSByZWFsdGltZSBzdWJzY3JpcHRpb24gdmlhIGNvbm5lY3RJZlBsYXlpbmdcbiAgICAgIC8vIFJlc2V0IGlzU3RhcnRpbmcgd2hlbiBXUyBjb25uZWN0cyBvciBhZnRlciBhIHRpbWVvdXRcbiAgICAgIGNvbnN0IHJlc2V0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRJc1N0YXJ0aW5nKGZhbHNlKVxuICAgICAgfSwgNTAwMClcbiAgICAgIFxuICAgICAgLy8gQWxzbyByZXNldCB3aGVuIFdTIGNvbm5lY3RzIG9yIGVycm9yc1xuICAgICAgY29uc3QgY2hlY2tDb25uZWN0aW9uID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAod3NTdGF0dXMgPT09ICdjb25uZWN0ZWQnIHx8IHdzU3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0Nvbm5lY3Rpb24pXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2V0VGltZW91dClcbiAgICAgICAgICBzZXRJc1N0YXJ0aW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9LCAxMDApXG4gICAgICBcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKGNoZWNrQ29ubmVjdGlvbilcbiAgICAgIH0sIDEwMDAwKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gc3RhcnQgZ2FtZSdcbiAgICAgIGxvZ0Vycm9yKCdbU3RhcnRdIFVuZXhwZWN0ZWQgZXJyb3I6JywgZXJyKVxuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgc2V0V3NFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBzZXRJc1N0YXJ0aW5nKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVJlY29ubmVjdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXJvb21JZCB8fCAhY3VycmVudFVzZXJJZCB8fCAhcm9vbSkgcmV0dXJuXG5cbiAgICAvLyBDbG9zZSBleGlzdGluZyBjb25uZWN0aW9uIGlmIGFueVxuICAgIGlmICh3c1JlZi5jdXJyZW50KSB7XG4gICAgICB3c1JlZi5jdXJyZW50LmNsb3NlKClcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgfVxuICAgIGNvbm5lY3RpbmdSZWYuY3VycmVudCA9IGZhbHNlXG5cbiAgICAvLyBVc2UgY29ubmVjdElmUGxheWluZyB0byByZWNvbm5lY3QgKG9ubHkgY29ubmVjdHMgaWYgcm9vbS5zdGF0dXMgPT09IFwicGxheWluZ1wiKVxuICAgIGF3YWl0IGNvbm5lY3RJZlBsYXlpbmcocm9vbS5zdGF0dXMsIHJvb20uaWQpXG4gIH1cblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8QXBwU2hlbGw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLWgtWzYwdmhdXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgdy1mdWxsIG1heC13LW1kXCI+XG4gICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPVwiaC0xMiB3LWZ1bGxcIiAvPlxuICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT1cImgtMTAgdy0zLzRcIiAvPlxuICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT1cImgtMTAgdy1mdWxsXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0FwcFNoZWxsPlxuICAgIClcbiAgfVxuXG4gIGlmIChlcnJvciB8fCAhcm9vbSkge1xuICAgIHJldHVybiAoXG4gICAgICA8QXBwU2hlbGw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPFVJQ2FyZD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IHRleHQtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1kYW5nZXIpXVwiPntlcnJvciB8fCAnUm9vbSBub3QgZm91bmQnfTwvcD5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZSgnL2xvYmJ5Jyl9PkJhY2sgdG8gTG9iYnk8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvVUlDYXJkPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQXBwU2hlbGw+XG4gICAgKVxuICB9XG5cbiAgY29uc3QgY3VycmVudFBsYXllciA9IHBsYXllcnMuZmluZCgocCkgPT4gcC5wbGF5ZXJfaWQgPT09IGN1cnJlbnRVc2VySWQpXG4gIGNvbnN0IGlzT3duZXIgPSBjdXJyZW50VXNlcklkID09PSByb29tLm93bmVyX2lkXG5cbiAgcmV0dXJuIChcbiAgICA8QXBwU2hlbGxcbiAgICAgIHRpdGxlPXtgUm9vbTogJHtyb29tLmNvZGV9YH1cbiAgICAgIHN1YnRpdGxlPXtgU2NvcmUgTGltaXQ6ICR7c2NvcmVMaW1pdH1gfVxuICAgICAgc2hvd1NpZ25PdXQ9e2ZhbHNlfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgIHsvKiBIZWFkZXIgQWN0aW9ucyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZGFuZ2VyXCIgb25DbGljaz17aGFuZGxlTGVhdmV9IGRpc2FibGVkPXtsZWF2aW5nfSBpc0xvYWRpbmc9e2xlYXZpbmd9PlxuICAgICAgICAgICAgTGVhdmUgUm9vbVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRXJyb3IgQmFubmVyICovfVxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLVt2YXIoLS1kYW5nZXItYmcpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1kYW5nZXIpXSB0ZXh0LVt2YXIoLS1kYW5nZXIpXSByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFJPVU5EX1NUQVJUIEJhbm5lciAqL31cbiAgICAgICAge3JvdW5kU3RhcnQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLVt2YXIoLS1zdWNjZXNzKV0gdGV4dC13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1tZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+Um91bmQgc3RhcnRpbmcuLi48L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBvcGFjaXR5LTkwXCI+XG4gICAgICAgICAgICAgICAge25ldyBEYXRlKHJvdW5kU3RhcnQuc3RhcnRlZEF0KS50b0xvY2FsZVN0cmluZygpfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogREVBTFQgQmFubmVyICovfVxuICAgICAgICB7eW91ckhhbmQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLVt2YXIoLS1pbmZvKV0gdGV4dC13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1tZCB0ZXh0LWNlbnRlciBmb250LXNlbWlib2xkXCI+XG4gICAgICAgICAgICBDYXJkcyBkZWFsdC4gV2FpdGluZyBmb3Igc3RhcnRlci4uLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBEZWJ1ZyBQYW5lbCAtIG9ubHkgaW4gZGV2ICovfVxuICAgICAgICB7aXNEZXYgJiYgKFxuICAgICAgICAgIDxVSUNhcmQ+XG4gICAgICAgICAgICA8VUlDYXJkIGhlYWRlcj17PGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0KV1cIj5EZWJ1ZyBJbmZvPC9oMz59PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgc206Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTQgZ2FwLTIgdGV4dC14cyBmb250LW1vbm9cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiBiZy1bdmFyKC0tYmctZWxldmF0ZWQpXSByb3VuZGVkIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlcildXCI+XG4gICAgICAgICAgICAgICAgICA8c3Ryb25nPnJvb20uc3RhdHVzOjwvc3Ryb25nPiB7cm9vbS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYmctW3ZhcigtLWJnLWVsZXZhdGVkKV0gcm91bmRlZCBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXIpXVwiPlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz5jdXJyZW50IGF1dGgudWlkOjwvc3Ryb25nPiB7Y3VycmVudFVzZXJJZCB8fCAnbnVsbCd9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYmctW3ZhcigtLWJnLWVsZXZhdGVkKV0gcm91bmRlZCBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXIpXVwiPlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz5yb29tLm93bmVyX2lkOjwvc3Ryb25nPiB7cm9vbS5vd25lcl9pZH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiBiZy1bdmFyKC0tYmctZWxldmF0ZWQpXSByb3VuZGVkIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlcildXCI+XG4gICAgICAgICAgICAgICAgICA8c3Ryb25nPmlzT3duZXI6PC9zdHJvbmc+IHtpc093bmVyID8gJ3RydWUnIDogJ2ZhbHNlJ31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1VJQ2FyZD5cbiAgICAgICAgICA8L1VJQ2FyZD5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogV2ViU29ja2V0IENvbm5lY3Rpb24gUGFuZWwgKi99XG4gICAgICAgIDxVSUNhcmQ+XG4gICAgICAgICAgPFVJQ2FyZCBoZWFkZXI9e1xuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQpXVwiPkdhbWUgU2VydmVyIENvbm5lY3Rpb248L2gzPlxuICAgICAgICAgICAgICA8QmFkZ2VcbiAgICAgICAgICAgICAgICB2YXJpYW50PXtcbiAgICAgICAgICAgICAgICAgIHdzU3RhdHVzID09PSAnY29ubmVjdGVkJyA/ICdzdWNjZXNzJyA6XG4gICAgICAgICAgICAgICAgICB3c1N0YXR1cyA9PT0gJ2Nvbm5lY3RpbmcnIHx8IHdzU3RhdHVzID09PSAncmVjb25uZWN0aW5nJyA/ICd3YXJuaW5nJyA6XG4gICAgICAgICAgICAgICAgICB3c1N0YXR1cyA9PT0gJ2Vycm9yJyA/ICdkYW5nZXInIDogJ2RlZmF1bHQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3dzU3RhdHVzID09PSAnY29ubmVjdGVkJyAmJiAn4pePIENvbm5lY3RlZCd9XG4gICAgICAgICAgICAgICAge3dzU3RhdHVzID09PSAnY29ubmVjdGluZycgJiYgJ+KXjyBDb25uZWN0aW5nLi4uJ31cbiAgICAgICAgICAgICAgICB7d3NTdGF0dXMgPT09ICdyZWNvbm5lY3RpbmcnICYmIGDil48gUmVjb25uZWN0aW5nICgke3JlY29ubmVjdEF0dGVtcHRSZWYuY3VycmVudH0vMTApLi4uYH1cbiAgICAgICAgICAgICAgICB7d3NTdGF0dXMgPT09ICdlcnJvcicgJiYgJ+KXjyBFcnJvcid9XG4gICAgICAgICAgICAgICAge3dzU3RhdHVzID09PSAnZGlzY29ubmVjdGVkJyAmJiAn4peLIERpc2Nvbm5lY3RlZCd9XG4gICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB9PlxuICAgICAgICAgICAge3dzRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0zIGJnLVt2YXIoLS1kYW5nZXItYmcpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1kYW5nZXIpXSB0ZXh0LVt2YXIoLS1kYW5nZXIpXSByb3VuZGVkLWxnIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICB7d3NFcnJvcn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogV1MgRGVidWcgSW5mbyAtIG9ubHkgaW4gZGV2ICovfVxuICAgICAgICAgICAge2lzRGV2ICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1bdmFyKC0tYmctZWxldmF0ZWQpXSByb3VuZGVkIHRleHQteHMgZm9udC1tb25vIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz53c1VybDo8L3N0cm9uZz4ge3dzVXJsIHx8ICdub3Qgc2V0J308L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz53c1JlYWR5U3RhdGU6PC9zdHJvbmc+IHt3c1JlZi5jdXJyZW50ID8gd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlIDogJ251bGwnfSBcbiAgICAgICAgICAgICAgICAgICh7d3NSZWYuY3VycmVudCA/IFsnQ09OTkVDVElORycsICdPUEVOJywgJ0NMT1NJTkcnLCAnQ0xPU0VEJ11bd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlXSA6ICdudWxsJ30pXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPmNvbm5lY3Rpb25TdGF0dXM6PC9zdHJvbmc+IHt3c1N0YXR1c308L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7d3NTdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnICYmIHJvb20/LnN0YXR1cyA9PT0gJ3BsYXlpbmcnICYmIChcbiAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPVwic21cIiBvbkNsaWNrPXtoYW5kbGVSZWNvbm5lY3R9PlJlY29ubmVjdDwvQnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIFdTIEV2ZW50cyBMb2cgLSBvbmx5IGluIGRldiAqL31cbiAgICAgICAgICAgIHtpc0RldiAmJiB3c0V2ZW50cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIExhc3Qge3dzRXZlbnRzLmxlbmd0aH0gV1MgRXZlbnRzOlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtWzIwMHB4XSBvdmVyZmxvdy15LWF1dG8gYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyKV0gcm91bmRlZCBwLTIgYmctW3ZhcigtLWJnLWVsZXZhdGVkKV0gdGV4dC14cyBmb250LW1vbm8gc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICB7d3NFdmVudHMubWFwKChldmVudCwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgZXZlbnQtJHtldmVudC50aW1lc3RhbXB9LSR7aWR4fWB9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgcC0xIGJnLVt2YXIoLS1iZy1zdXJmYWNlKV0gcm91bmRlZCBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXIpXVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBtaW4tdy1bODBweF1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShldmVudC50aW1lc3RhbXApLnRvTG9jYWxlVGltZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS1pbmZvKV0gZm9udC1zZW1pYm9sZCBtaW4tdy1bMTUwcHhdXCI+e2V2ZW50LmV2ZW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnQuZGF0YSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVt2YXIoLS10ZXh0KV0gZmxleC0xIGJyZWFrLWFsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dHlwZW9mIGV2ZW50LmRhdGEgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkoZXZlbnQuZGF0YSkgOiBTdHJpbmcoZXZlbnQuZGF0YSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogV1MgTWVzc2FnZXMgLSBvbmx5IGluIGRldiAqL31cbiAgICAgICAgICAgIHtpc0RldiAmJiB3c01lc3NhZ2VzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgTGFzdCB7d3NNZXNzYWdlcy5sZW5ndGh9IE1lc3NhZ2VzOlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtWzMwMHB4XSBvdmVyZmxvdy15LWF1dG8gYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyKV0gcm91bmRlZCBwLTIgYmctW3ZhcigtLWJnLWVsZXZhdGVkKV0gdGV4dC14cyBmb250LW1vbm8gc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICB7d3NNZXNzYWdlcy5tYXAoKG1zZywgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgbXNnLSR7bXNnLnR5cGV9LSR7aWR4fWB9IGNsYXNzTmFtZT1cInAtMiBiZy1bdmFyKC0tYmctc3VyZmFjZSldIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyKV0gd2hpdGVzcGFjZS1wcmUtd3JhcCBicmVhay1hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7SlNPTi5zdHJpbmdpZnkobXNnLCBudWxsLCAyKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvVUlDYXJkPlxuICAgICAgICA8L1VJQ2FyZD5cblxuICAgICAgICB7LyogUGxheWVycyBTZWN0aW9uICovfVxuICAgICAgICA8VUlDYXJkPlxuICAgICAgICAgIDxVSUNhcmQgaGVhZGVyPXtcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dCldXCI+XG4gICAgICAgICAgICAgIFBsYXllcnMgKHtyb29tU3RhdGVQbGF5ZXJzLmxlbmd0aCA+IDAgPyByb29tU3RhdGVQbGF5ZXJzLmxlbmd0aCA6IHBsYXllcnMubGVuZ3RofSlcbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyB1c2UgcGxheWVycyBzdGF0ZSAod2hpY2ggaGFzIHByb2ZpbGVzKSBhcyBzb3VyY2Ugb2YgdHJ1dGggZm9yIGRpc3BsYXlcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSByZWFkeSBzdGF0dXMgZnJvbSByb29tU3RhdGVQbGF5ZXJzIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllcnNUb1JlbmRlciA9IHBsYXllcnMubWFwKHAgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgcm9vbVN0YXRlUGxheWVyID0gcm9vbVN0YXRlUGxheWVycy5maW5kKHJzcCA9PiByc3AucGxheWVySWQgPT09IHAucGxheWVyX2lkKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6IHAucGxheWVyX2lkLFxuICAgICAgICAgICAgICAgICAgICBpc1JlYWR5OiByb29tU3RhdGVQbGF5ZXI/LmlzUmVhZHkgPz8gcC5pc19yZWFkeSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHAucHJvZmlsZT8uZGlzcGxheV9uYW1lIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIC8vIElmIHJvb21TdGF0ZVBsYXllcnMgaGFzIHBsYXllcnMgbm90IGluIHBsYXllcnMgbGlzdCwgYWRkIHRoZW0gKHdpbGwgc2hvdyBJRCB1bnRpbCBwcm9maWxlIGxvYWRzKVxuICAgICAgICAgICAgICAgIGlmIChyb29tU3RhdGVQbGF5ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHJvb21TdGF0ZVBsYXllcnMuZm9yRWFjaChyc3AgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBsYXllcnNUb1JlbmRlci5maW5kKHAgPT4gcC5wbGF5ZXJJZCA9PT0gcnNwLnBsYXllcklkKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHBsYXllcnNUb1JlbmRlci5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiByc3AucGxheWVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1JlYWR5OiByc3AuaXNSZWFkeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllcnNUb1JlbmRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gcHktOFwiPk5vIHBsYXllcnMgaW4gcm9vbTwvcD5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyc1RvUmVuZGVyLm1hcCgocGxheWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpc0N1cnJlbnRQbGF5ZXIgPSBwbGF5ZXIucGxheWVySWQgPT09IGN1cnJlbnRVc2VySWRcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1Bhc3NlZCA9IHBhc3NlZFBsYXllcklkcy5pbmNsdWRlcyhwbGF5ZXIucGxheWVySWQpXG4gICAgICAgICAgICAgICAgICBjb25zdCBpc0N1cnJlbnRUdXJuID0gcGxheWVyLnBsYXllcklkID09PSBjdXJyZW50VHVyblBsYXllcklkXG4gICAgICAgICAgICAgICAgICAvLyBVc2UgZGlzcGxheU5hbWUgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbGJhY2sgdG8gZ2V0UGxheWVyRGlzcGxheU5hbWVcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gcGxheWVyLmRpc3BsYXlOYW1lIHx8IGdldFBsYXllckRpc3BsYXlOYW1lKHBsYXllci5wbGF5ZXJJZClcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGtleT17cGxheWVyLnBsYXllcklkfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHAtNCByb3VuZGVkLWxnIGJvcmRlciB0cmFuc2l0aW9uLWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0N1cnJlbnRQbGF5ZXIgJiYgJ2JnLVt2YXIoLS1wcmltYXJ5LWJnKV0gYm9yZGVyLVt2YXIoLS1wcmltYXJ5KV0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDdXJyZW50VHVybiAmJiAnYmctW3ZhcigtLXdhcm5pbmctYmcpXSBib3JkZXItW3ZhcigtLXdhcm5pbmcpXScsXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNDdXJyZW50UGxheWVyICYmICFpc0N1cnJlbnRUdXJuICYmICdiZy1bdmFyKC0tYmctZWxldmF0ZWQpXSBib3JkZXItW3ZhcigtLWJvcmRlcildIGhvdmVyOmJnLVt2YXIoLS1zdXJmYWNlLWhvdmVyKV0nXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQpXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNPd25lciAmJiBwbGF5ZXIucGxheWVySWQgPT09IHJvb20ub3duZXJfaWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cIndhcm5pbmdcIiBzaXplPVwic21cIj5Pd25lcjwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2hhc1Bhc3NlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwiZGVmYXVsdFwiIHNpemU9XCJzbVwiPlBhc3NlZDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwbGF5ZXIuaXNSZWFkeSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzdWNjZXNzXCIgc2l6ZT1cInNtXCI+4pyTIFJlYWR5PC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldXCI+Tm90IFJlYWR5PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc0N1cnJlbnRUdXJuICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJ3YXJuaW5nXCIgc2l6ZT1cInNtXCI+4oCiIFlvdXIgVHVybjwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9VSUNhcmQ+XG4gICAgICAgIDwvVUlDYXJkPlxuXG4gICAgICAgIHsvKiBBY3Rpb25zICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgZ2FwLTQgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAge2N1cnJlbnRVc2VySWQgJiYgKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvb21TdGF0ZVBsYXllciA9IHJvb21TdGF0ZVBsYXllcnMuZmluZChwID0+IHAucGxheWVySWQgPT09IGN1cnJlbnRVc2VySWQpXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UmVhZHkgPSByb29tU3RhdGVQbGF5ZXIgXG4gICAgICAgICAgICAgID8gcm9vbVN0YXRlUGxheWVyLmlzUmVhZHkgXG4gICAgICAgICAgICAgIDogY3VycmVudFBsYXllcj8uaXNfcmVhZHkgPz8gZmFsc2VcbiAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSB1cGRhdGluZ1JlYWR5IHx8IHdzU3RhdHVzICE9PSAnY29ubmVjdGVkJyB8fCAhIXJvdW5kU3RhcnRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVJlYWR5fVxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9e2N1cnJlbnRSZWFkeSA/ICdzdWNjZXNzJyA6ICdzZWNvbmRhcnknfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICAgICAgICAgIGlzTG9hZGluZz17dXBkYXRpbmdSZWFkeX1cbiAgICAgICAgICAgICAgICB0aXRsZT17d3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnID8gJ0Nvbm5lY3QgZmlyc3QnIDogcm91bmRTdGFydCA/ICdSb3VuZCBhbHJlYWR5IHN0YXJ0ZWQnIDogJyd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7d3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnIFxuICAgICAgICAgICAgICAgICAgPyAnQ29ubmVjdCBmaXJzdCdcbiAgICAgICAgICAgICAgICAgIDogcm91bmRTdGFydFxuICAgICAgICAgICAgICAgICAgPyAnUm91bmQgc3RhcnRlZCdcbiAgICAgICAgICAgICAgICAgIDogY3VycmVudFJlYWR5IFxuICAgICAgICAgICAgICAgICAgPyAnTWFyayBOb3QgUmVhZHknIFxuICAgICAgICAgICAgICAgICAgOiAnTWFyayBSZWFkeSd9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pKCl9XG5cbiAgICAgICAgICB7LyogT3duZXIgUnVsZXMgU2V0dGluZyAqL31cbiAgICAgICAgICB7aXNPd25lciAmJiByb29tLnN0YXR1cyAhPT0gJ3BsYXlpbmcnICYmICFyb3VuZFN0YXJ0ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcC00IGJnLVt2YXIoLS1iZy1lbGV2YXRlZCldIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyKV1cIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzY29yZUxpbWl0XCIgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVt2YXIoLS10ZXh0KV1cIj5cbiAgICAgICAgICAgICAgICBTY29yZSBMaW1pdCAoMS02MCk6XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPVwic2NvcmVMaW1pdFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgICAgbWF4PVwiNjBcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtzY29yZUxpbWl0SW5wdXR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTY29yZUxpbWl0SW5wdXQoTWF0aC5taW4oNjAsIE1hdGgubWF4KDEsIE51bWJlcihlLnRhcmdldC52YWx1ZSkgfHwgNjApKSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0yMCBweC0zIHB5LTIgYmctW3ZhcigtLWJnLXN1cmZhY2UpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXIpXSByb3VuZGVkLWxnIHRleHQtW3ZhcigtLXRleHQpXSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctW3ZhcigtLWJvcmRlci1mb2N1cyldXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlTGltaXRJbnB1dCA+PSAxICYmIHNjb3JlTGltaXRJbnB1dCA8PSA2MCkge1xuICAgICAgICAgICAgICAgICAgICBzZW5kU2V0UnVsZXNNZXNzYWdlKHNjb3JlTGltaXRJbnB1dClcbiAgICAgICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcygnU2NvcmUgbGltaXQgdXBkYXRlZCcpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17d3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnIHx8IHNjb3JlTGltaXRJbnB1dCA8IDEgfHwgc2NvcmVMaW1pdElucHV0ID4gNjB9XG4gICAgICAgICAgICAgICAgdGl0bGU9e3dzU3RhdHVzICE9PSAnY29ubmVjdGVkJyA/ICdXZWJTb2NrZXQgZGlzY29ubmVjdGVkJyA6ICcnfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2V0IFJ1bGVzXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICBcbiAgICAgICAgICB7aXNPd25lciAmJiByb29tLnN0YXR1cyAhPT0gJ3BsYXlpbmcnICYmICFyb3VuZFN0YXJ0ICYmIChcbiAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN0YXJ0fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdGFydGluZ31cbiAgICAgICAgICAgICAgaXNMb2FkaW5nPXtpc1N0YXJ0aW5nfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBTdGFydCBHYW1lXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogR2FtZSBBcmVhIC0gUG9rZXItc3R5bGUgVGFibGUgVUkgKi99XG4gICAgICAgIHt5b3VySGFuZCAmJiByb29tPy5zdGF0dXMgPT09ICdwbGF5aW5nJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICAgIHsvKiBSb3VuZCBFbmQgQmFubmVyICovfVxuICAgICAgICAgICAge3JvdW5kRW5kICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctW3ZhcigtLXN1Y2Nlc3MpXSB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LW1kIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+Um91bmQgZW5kZWQuIFdpbm5lcjoge3JvdW5kRW5kLndpbm5lclBsYXllcklkfTwvc3Ryb25nPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBBY3Rpb24gRXJyb3IgQmFubmVyICovfVxuICAgICAgICAgICAge2FjdGlvbkVycm9yICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctW3ZhcigtLWRhbmdlci1iZyldIGJvcmRlciBib3JkZXItW3ZhcigtLWRhbmdlcildIHRleHQtW3ZhcigtLWRhbmdlcildIHJvdW5kZWQtbGcgdGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgIHthY3Rpb25FcnJvcn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogTWFpbiBHYW1lIExheW91dDogVGFibGUgKyBRdWV1ZSBQYW5lbCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBsZzpmbGV4LXJvdyBnYXAtNiBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICB7LyogVGFibGUgVmlldyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgIDxUYWJsZVZpZXdcbiAgICAgICAgICAgICAgICAgIHNlYXRlZFBsYXllcklkcz17c2VhdGVkUGxheWVySWRzfVxuICAgICAgICAgICAgICAgICAgaGFuZHNDb3VudD17aGFuZHNDb3VudH1cbiAgICAgICAgICAgICAgICAgIHRvdGFsU2NvcmVzPXt0b3RhbFNjb3Jlc31cbiAgICAgICAgICAgICAgICAgIHNjb3JlTGltaXQ9e3Njb3JlTGltaXR9XG4gICAgICAgICAgICAgICAgICBjdXJyZW50VHVyblBsYXllcklkPXtjdXJyZW50VHVyblBsYXllcklkfVxuICAgICAgICAgICAgICAgICAgZWxpbWluYXRlZD17ZWxpbWluYXRlZH1cbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VySWQ9e2N1cnJlbnRVc2VySWR9XG4gICAgICAgICAgICAgICAgICBsYXN0UGxheT17bGFzdFBsYXl9XG4gICAgICAgICAgICAgICAgICBwbGF5ZXJOYW1lcz17cGxheWVyTmFtZU1hcH1cbiAgICAgICAgICAgICAgICAgIHBsYXllckF2YXRhcnM9e3BsYXllckF2YXRhck1hcH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogUXVldWUgUGFuZWwgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6dy04MFwiPlxuICAgICAgICAgICAgICAgIDxRdWV1ZVBhbmVsXG4gICAgICAgICAgICAgICAgICBxdWV1ZVBsYXllcklkcz17cXVldWVQbGF5ZXJJZHN9XG4gICAgICAgICAgICAgICAgICBzZWF0ZWRQbGF5ZXJJZHM9e3NlYXRlZFBsYXllcklkc31cbiAgICAgICAgICAgICAgICAgIGhhbmRzQ291bnQ9e2hhbmRzQ291bnR9XG4gICAgICAgICAgICAgICAgICB0b3RhbFNjb3Jlcz17dG90YWxTY29yZXN9XG4gICAgICAgICAgICAgICAgICBzY29yZUxpbWl0PXtzY29yZUxpbWl0fVxuICAgICAgICAgICAgICAgICAgY3VycmVudFR1cm5QbGF5ZXJJZD17Y3VycmVudFR1cm5QbGF5ZXJJZH1cbiAgICAgICAgICAgICAgICAgIGVsaW1pbmF0ZWQ9e2VsaW1pbmF0ZWR9XG4gICAgICAgICAgICAgICAgICBwbGF5ZXJOYW1lcz17cGxheWVyTmFtZU1hcH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogWW91ciBIYW5kIGFuZCBDb250cm9scyAoQm90dG9tIENlbnRlcikgKi99XG4gICAgICAgICAgICA8VUlDYXJkPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNVwiPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtaGVhZGluZyBmb250LWJvbGQgdGV4dC1jeWFuLTMwMCB0ZXh0LWdsb3ctY3lhblwiPlxuICAgICAgICAgICAgICAgICAgICAgIFlvdXIgSGFuZCAoe3lvdXJIYW5kLmxlbmd0aH0gY2FyZHMpXG4gICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQ2FyZHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtc20gdGV4dC1saW1lLTQwMCB0ZXh0LWdsb3ctbGltZSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICDigKIgU2VsZWN0ZWQ6IHtzZWxlY3RlZENhcmRzLmxlbmd0aH0vNVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIHtoYW5kT3JkZXIubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SGFuZE9yZGVyKFtdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU29ydCBjYXJkcyBieSByYW5rIGFuZCBzdWl0XCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBTb3J0XG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTMganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdXNlciBoYXMgY3VzdG9tIG9yZGVyLCB1c2UgaXQ7IG90aGVyd2lzZSBzaG93IHNvcnRlZCBjYXJkc1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kT3JkZXIubGVuZ3RoID4gMCAmJiBoYW5kT3JkZXIubGVuZ3RoID09PSB5b3VySGFuZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZXIncyBjdXN0b20gYXJyYW5nZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kT3JkZXIubWFwKChvcmlnaW5hbElkeCkgPT4geW91ckhhbmRbb3JpZ2luYWxJZHhdKS5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBzb3J0ZWQgb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0Q2FyZHMoeW91ckhhbmQpXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSgpLm1hcCgoY2FyZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZENhcmRzLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAoYykgPT4gY2FyZHNFcXVhbChjLCBjYXJkKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbElkeCA9IHlvdXJIYW5kLmZpbmRJbmRleCgoYykgPT4gY2FyZHNFcXVhbChjLCBjYXJkKSlcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake2NhcmQucmFua30tJHtjYXJkLnN1aXR9LSR7b3JpZ2luYWxJZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ2NhcmRJbmRleCcsIFN0cmluZyhvcmlnaW5hbElkeCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ecm9wPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyYWdnZWRJbmRleCA9IHBhcnNlSW50KGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2NhcmRJbmRleCcpLCAxMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkcm9wSW5kZXggPSBvcmlnaW5hbElkeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcmFnZ2VkSW5kZXggPT09IGRyb3BJbmRleCkgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SGFuZE9yZGVyKChwcmV2T3JkZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2T3JkZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemUgb3JkZXIgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlvdXJIYW5kLm1hcCgoXywgaWR4KSA9PiBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld09yZGVyID0gWy4uLnByZXZPcmRlcl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyYWdnZWRQb3MgPSBuZXdPcmRlci5pbmRleE9mKGRyYWdnZWRJbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyb3BQb3MgPSBuZXdPcmRlci5pbmRleE9mKGRyb3BJbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRyYWdnZWQgaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3T3JkZXIuc3BsaWNlKGRyYWdnZWRQb3MsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgYXQgbmV3IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdPcmRlci5zcGxpY2UoZHJvcFBvcywgMCwgZHJhZ2dlZEluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3T3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItbW92ZSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDAgaG92ZXI6c2NhbGUtMTEwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFBsYXlpbmdDYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZD17Y2FyZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNhcmRDbGljayhjYXJkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwibWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIFBsYXkvUGFzcyBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgIHshcm91bmRFbmQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00IGp1c3RpZnktY2VudGVyIHB0LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBsYXl9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRMZW5ndGhzID0gWzEsIDIsIDMsIDVdXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXZhbGlkTGVuZ3Rocy5pbmNsdWRlcyhzZWxlY3RlZENhcmRzLmxlbmd0aCkgfHwgIWlzTXlUdXJuIHx8IHdzU3RhdHVzICE9PSAnY29ubmVjdGVkJ1xuICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgd3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdXZWJTb2NrZXQgZGlzY29ubmVjdGVkJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAhaXNNeVR1cm4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ05vdCB5b3VyIHR1cm4nIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkQ2FyZHMubGVuZ3RoID09PSAwIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdTZWxlY3QgMSwgMiwgMywgb3IgNSBjYXJkcyB0byBwbGF5JyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZENhcmRzLmxlbmd0aCA9PT0gNFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICc0IGNhcmRzIG5vdCBhbGxvd2VkLiBTZWxlY3QgMSwgMiwgMywgb3IgNSBjYXJkcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZENhcmRzLmxlbmd0aCA+IDVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnTWF4aW11bSA1IGNhcmRzIGFsbG93ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBQTEFZIHtzZWxlY3RlZENhcmRzLmxlbmd0aCA+IDAgJiYgYCgke3NlbGVjdGVkQ2FyZHMubGVuZ3RofSlgfVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBhc3N9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIndhcm5pbmdcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaXNNeVR1cm4gfHwgIWxhc3RQbGF5IHx8IHdzU3RhdHVzICE9PSAnY29ubmVjdGVkJ31cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17XG4gICAgICAgICAgICAgICAgICAgICAgICB3c1N0YXR1cyAhPT0gJ2Nvbm5lY3RlZCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1dlYlNvY2tldCBkaXNjb25uZWN0ZWQnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICFpc015VHVybiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnTm90IHlvdXIgdHVybicgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogIWxhc3RQbGF5IFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdZb3UgbXVzdCBzdGFydCB0aGUgdHJpY2snIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgUEFTU1xuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9VSUNhcmQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L0FwcFNoZWxsPlxuICApXG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInVzZVBhcmFtcyIsInVzZU5hdmlnYXRlIiwic3VwYWJhc2UiLCJjb25uZWN0R2FtZVNvY2tldERlYnVnIiwibG9nIiwid2FybiIsImVycm9yIiwibG9nRXJyb3IiLCJub3JtYWxpemVDYXJkIiwic29ydENhcmRzIiwiY2FyZHNFcXVhbCIsIlRhYmxlVmlldyIsIlBsYXlpbmdDYXJkIiwiUXVldWVQYW5lbCIsIkFwcFNoZWxsIiwiQnV0dG9uIiwiQ2FyZCIsIlVJQ2FyZCIsIkJhZGdlIiwidG9hc3QiLCJTa2VsZXRvbiIsImNuIiwiaXNEZXYiLCJwcm9jZXNzIiwiUm9vbVBhZ2UiLCJyb29tSWQiLCJuYXZpZ2F0ZSIsInJvb20iLCJzZXRSb29tIiwicGxheWVycyIsInNldFBsYXllcnMiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJ1cGRhdGluZ1JlYWR5Iiwic2V0VXBkYXRpbmdSZWFkeSIsImxlYXZpbmciLCJzZXRMZWF2aW5nIiwiaXNTdGFydGluZyIsInNldElzU3RhcnRpbmciLCJ3c1N0YXR1cyIsInNldFdzU3RhdHVzIiwid3NNZXNzYWdlcyIsInNldFdzTWVzc2FnZXMiLCJ3c0Vycm9yIiwic2V0V3NFcnJvciIsIndzUmVmIiwiY29ubmVjdGluZ1JlZiIsIndzRXZlbnRzIiwic2V0V3NFdmVudHMiLCJ3c1VybCIsInNldFdzVXJsIiwic2hvdWxkUmVjb25uZWN0UmVmIiwicmVjb25uZWN0QXR0ZW1wdFJlZiIsInJvb21DaGFubmVsUmVmIiwicGxheWVyc0NoYW5uZWxSZWYiLCJpc1NldHRpbmdVcENoYW5uZWxzUmVmIiwicm9vbVN0YXRlUGxheWVycyIsInNldFJvb21TdGF0ZVBsYXllcnMiLCJyb3VuZFN0YXJ0Iiwic2V0Um91bmRTdGFydCIsInlvdXJIYW5kIiwic2V0WW91ckhhbmQiLCJoYW5kT3JkZXIiLCJzZXRIYW5kT3JkZXIiLCJfcGVuZGluZ1BsYXlDYXJkcyIsInNldFBlbmRpbmdQbGF5Q2FyZHMiLCJwZW5kaW5nUGxheUNhcmRzUmVmIiwiX3N0YXJ0ZXJQbGF5ZXJJZCIsInNldFN0YXJ0ZXJQbGF5ZXJJZCIsIl9zdGFydGVyUmVhc29uIiwic2V0U3RhcnRlclJlYXNvbiIsInNlYXRlZFBsYXllcklkcyIsInNldFNlYXRlZFBsYXllcklkcyIsInF1ZXVlUGxheWVySWRzIiwic2V0UXVldWVQbGF5ZXJJZHMiLCJzZWxlY3RlZENhcmRzIiwic2V0U2VsZWN0ZWRDYXJkcyIsImN1cnJlbnRUdXJuUGxheWVySWQiLCJzZXRDdXJyZW50VHVyblBsYXllcklkIiwibGFzdFBsYXkiLCJzZXRMYXN0UGxheSIsImhhbmRzQ291bnQiLCJzZXRIYW5kc0NvdW50IiwiYWN0aW9uRXJyb3IiLCJzZXRBY3Rpb25FcnJvciIsIl9jYW5QYXNzIiwic2V0Q2FuUGFzcyIsInBhc3NlZFBsYXllcklkcyIsInNldFBhc3NlZFBsYXllcklkcyIsInJvdW5kRW5kIiwic2V0Um91bmRFbmQiLCJzY29yZUxpbWl0Iiwic2V0U2NvcmVMaW1pdCIsIl9zY29yZWJvYXJkIiwic2V0U2NvcmVib2FyZCIsInNjb3JlTGltaXRJbnB1dCIsInNldFNjb3JlTGltaXRJbnB1dCIsInRvdGFsU2NvcmVzIiwic2V0VG90YWxTY29yZXMiLCJlbGltaW5hdGVkIiwic2V0RWxpbWluYXRlZCIsImdldFBsYXllckRpc3BsYXlOYW1lIiwicGxheWVySWQiLCJwbGF5ZXIiLCJmaW5kIiwicCIsInBsYXllcl9pZCIsInByb2ZpbGUiLCJkaXNwbGF5X25hbWUiLCJsZW5ndGgiLCJzdWJzdHJpbmciLCJwbGF5ZXJOYW1lTWFwIiwibWFwIiwiZm9yRWFjaCIsIm5hbWUiLCJwbGF5ZXJBdmF0YXJNYXAiLCJhdmF0YXJfdXJsIiwiY29ubmVjdElmUGxheWluZyIsInJvb21TdGF0dXMiLCJyb29tSWRUb0Nvbm5lY3QiLCJjdXJyZW50IiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJDT05ORUNUSU5HIiwiQ0xPU0lORyIsIkNMT1NFRCIsImNsb3NlIiwiZGF0YSIsInNlc3Npb24iLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImhhc1Rva2VuIiwiYWNjZXNzX3Rva2VuIiwid3NVcmxFbnYiLCJlbnYiLCJORVhUX1BVQkxJQ19HQU1FX1NFUlZFUl9XU19VUkwiLCJWSVRFX0dBTUVfU0VSVkVSX1dTX1VSTCIsIndzIiwibWVzc2FnZSIsInR5cGUiLCJwcmV2IiwibmV3TWVzc2FnZXMiLCJzbGljZSIsImVycm9yTXNnIiwic2V0VGltZW91dCIsImN1cnJlbnRSb29tSWQiLCJ0cmltIiwiZnJvbVBhcmFtcyIsImZyb21Db25uZWN0Iiwic3luY01lc3NhZ2UiLCJtZXNzYWdlU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlbmQiLCJlcnIiLCJ3c1JlYWR5Iiwicm9vbUlkRnJvbVBhcmFtcyIsInJvb21JZEZyb21Db25uZWN0IiwiQXJyYXkiLCJpc0FycmF5Iiwibm9ybWFsaXplZExhc3RQbGF5IiwiY2FyZHMiLCJjYXJkIiwia2luZCIsImZpdmVLaW5kIiwic2NvcmVzTWFwIiwic2NvcmUiLCJPYmplY3QiLCJlbnRyaWVzIiwibm9ybWFsaXplZEhhbmQiLCJzb3J0ZWRIYW5kIiwiY3VycmVudFBsYXllcnMiLCJuZXdQbGF5ZXJJZHMiLCJleGlzdGluZ1BsYXllcklkcyIsIlNldCIsIm1pc3NpbmdQbGF5ZXJJZHMiLCJmaWx0ZXIiLCJpZCIsImhhcyIsIlByb21pc2UiLCJhbGwiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJleGlzdGluZyIsInJvb21faWQiLCJpc19yZWFkeSIsImlzUmVhZHkiLCJsZWZ0X2F0Iiwiam9pbmVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY2F0Y2giLCJzdGFydGVkQXQiLCJzY29yZXMiLCJzY29yZVZhbHVlIiwicHVzaCIsInRvdGFsU2NvcmUiLCJpbmNsdWRlcyIsInN0YXJ0ZXJQbGF5ZXJJZCIsInJlYXNvbiIsImNhblBhc3MiLCJwZW5kaW5nQ2FyZHMiLCJwcmV2SGFuZCIsInJlc3RvcmVkSGFuZCIsIndpbm5lclBsYXllcklkIiwiY29kZSIsIndhc0NsZWFuIiwic3RhdHVzIiwicmVjb25uZWN0RGVsYXlzIiwibWF4QXR0ZW1wdHMiLCJhdHRlbXB0UmVjb25uZWN0IiwiYXR0ZW1wdCIsImRlbGF5SW5kZXgiLCJNYXRoIiwibWluIiwiZGVsYXkiLCJsb2dFbnRyeSIsIm5ld0V2ZW50cyIsInNlbmRTeW5jUmVxdWVzdCIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwiZXhpc3RpbmdSb29tQ2hhbm5lbCIsImV4aXN0aW5nUGxheWVyc0NoYW5uZWwiLCJyb29tQ2hhbm5lbFN0YXRlIiwic3RhdGUiLCJwbGF5ZXJzQ2hhbm5lbFN0YXRlIiwicmVtb3ZlQ2hhbm5lbCIsImZldGNoRGF0YSIsInVzZXIiLCJnZXRVc2VyIiwicm9vbURhdGEiLCJyb29tRXJyb3IiLCJmZXRjaFBsYXllcnMiLCJjaGFubmVsIiwib24iLCJldmVudCIsInNjaGVtYSIsInRhYmxlIiwic3Vic2NyaWJlIiwiY2hhbm5lbE5hbWUiLCJmaWx0ZXJTdHJpbmciLCJyb29tQ2hhbm5lbCIsInBheWxvYWQiLCJuZXciLCJ1cGRhdGVkUm9vbSIsInByZXZSb29tIiwic2NvcmVfbGltaXQiLCJzaG91bGRQb2xsIiwicG9sbEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwicGxheWVyc0RhdGEiLCJwbGF5ZXJzRXJyb3IiLCJpcyIsImFsbFBsYXllcnMiLCJhbGxFcnJvciIsIlN0cmluZyIsInBsYXllcnNXaXRoUHJvZmlsZXMiLCJwcm9maWxlRXJyb3IiLCJzZW5kUmVhZHlNZXNzYWdlIiwicmVhZHlNZXNzYWdlIiwic2VuZFBsYXlNZXNzYWdlIiwicGxheU1lc3NhZ2UiLCJuZXdIYW5kIiwiaGFuZENhcmQiLCJzb21lIiwicGxheWVkQ2FyZCIsInByZXZPcmRlciIsInBsYXllZEluZGljZXMiLCJmaW5kSW5kZXgiLCJpZHgiLCJuZXdPcmRlciIsImFkanVzdG1lbnQiLCJwbGF5ZWRJZHgiLCJzZW5kU2V0UnVsZXNNZXNzYWdlIiwibmV3U2NvcmVMaW1pdCIsInJ1bGVzTWVzc2FnZSIsInNlbmRQYXNzTWVzc2FnZSIsInBhc3NNZXNzYWdlIiwiaGFuZGxlQ2FyZENsaWNrIiwiaXNTZWxlY3RlZCIsImMiLCJyYW5rIiwic3VpdCIsImhhbmRsZVBsYXkiLCJ2YWxpZExlbmd0aHMiLCJoYW5kbGVQYXNzIiwiaXNNeVR1cm4iLCJoYW5kbGVUb2dnbGVSZWFkeSIsInJvb21TdGF0ZVBsYXllciIsInN1cGFiYXNlUGxheWVyIiwiY3VycmVudFJlYWR5U3RhdGUiLCJuZXdSZWFkeVN0YXRlIiwic2VudCIsImN1cnJlbnRQbGF5ZXIiLCJ1cGRhdGUiLCJoYW5kbGVMZWF2ZSIsIm1hcmtNYW51YWxDbG9zZSIsImhhbmRsZVN0YXJ0IiwiZSIsInByZXZlbnREZWZhdWx0Iiwicm9vbUZldGNoRXJyb3IiLCJvd25lcl9pZCIsIm93bmVySWQiLCJ1cGRhdGVFcnJvciIsImVycm9yRGV0YWlscyIsImRldGFpbHMiLCJoaW50IiwicmVzZXRUaW1lb3V0IiwiY2hlY2tDb25uZWN0aW9uIiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlUmVjb25uZWN0IiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsImlzT3duZXIiLCJ0aXRsZSIsInN1YnRpdGxlIiwic2hvd1NpZ25PdXQiLCJ2YXJpYW50IiwiZGlzYWJsZWQiLCJpc0xvYWRpbmciLCJzdHJvbmciLCJzcGFuIiwidG9Mb2NhbGVTdHJpbmciLCJoZWFkZXIiLCJoMyIsInNpemUiLCJ0aW1lc3RhbXAiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJtc2ciLCJoMiIsInBsYXllcnNUb1JlbmRlciIsInJzcCIsImRpc3BsYXlOYW1lIiwiaXNDdXJyZW50UGxheWVyIiwiaGFzUGFzc2VkIiwiaXNDdXJyZW50VHVybiIsImN1cnJlbnRSZWFkeSIsImlzRGlzYWJsZWQiLCJsYWJlbCIsImh0bWxGb3IiLCJpbnB1dCIsIm1heCIsInZhbHVlIiwib25DaGFuZ2UiLCJOdW1iZXIiLCJ0YXJnZXQiLCJzdWNjZXNzIiwicGxheWVyTmFtZXMiLCJwbGF5ZXJBdmF0YXJzIiwib3JpZ2luYWxJZHgiLCJCb29sZWFuIiwiZHJhZ2dhYmxlIiwib25EcmFnU3RhcnQiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwiZWZmZWN0QWxsb3dlZCIsIm9uRHJhZ092ZXIiLCJkcm9wRWZmZWN0Iiwib25Ecm9wIiwiZHJhZ2dlZEluZGV4IiwicGFyc2VJbnQiLCJnZXREYXRhIiwiZHJvcEluZGV4IiwiXyIsImRyYWdnZWRQb3MiLCJpbmRleE9mIiwiZHJvcFBvcyIsInNwbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/pages/RoomPage.tsx\n"));

/***/ })

});