"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/room/[roomId]/page",{

/***/ "(app-pages-browser)/./src/pages/RoomPage.tsx":
/*!********************************!*\
  !*** ./src/pages/RoomPage.tsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoomPage: function() { return /* binding */ RoomPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/navigation */ \"(app-pages-browser)/./src/lib/navigation.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* harmony import */ var _lib_gameSocket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/gameSocket */ \"(app-pages-browser)/./src/lib/gameSocket.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/logger */ \"(app-pages-browser)/./src/lib/logger.ts\");\n/* harmony import */ var _types_cards__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../types/cards */ \"(app-pages-browser)/./src/types/cards.ts\");\n/* harmony import */ var _utils_cardSort__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/cardSort */ \"(app-pages-browser)/./src/utils/cardSort.ts\");\n/* harmony import */ var _components_TableView__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/TableView */ \"(app-pages-browser)/./src/components/TableView.tsx\");\n/* harmony import */ var _components_PlayingCard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/PlayingCard */ \"(app-pages-browser)/./src/components/PlayingCard.tsx\");\n/* harmony import */ var _components_QueuePanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/QueuePanel */ \"(app-pages-browser)/./src/components/QueuePanel.tsx\");\n/* harmony import */ var _components_AppShell__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/AppShell */ \"(app-pages-browser)/./src/components/AppShell.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/ui/Button */ \"(app-pages-browser)/./src/components/ui/Button.tsx\");\n/* harmony import */ var _components_ui_Card__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/ui/Card */ \"(app-pages-browser)/./src/components/ui/Card.tsx\");\n/* harmony import */ var _components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/ui/Badge */ \"(app-pages-browser)/./src/components/ui/Badge.tsx\");\n/* harmony import */ var _components_ui_Toast__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/ui/Toast */ \"(app-pages-browser)/./src/components/ui/Toast.tsx\");\n/* harmony import */ var _components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/ui/Skeleton */ \"(app-pages-browser)/./src/components/ui/Skeleton.tsx\");\n/* harmony import */ var _utils_cn__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/cn */ \"(app-pages-browser)/./src/utils/cn.ts\");\n/* __next_internal_client_entry_do_not_use__ RoomPage auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst isDev = \"development\" === \"development\";\nfunction RoomPage() {\n    _s();\n    const { roomId } = (0,_lib_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const navigate = (0,_lib_navigation__WEBPACK_IMPORTED_MODULE_2__.useNavigate)();\n    const [room, setRoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [players, setPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [updatingReady, setUpdatingReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [leaving, setLeaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isStarting, setIsStarting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // WebSocket state\n    const [wsStatus, setWsStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"disconnected\");\n    const [wsMessages, setWsMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [wsError, setWsError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const connectingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [wsEvents, setWsEvents] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [wsUrl, setWsUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const shouldReconnectRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true) // Control reconnection\n    ;\n    const reconnectAttemptRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const roomChannelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null) // Track room channel to prevent duplicate subscriptions\n    ;\n    const playersChannelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null) // Track players channel to prevent duplicate subscriptions\n    ;\n    // Game state from WS\n    const [roomStatePlayers, setRoomStatePlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [roundStart, setRoundStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // DEALT state\n    const [yourHand, setYourHand] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [handOrder, setHandOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]) // Custom order indices\n    ;\n    const [_pendingPlayCards, setPendingPlayCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null) // Cards we're trying to play (for error recovery) - state for setter, ref for reading\n    ;\n    const pendingPlayCardsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null) // Ref to access current pending cards in message handlers\n    ;\n    const [_starterPlayerId, setStarterPlayerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [_starterReason, setStarterReason] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [seatedPlayerIds, setSeatedPlayerIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [queuePlayerIds, setQueuePlayerIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Game state\n    const [selectedCards, setSelectedCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentTurnPlayerId, setCurrentTurnPlayerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [lastPlay, setLastPlay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [handsCount, setHandsCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [actionError, setActionError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [_canPass, setCanPass] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false) // Legacy, kept for backward compatibility (server may still send it, but PASS button uses lastPlay instead)\n    ;\n    const [passedPlayerIds, setPassedPlayerIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [roundEnd, setRoundEnd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Rules and scoring\n    const [scoreLimit, setScoreLimit] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(60);\n    const [_scoreboard, setScoreboard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [scoreLimitInput, setScoreLimitInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(60);\n    const [totalScores, setTotalScores] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [eliminated, setEliminated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Helper function to get display name for a player\n    const getPlayerDisplayName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((playerId)=>{\n        var _player_profile;\n        const player = players.find((p)=>p.player_id === playerId);\n        if (player === null || player === void 0 ? void 0 : (_player_profile = player.profile) === null || _player_profile === void 0 ? void 0 : _player_profile.display_name) {\n            return player.profile.display_name;\n        }\n        // Fallback to short ID if no display_name\n        return playerId.length > 8 ? \"\".concat(playerId.substring(0, 8), \"...\") : playerId;\n    }, [\n        players\n    ]);\n    // Create player name map for passing to components\n    const playerNameMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const map = {};\n        players.forEach((p)=>{\n            var _p_profile;\n            const name = ((_p_profile = p.profile) === null || _p_profile === void 0 ? void 0 : _p_profile.display_name) || \"\";\n            if (name) {\n                map[p.player_id] = name;\n            }\n        });\n        return map;\n    }, [\n        players\n    ]);\n    // Create player avatar map for passing to components\n    const playerAvatarMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const map = {};\n        players.forEach((p)=>{\n            var _p_profile;\n            if ((_p_profile = p.profile) === null || _p_profile === void 0 ? void 0 : _p_profile.avatar_url) {\n                map[p.player_id] = p.profile.avatar_url;\n            }\n        });\n        return map;\n    }, [\n        players\n    ]);\n    // Auto-connect function: connects to WS if room status is \"playing\"\n    const connectIfPlaying = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (roomStatus, roomIdToConnect)=>{\n        // If roomStatus !== \"playing\", do nothing\n        if (roomStatus !== \"playing\") {\n            shouldReconnectRef.current = false // Stop reconnecting if room not playing\n            ;\n            return;\n        }\n        // Enable reconnection when connecting\n        shouldReconnectRef.current = true;\n        // If already connected or connecting, do nothing\n        if (wsRef.current) {\n            const readyState = wsRef.current.readyState;\n            if (readyState === WebSocket.OPEN) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Already connected, skipping\");\n                return;\n            }\n            if (readyState === WebSocket.CONNECTING) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Already connecting, skipping\");\n                return;\n            }\n            // If closing or closed, clean up first\n            if (readyState === WebSocket.CLOSING || readyState === WebSocket.CLOSED) {\n                wsRef.current.close();\n                wsRef.current = null;\n            }\n        }\n        if (connectingRef.current) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Connection in progress (flag), skipping\");\n            return;\n        }\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] room.status is playing\");\n        try {\n            // Get Supabase session\n            const { data: { session } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.auth.getSession();\n            const hasToken = !!(session === null || session === void 0 ? void 0 : session.access_token);\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] token present?\", hasToken);\n            if (!(session === null || session === void 0 ? void 0 : session.access_token)) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] No access token available\");\n                setWsError(\"No access token available\");\n                setWsStatus(\"error\");\n                return;\n            }\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] creating WS\");\n            // Connect to WS using gameSocket helper\n            connectingRef.current = true;\n            setWsStatus(\"connecting\");\n            setWsError(null);\n            // Get WS URL for display\n            const wsUrlEnv = \"ws:localhost:4000/ws\" || 0 || 0;\n            setWsUrl(wsUrlEnv);\n            const ws = (0,_lib_gameSocket__WEBPACK_IMPORTED_MODULE_4__.connectGameSocketDebug)(roomIdToConnect, session.access_token, (message)=>{\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] message handler received\", message.type);\n                // Handle incoming messages (only store in dev for debug UI)\n                if (isDev) {\n                    setWsMessages((prev)=>{\n                        const newMessages = [\n                            message,\n                            ...prev\n                        ].slice(0, 20);\n                        return newMessages;\n                    });\n                }\n                // Handle ERROR messages from server\n                if (message.type === \"ERROR\") {\n                    const errorMsg = message.error || message.message || \"Server error\";\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Server ERROR:\", errorMsg);\n                    setWsError(errorMsg);\n                    setWsStatus(\"error\");\n                } else if (message.type === \"WELCOME\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received WELCOME\");\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] WS connected because room is playing\");\n                    setWsStatus(\"connected\");\n                    setWsError(null);\n                    connectingRef.current = false;\n                    reconnectAttemptRef.current = 0;\n                    // Send SYNC_REQUEST after WELCOME\n                    // Use roomIdToConnect to ensure we have the correct roomId from the function parameter\n                    setTimeout(()=>{\n                        const currentRoomId = roomIdToConnect || roomId;\n                        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN && currentRoomId) {\n                            try {\n                                // Validate roomId before sending\n                                if (!currentRoomId || typeof currentRoomId !== \"string\" || currentRoomId.trim() === \"\") {\n                                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Cannot send SYNC_REQUEST: Invalid roomId\", {\n                                        roomId: currentRoomId,\n                                        type: typeof currentRoomId,\n                                        fromParams: roomId,\n                                        fromConnect: roomIdToConnect\n                                    });\n                                    return;\n                                }\n                                const syncMessage = {\n                                    type: \"SYNC_REQUEST\",\n                                    roomId: currentRoomId.trim()\n                                };\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Sending SYNC_REQUEST:\", syncMessage);\n                                const messageString = JSON.stringify(syncMessage);\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] SYNC_REQUEST JSON:\", messageString);\n                                wsRef.current.send(messageString);\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] SYNC_REQUEST sent\");\n                            } catch (err) {\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Failed to send SYNC_REQUEST:\", err);\n                            }\n                        } else {\n                            var _wsRef_current;\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Cannot send SYNC_REQUEST:\", {\n                                wsReady: ((_wsRef_current = wsRef.current) === null || _wsRef_current === void 0 ? void 0 : _wsRef_current.readyState) === WebSocket.OPEN,\n                                roomId: currentRoomId,\n                                roomIdFromParams: roomId,\n                                roomIdFromConnect: roomIdToConnect\n                            });\n                        }\n                    }, 100) // Small delay to ensure connection is stable\n                    ;\n                } else if (message.type === \"STATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received STATE\");\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] WS connected because room is playing\");\n                    setWsStatus(\"connected\");\n                    setWsError(null);\n                    connectingRef.current = false;\n                    reconnectAttemptRef.current = 0;\n                    // Also send SYNC_REQUEST after STATE (in case WELCOME was missed)\n                    // Use roomIdToConnect to ensure we have the correct roomId from the function parameter\n                    setTimeout(()=>{\n                        const currentRoomId = roomIdToConnect || roomId;\n                        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN && currentRoomId) {\n                            try {\n                                // Validate roomId before sending\n                                if (!currentRoomId || typeof currentRoomId !== \"string\" || currentRoomId.trim() === \"\") {\n                                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Cannot send SYNC_REQUEST (after STATE): Invalid roomId\", {\n                                        roomId: currentRoomId,\n                                        type: typeof currentRoomId,\n                                        fromParams: roomId,\n                                        fromConnect: roomIdToConnect\n                                    });\n                                    return;\n                                }\n                                const syncMessage = {\n                                    type: \"SYNC_REQUEST\",\n                                    roomId: currentRoomId.trim()\n                                };\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Sending SYNC_REQUEST (after STATE):\", syncMessage);\n                                const messageString = JSON.stringify(syncMessage);\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] SYNC_REQUEST JSON (after STATE):\", messageString);\n                                wsRef.current.send(messageString);\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] SYNC_REQUEST sent (after STATE)\");\n                            } catch (err) {\n                                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Failed to send SYNC_REQUEST:\", err);\n                            }\n                        } else {\n                            var _wsRef_current;\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Cannot send SYNC_REQUEST (after STATE):\", {\n                                wsReady: ((_wsRef_current = wsRef.current) === null || _wsRef_current === void 0 ? void 0 : _wsRef_current.readyState) === WebSocket.OPEN,\n                                roomId: currentRoomId,\n                                roomIdFromParams: roomId,\n                                roomIdFromConnect: roomIdToConnect\n                            });\n                        }\n                    }, 100);\n                } else if (message.type === \"SYNC_STATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received SYNC_STATE\");\n                    // Clear any pending play cards (state synced from server)\n                    setPendingPlayCards(null);\n                    pendingPlayCardsRef.current = null;\n                    // Apply SYNC_STATE - overwrite all relevant state (do NOT merge)\n                    if (message.seatedPlayerIds && Array.isArray(message.seatedPlayerIds)) {\n                        setSeatedPlayerIds(message.seatedPlayerIds);\n                    }\n                    if (message.queuePlayerIds && Array.isArray(message.queuePlayerIds)) {\n                        setQueuePlayerIds(message.queuePlayerIds);\n                    }\n                    if (message.currentTurnPlayerId) {\n                        setCurrentTurnPlayerId(message.currentTurnPlayerId);\n                    }\n                    if (message.lastPlay) {\n                        const normalizedLastPlay = {\n                            playerId: message.lastPlay.playerId,\n                            cards: Array.isArray(message.lastPlay.cards) ? message.lastPlay.cards.map((card)=>(0,_types_cards__WEBPACK_IMPORTED_MODULE_6__.normalizeCard)(card)) : [],\n                            kind: message.lastPlay.kind,\n                            fiveKind: message.lastPlay.fiveKind\n                        };\n                        setLastPlay(normalizedLastPlay);\n                    } else {\n                        setLastPlay(null);\n                    }\n                    if (message.handsCount && typeof message.handsCount === \"object\") {\n                        setHandsCount(message.handsCount);\n                    }\n                    if (message.totalScores && typeof message.totalScores === \"object\") {\n                        const scoresMap = {};\n                        for (const [playerId, score] of Object.entries(message.totalScores)){\n                            scoresMap[playerId] = typeof score === \"number\" ? score : 0;\n                        }\n                        setTotalScores(scoresMap);\n                    }\n                    if (message.eliminated && Array.isArray(message.eliminated)) {\n                        setEliminated(message.eliminated);\n                    }\n                    if (message.yourHand && Array.isArray(message.yourHand)) {\n                        const normalizedHand = message.yourHand.map((card)=>(0,_types_cards__WEBPACK_IMPORTED_MODULE_6__.normalizeCard)(card));\n                        const sortedHand = (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(normalizedHand);\n                        setYourHand(sortedHand);\n                        setHandOrder([]) // Reset custom order when new hand is received\n                        ;\n                    }\n                    if (typeof message.scoreLimit === \"number\") {\n                        setScoreLimit(message.scoreLimit);\n                    }\n                } else if (message.type === \"ROOM_STATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received ROOM_STATE\");\n                    if (message.players && Array.isArray(message.players)) {\n                        setRoomStatePlayers(message.players);\n                        // Fetch profiles for any new players that don't have profiles yet\n                        // Use functional update to access current players state\n                        setPlayers((currentPlayers)=>{\n                            const newPlayerIds = message.players.map((p)=>p.playerId);\n                            const existingPlayerIds = new Set(currentPlayers.map((p)=>p.player_id));\n                            const missingPlayerIds = newPlayerIds.filter((id)=>!existingPlayerIds.has(id));\n                            if (missingPlayerIds.length > 0 && roomId) {\n                                // Fetch profiles for missing players asynchronously\n                                Promise.all(missingPlayerIds.map(async (playerId)=>{\n                                    try {\n                                        const { data: profile } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"profiles\").select(\"id, display_name, avatar_url\").eq(\"id\", playerId).single();\n                                        // Update players state with new profile\n                                        if (profile) {\n                                            setPlayers((prev)=>{\n                                                var _message_players_find;\n                                                const existing = prev.find((p)=>p.player_id === playerId);\n                                                if (existing) {\n                                                    return prev.map((p)=>p.player_id === playerId ? {\n                                                            ...p,\n                                                            profile: profile\n                                                        } : p);\n                                                }\n                                                // If player doesn't exist in players list, add them\n                                                return [\n                                                    ...prev,\n                                                    {\n                                                        player_id: playerId,\n                                                        room_id: roomId,\n                                                        is_ready: ((_message_players_find = message.players.find((p)=>p.playerId === playerId)) === null || _message_players_find === void 0 ? void 0 : _message_players_find.isReady) || false,\n                                                        left_at: null,\n                                                        joined_at: new Date().toISOString(),\n                                                        id: \"\",\n                                                        profile: profile\n                                                    }\n                                                ];\n                                            });\n                                        }\n                                    } catch (err) {\n                                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"Failed to fetch profile for player \".concat(playerId, \":\"), err);\n                                    }\n                                })).catch((err)=>{\n                                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"Failed to fetch profiles for new players:\", err);\n                                });\n                            }\n                            return currentPlayers // Return current state, updates will happen via setPlayers in Promise\n                            ;\n                        });\n                    }\n                } else if (message.type === \"ROUND_START\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received ROUND_START\");\n                    if (message.roomId && message.startedAt) {\n                        setRoundStart({\n                            roomId: message.roomId,\n                            startedAt: message.startedAt\n                        });\n                    }\n                } else if (message.type === \"RULES\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received RULES\");\n                    if (typeof message.scoreLimit === \"number\") {\n                        setScoreLimit(message.scoreLimit);\n                        setScoreLimitInput(message.scoreLimit);\n                    }\n                } else if (message.type === \"SCORE_UPDATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received SCORE_UPDATE\");\n                    if (message.totalScores && typeof message.totalScores === \"object\") {\n                        const scores = [];\n                        const scoresMap = {};\n                        for (const [playerId, score] of Object.entries(message.totalScores)){\n                            const scoreValue = typeof score === \"number\" ? score : 0;\n                            scoresMap[playerId] = scoreValue;\n                            scores.push({\n                                playerId,\n                                totalScore: scoreValue,\n                                eliminated: message.eliminated && Array.isArray(message.eliminated) ? message.eliminated.includes(playerId) : false\n                            });\n                        }\n                        setTotalScores(scoresMap);\n                        setScoreboard(scores);\n                        if (message.eliminated && Array.isArray(message.eliminated)) {\n                            setEliminated(message.eliminated);\n                        }\n                    }\n                } else if (message.type === \"DEALT\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received DEALT\");\n                    // Hide round end banner when new hand is dealt\n                    setRoundEnd(null);\n                    // Clear any pending play cards (new hand dealt)\n                    setPendingPlayCards(null);\n                    pendingPlayCardsRef.current = null;\n                    if (message.yourHand && Array.isArray(message.yourHand)) {\n                        // Normalize cards to handle various formats (numeric, symbol, or canonical)\n                        const normalizedHand = message.yourHand.map((card)=>(0,_types_cards__WEBPACK_IMPORTED_MODULE_6__.normalizeCard)(card));\n                        const sortedHand = (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(normalizedHand);\n                        setYourHand(sortedHand);\n                        setSelectedCards([]) // Reset selection when new hand is dealt\n                        ;\n                        setHandOrder([]) // Reset custom order when new hand is dealt\n                        ;\n                    }\n                    if (message.starterPlayerId) {\n                        setStarterPlayerId(message.starterPlayerId);\n                    }\n                    if (message.reason) {\n                        setStarterReason(message.reason);\n                    }\n                    if (message.seatedPlayerIds && Array.isArray(message.seatedPlayerIds)) {\n                        setSeatedPlayerIds(message.seatedPlayerIds);\n                    }\n                } else if (message.type === \"GAME_STATE\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received GAME_STATE\");\n                    if (message.currentTurnPlayerId) {\n                        setCurrentTurnPlayerId(message.currentTurnPlayerId);\n                    }\n                    if (message.lastPlay) {\n                        const normalizedLastPlay = {\n                            playerId: message.lastPlay.playerId,\n                            cards: Array.isArray(message.lastPlay.cards) ? message.lastPlay.cards.map((card)=>(0,_types_cards__WEBPACK_IMPORTED_MODULE_6__.normalizeCard)(card)) : [],\n                            kind: message.lastPlay.kind,\n                            fiveKind: message.lastPlay.fiveKind // STRAIGHT, FLUSH, FULL_HOUSE, FOUR, STRAIGHT_FLUSH\n                        };\n                        setLastPlay(normalizedLastPlay);\n                        // If this is our play (successful), clear pending cards\n                        if (normalizedLastPlay.playerId === currentUserId && pendingPlayCardsRef.current) {\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Play successful, clearing pending cards\");\n                            setPendingPlayCards(null);\n                            pendingPlayCardsRef.current = null;\n                        }\n                    } else {\n                        setLastPlay(null);\n                    }\n                    // Clear selection on GAME_STATE update (turn change)\n                    setSelectedCards([]);\n                    if (message.handsCount && typeof message.handsCount === \"object\") {\n                        setHandsCount(message.handsCount);\n                    }\n                    if (typeof message.canPass === \"boolean\") {\n                        setCanPass(message.canPass) // Legacy, kept for backward compatibility (not used for button logic)\n                        ;\n                    }\n                    // Handle passedPlayerIds if provided by server\n                    if (message.passedPlayerIds && Array.isArray(message.passedPlayerIds)) {\n                        setPassedPlayerIds(message.passedPlayerIds);\n                    } else {\n                        // Reset if not provided (server may omit it when no one has passed)\n                        setPassedPlayerIds([]);\n                    }\n                    // Handle queuePlayerIds if provided\n                    if (message.queuePlayerIds && Array.isArray(message.queuePlayerIds)) {\n                        setQueuePlayerIds(message.queuePlayerIds);\n                    }\n                    // Handle totalScores and eliminated if provided\n                    if (message.totalScores && typeof message.totalScores === \"object\") {\n                        const scoresMap = {};\n                        for (const [playerId, score] of Object.entries(message.totalScores)){\n                            scoresMap[playerId] = typeof score === \"number\" ? score : 0;\n                        }\n                        setTotalScores(scoresMap);\n                    }\n                    if (message.eliminated && Array.isArray(message.eliminated)) {\n                        setEliminated(message.eliminated);\n                    }\n                } else if (message.type === \"ACTION_ERROR\") {\n                    const errorMsg = message.error || message.message || \"Action error\";\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Received ACTION_ERROR:\", errorMsg);\n                    setActionError(errorMsg);\n                    // Restore cards if we had pending play cards (error recovery)\n                    const pendingCards = pendingPlayCardsRef.current;\n                    if (pendingCards && pendingCards.length > 0) {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Restoring cards after ACTION_ERROR:\", pendingCards);\n                        setYourHand((prevHand)=>{\n                            if (!prevHand) return prevHand;\n                            // Add back the pending cards\n                            const restoredHand = [\n                                ...prevHand,\n                                ...pendingCards\n                            ];\n                            return (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(restoredHand);\n                        });\n                        // Reset handOrder since we're restoring cards\n                        setHandOrder([]);\n                        // Clear pending cards\n                        setPendingPlayCards(null);\n                        pendingPlayCardsRef.current = null;\n                    }\n                    // Do NOT clear selection on error - user may want to adjust\n                    // Clear error after 5 seconds\n                    setTimeout(()=>setActionError(null), 5000);\n                } else if (message.type === \"ROUND_END\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] Received ROUND_END\");\n                    if (message.winnerPlayerId) {\n                        setRoundEnd({\n                            winnerPlayerId: message.winnerPlayerId\n                        });\n                    }\n                } else if (message.type === \"WS_ERROR\" || message.type === \"PARSE_ERROR\") {\n                    const errorMsg = message.error || \"WebSocket error\";\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Client error:\", errorMsg);\n                    setWsError(errorMsg);\n                    setWsStatus(\"error\");\n                    connectingRef.current = false;\n                } else if (message.type === \"WS_OPEN_TIMEOUT\") {\n                    const errorMsg = message.error || \"WebSocket open timeout\";\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[WS] Open timeout:\", errorMsg);\n                    setWsError(errorMsg);\n                    setWsStatus(\"error\");\n                    connectingRef.current = false;\n                }\n            }, (code, reason, wasClean)=>{\n                // On close - handle reconnection at RoomPage level\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[WS] close handler: code=\".concat(code, \", reason=\").concat(reason, \", wasClean=\").concat(wasClean));\n                wsRef.current = null;\n                connectingRef.current = false;\n                // Only attempt reconnect if it wasn't a manual close and room is still playing\n                if (shouldReconnectRef.current && (room === null || room === void 0 ? void 0 : room.status) === \"playing\" && !wasClean) {\n                    // Start reconnection with exponential backoff\n                    const reconnectDelays = [\n                        500,\n                        1000,\n                        2000,\n                        4000,\n                        8000\n                    ];\n                    const maxAttempts = 10;\n                    const attemptReconnect = async (attempt)=>{\n                        if (!shouldReconnectRef.current || (room === null || room === void 0 ? void 0 : room.status) !== \"playing\") {\n                            setWsStatus(\"disconnected\");\n                            return;\n                        }\n                        if (attempt > maxAttempts) {\n                            setWsStatus(\"disconnected\");\n                            setWsError(\"Failed to reconnect after 10 attempts\");\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Reconnect] Max attempts reached, giving up\");\n                            return;\n                        }\n                        const delayIndex = Math.min(attempt - 1, reconnectDelays.length - 1);\n                        const delay = reconnectDelays[delayIndex];\n                        reconnectAttemptRef.current = attempt;\n                        setWsStatus(\"reconnecting\");\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Reconnect] Attempt \".concat(attempt, \" in \").concat(delay, \"ms\"));\n                        setTimeout(async ()=>{\n                            if (!shouldReconnectRef.current || (room === null || room === void 0 ? void 0 : room.status) !== \"playing\") {\n                                setWsStatus(\"disconnected\");\n                                return;\n                            }\n                            // Check if we're already connected/connecting before attempting\n                            if (wsRef.current) {\n                                const readyState = wsRef.current.readyState;\n                                if (readyState === WebSocket.OPEN || readyState === WebSocket.CONNECTING) {\n                                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Reconnect] Already connected/connecting, skipping\");\n                                    return;\n                                }\n                            }\n                            await connectIfPlaying(room.status, room.id);\n                            // Check connection status after a delay to see if we need to retry\n                            setTimeout(()=>{\n                                if (shouldReconnectRef.current && (room === null || room === void 0 ? void 0 : room.status) === \"playing\") {\n                                    // Check if we're still not connected\n                                    if (!wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n                                        attemptReconnect(attempt + 1);\n                                    }\n                                }\n                            }, delay + 1000) // Check after delay + 1s\n                            ;\n                        }, delay);\n                    };\n                    attemptReconnect(1);\n                } else {\n                    setWsStatus(\"disconnected\");\n                }\n            }, (logEntry)=>{\n                // Event log callback (only store in dev for debug UI)\n                if (isDev) {\n                    setWsEvents((prev)=>{\n                        const newEvents = [\n                            logEntry,\n                            ...prev\n                        ].slice(0, 20);\n                        return newEvents;\n                    });\n                }\n            });\n            wsRef.current = ws;\n            // Update wsRef when reconnecting (the reconnect creates a new ws)\n            if (ws.sendSyncRequest) {\n            // Store reference for SYNC_REQUEST\n            }\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to connect to game server\";\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[AutoConnect] Connection error:\", err);\n            setWsError(errorMessage);\n            setWsStatus(\"error\");\n            wsRef.current = null;\n            connectingRef.current = false;\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!roomId) {\n            navigate(\"/lobby\");\n            return;\n        }\n        // Guard: Don't create channels if they already exist\n        // Check if channels exist and are in a valid state (not closed)\n        const existingRoomChannel = roomChannelRef.current;\n        const existingPlayersChannel = playersChannelRef.current;\n        if (existingRoomChannel && existingPlayersChannel) {\n            // Check channel state - Supabase channels have a state property\n            const roomChannelState = existingRoomChannel.state;\n            const playersChannelState = existingPlayersChannel.state;\n            // If channels are still subscribed or joining, don't recreate\n            if (roomChannelState === \"joined\" || roomChannelState === \"joining\" || playersChannelState === \"joined\" || playersChannelState === \"joining\") {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Channels already exist and active, skipping creation\");\n                return;\n            }\n            // If channels are closed/errored, clean them up first\n            if (roomChannelState === \"closed\" || roomChannelState === \"errored\" || playersChannelState === \"closed\" || playersChannelState === \"errored\") {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Cleaning up closed/errored channels\");\n                _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(existingRoomChannel);\n                _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(existingPlayersChannel);\n                roomChannelRef.current = null;\n                playersChannelRef.current = null;\n            }\n        }\n        const fetchData = async ()=>{\n            try {\n                const { data: { user } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.auth.getUser();\n                if (!user) {\n                    navigate(\"/auth\");\n                    return;\n                }\n                setCurrentUserId(user.id);\n                // Fetch room\n                const { data: roomData, error: roomError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"rooms\").select(\"*\").eq(\"id\", roomId).single();\n                if (roomError || !roomData) {\n                    throw new Error(\"Room not found\");\n                }\n                setRoom(roomData);\n                // Fetch players\n                await fetchPlayers(roomId);\n                // Clean up existing channels if they exist (prevent duplicates)\n                if (playersChannelRef.current) {\n                    _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(playersChannelRef.current);\n                    playersChannelRef.current = null;\n                }\n                if (roomChannelRef.current) {\n                    _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(roomChannelRef.current);\n                    roomChannelRef.current = null;\n                }\n                // Subscribe to room_players changes\n                const channel = _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.channel(\"room_players:\".concat(roomId)).on(\"postgres_changes\", {\n                    event: \"*\",\n                    schema: \"public\",\n                    table: \"room_players\",\n                    filter: \"room_id=eq.\".concat(roomId)\n                }, ()=>{\n                    fetchPlayers(roomId);\n                }).subscribe();\n                playersChannelRef.current = channel;\n                // Subscribe to room status changes\n                const channelName = \"room:\".concat(roomId);\n                const filterString = \"id=eq.\".concat(roomId);\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Creating channel:\", channelName);\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Filter:\", filterString);\n                const roomChannel = _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.channel(channelName).on(\"postgres_changes\", {\n                    event: \"UPDATE\",\n                    schema: \"public\",\n                    table: \"rooms\",\n                    filter: filterString\n                }, (payload)=>{\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] payload received\");\n                    if (payload.new) {\n                        const updatedRoom = payload.new;\n                        // Only update if room actually changed to prevent unnecessary re-renders\n                        setRoom((prevRoom)=>{\n                            if (prevRoom && prevRoom.id === updatedRoom.id && prevRoom.status === updatedRoom.status && prevRoom.score_limit === updatedRoom.score_limit) {\n                                // Room hasn't meaningfully changed, return previous to prevent re-render\n                                return prevRoom;\n                            }\n                            return updatedRoom;\n                        });\n                        // Auto-connect when status becomes \"playing\" (for ALL users)\n                        if (updatedRoom.status === \"playing\") {\n                            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Realtime: room status updated to playing\");\n                            connectIfPlaying(updatedRoom.status, roomId);\n                        }\n                    }\n                }).subscribe((status)=>{\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Subscribe status:\", status);\n                    if (status === \"SUBSCRIBED\") {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Successfully subscribed to room updates\");\n                    } else if (status === \"TIMED_OUT\") {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[RoomsRT] Subscription timed out\");\n                    // Don't recreate on timeout - let it retry naturally\n                    } else if (status === \"CHANNEL_ERROR\") {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[RoomsRT] Channel error occurred\");\n                        // Clear ref so it can be recreated on next effect run\n                        if (roomChannelRef.current === roomChannel) {\n                            roomChannelRef.current = null;\n                        }\n                    } else if (status === \"CLOSED\") {\n                        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[RoomsRT] Channel closed\");\n                        // Only clear ref if this is the current channel (not a stale one)\n                        // Don't recreate immediately to avoid infinite loop\n                        if (roomChannelRef.current === roomChannel) {\n                            roomChannelRef.current = null;\n                        }\n                    }\n                });\n                roomChannelRef.current = roomChannel;\n                // A) After initial room fetch: auto-connect if already \"playing\"\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[AutoConnect] Initial fetch: room.status =\", roomData.status);\n                connectIfPlaying(roomData.status, roomId);\n                return ()=>{\n                    if (playersChannelRef.current) {\n                        _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(playersChannelRef.current);\n                        playersChannelRef.current = null;\n                    }\n                    if (roomChannelRef.current) {\n                        _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.removeChannel(roomChannelRef.current);\n                        roomChannelRef.current = null;\n                    }\n                    // Close WebSocket on unmount\n                    if (wsRef.current) {\n                        wsRef.current.close();\n                        wsRef.current = null;\n                    }\n                    connectingRef.current = false;\n                };\n            } catch (err) {\n                if (err instanceof Error) {\n                    setError(err.message);\n                } else {\n                    setError(\"Failed to load room\");\n                }\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        roomId\n    ]) // Only depend on roomId - navigate is stable, but we removed it to be safe\n    ;\n    // Initialize scoreLimit from room data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (room === null || room === void 0 ? void 0 : room.score_limit) {\n            setScoreLimit(room.score_limit);\n            setScoreLimitInput(room.score_limit);\n        }\n    }, [\n        room === null || room === void 0 ? void 0 : room.score_limit\n    ]);\n    // Fallback polling: check room status every 1s if not connected and room not playing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!roomId || !room) return;\n        // Only poll if:\n        // - WS is not connected/connecting\n        // - local room.status is not \"playing\" yet\n        const shouldPoll = wsStatus !== \"connected\" && wsStatus !== \"connecting\" && room.status !== \"playing\";\n        if (!shouldPoll) {\n            return;\n        }\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Polling] Starting fallback polling for room status\");\n        const pollInterval = setInterval(async ()=>{\n            try {\n                const { data: roomData, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"rooms\").select(\"status\").eq(\"id\", roomId).single();\n                if (error) {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Polling] Error fetching room status:\", error);\n                    return;\n                }\n                if ((roomData === null || roomData === void 0 ? void 0 : roomData.status) === \"playing\") {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Polling] Room status changed to playing, connecting WS\");\n                    connectIfPlaying(\"playing\", roomId);\n                    // Stop polling once connected\n                    clearInterval(pollInterval);\n                }\n            } catch (err) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Polling] Polling error:\", err);\n            }\n        }, 1000);\n        return ()=>{\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Polling] Stopping fallback polling\");\n            clearInterval(pollInterval);\n        };\n    }, [\n        roomId,\n        room === null || room === void 0 ? void 0 : room.status,\n        wsStatus,\n        connectIfPlaying\n    ]);\n    const fetchPlayers = async (id)=>{\n        try {\n            // Try querying with .is() filter first\n            let { data: playersData, error: playersError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"room_players\").select(\"*\").eq(\"room_id\", id).is(\"left_at\", null) // Only show players who haven't left\n            ;\n            // If that fails (500 error or any error), try fetching all and filtering client-side\n            if (playersError) {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"Query with .is() failed, trying alternative approach:\", playersError);\n                const { data: allPlayers, error: allError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"room_players\").select(\"*\").eq(\"room_id\", id);\n                if (allError) {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"Failed to fetch players:\", allError);\n                    const errorMsg = (allError === null || allError === void 0 ? void 0 : allError.message) || String(allError);\n                    setError(\"Failed to load players: \".concat(errorMsg));\n                    return;\n                }\n                // Filter client-side for players who haven't left\n                playersData = (allPlayers === null || allPlayers === void 0 ? void 0 : allPlayers.filter((p)=>p.left_at === null)) || null;\n            }\n            if (!playersData || playersData.length === 0) {\n                setPlayers([]);\n                return;\n            }\n            // Fetch profiles for each player\n            const playersWithProfiles = await Promise.all(playersData.map(async (player)=>{\n                const { data: profile, error: profileError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"profiles\").select(\"id, display_name, avatar_url\").eq(\"id\", player.player_id).single();\n                // Log profile errors but don't fail the whole operation\n                if (profileError) {\n                    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"Failed to fetch profile for player \".concat(player.player_id, \":\"), profileError);\n                }\n                return {\n                    ...player,\n                    profile: profile\n                };\n            }));\n            setPlayers(playersWithProfiles);\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"Error in fetchPlayers:\", err);\n            const errorMessage = err instanceof Error ? err.message : \"Failed to fetch players\";\n            setError(errorMessage);\n        }\n    };\n    // Send READY message via WebSocket\n    const sendReadyMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((isReady)=>{\n        if (!roomId || !wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[READY] Cannot send READY: WS not connected\");\n            return false;\n        }\n        try {\n            const readyMessage = {\n                type: \"READY\",\n                roomId,\n                isReady\n            };\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[READY] Sending READY message\");\n            wsRef.current.send(JSON.stringify(readyMessage));\n            return true;\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[READY] Failed to send READY message:\", err);\n            return false;\n        }\n    }, [\n        roomId\n    ]);\n    // Send PLAY message via WebSocket\n    const sendPlayMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((cards)=>{\n        if (!roomId || !wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[PLAY] Cannot send PLAY: WS not connected\");\n            return false;\n        }\n        try {\n            const playMessage = {\n                type: \"PLAY\",\n                roomId,\n                cards\n            };\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[PLAY] Sending PLAY message\");\n            wsRef.current.send(JSON.stringify(playMessage));\n            setActionError(null) // Clear any previous errors\n            ;\n            // Store cards we're trying to play (for error recovery)\n            setPendingPlayCards(cards);\n            pendingPlayCardsRef.current = cards;\n            // Optimistically remove played cards from yourHand in real-time\n            // If server returns error, we'll restore them\n            setYourHand((prevHand)=>{\n                if (!prevHand) return prevHand;\n                // Filter out the played cards\n                let newHand = prevHand.filter((handCard)=>{\n                    return !cards.some((playedCard)=>(0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.cardsEqual)(playedCard, handCard));\n                });\n                // Re-sort the remaining cards to maintain proper order\n                newHand = (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(newHand);\n                // Update handOrder to remove indices of played cards\n                setHandOrder((prevOrder)=>{\n                    if (prevOrder.length === 0) return [];\n                    // Find indices of played cards in original hand\n                    const playedIndices = new Set(cards.map((playedCard)=>prevHand.findIndex((handCard)=>(0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.cardsEqual)(handCard, playedCard))).filter((idx)=>idx !== -1));\n                    // Remove played indices and adjust remaining indices\n                    const newOrder = prevOrder.filter((idx)=>!playedIndices.has(idx)).map((idx)=>{\n                        // Adjust index: count how many played cards were before this index\n                        const adjustment = Array.from(playedIndices).filter((playedIdx)=>playedIdx < idx).length;\n                        return idx - adjustment;\n                    });\n                    return newOrder;\n                });\n                return newHand;\n            });\n            // Clear selection after sending (optimistic)\n            setSelectedCards([]);\n            return true;\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[PLAY] Failed to send PLAY message:\", err);\n            setActionError(\"Failed to send play message\");\n            return false;\n        }\n    }, [\n        roomId\n    ]);\n    // Send SET_RULES message via WebSocket\n    const sendSetRulesMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((newScoreLimit)=>{\n        if (!roomId || !wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[SET_RULES] Cannot send SET_RULES: WS not connected\");\n            return false;\n        }\n        try {\n            const rulesMessage = {\n                type: \"SET_RULES\",\n                roomId,\n                scoreLimit: newScoreLimit\n            };\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[SET_RULES] Sending SET_RULES message\");\n            wsRef.current.send(JSON.stringify(rulesMessage));\n            setActionError(null) // Clear any previous errors\n            ;\n            return true;\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[SET_RULES] Failed to send SET_RULES message:\", err);\n            setActionError(\"Failed to set rules\");\n            return false;\n        }\n    }, [\n        roomId\n    ]);\n    // Send PASS message via WebSocket\n    const sendPassMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!roomId || !wsRef.current || wsRef.current.readyState !== WebSocket.OPEN) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.warn)(\"[PASS] Cannot send PASS: WS not connected\");\n            return false;\n        }\n        try {\n            const passMessage = {\n                type: \"PASS\",\n                roomId\n            };\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[PASS] Sending PASS message\");\n            wsRef.current.send(JSON.stringify(passMessage));\n            setActionError(null) // Clear any previous errors\n            ;\n            return true;\n        } catch (err) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[PASS] Failed to send PASS message:\", err);\n            setActionError(\"Failed to send pass message\");\n            return false;\n        }\n    }, [\n        roomId\n    ]);\n    const handleCardClick = (card)=>{\n        // Toggle selection (max 5 cards)\n        setSelectedCards((prev)=>{\n            // Check if card is already selected\n            const isSelected = prev.some((c)=>c.rank === card.rank && c.suit === card.suit);\n            if (isSelected) {\n                // Remove from selection\n                return prev.filter((c)=>!(c.rank === card.rank && c.suit === card.suit));\n            } else {\n                // Add to selection if under limit\n                if (prev.length >= 5) {\n                    return prev // Max 5 cards\n                    ;\n                }\n                return [\n                    ...prev,\n                    card\n                ];\n            }\n        });\n    };\n    const handlePlay = ()=>{\n        // Allow 1, 2, 3, or 5 cards (not 4)\n        const validLengths = [\n            1,\n            2,\n            3,\n            5\n        ];\n        if (!validLengths.includes(selectedCards.length)) return;\n        sendPlayMessage(selectedCards);\n    // Selection cleared in sendPlayMessage after successful send\n    };\n    const handlePass = ()=>{\n        sendPassMessage();\n    };\n    const isMyTurn = currentTurnPlayerId === currentUserId;\n    const handleToggleReady = async ()=>{\n        var _wsRef_current;\n        if (!roomId || !currentUserId || updatingReady) return;\n        // If WS is connected, use WS READY messages\n        if (wsStatus === \"connected\" && ((_wsRef_current = wsRef.current) === null || _wsRef_current === void 0 ? void 0 : _wsRef_current.readyState) === WebSocket.OPEN) {\n            // Get current ready state from ROOM_STATE if available, otherwise from Supabase\n            const roomStatePlayer = roomStatePlayers.find((p)=>p.playerId === currentUserId);\n            const supabasePlayer = players.find((p)=>p.player_id === currentUserId);\n            var _supabasePlayer_is_ready;\n            const currentReadyState = roomStatePlayer ? roomStatePlayer.isReady : (_supabasePlayer_is_ready = supabasePlayer === null || supabasePlayer === void 0 ? void 0 : supabasePlayer.is_ready) !== null && _supabasePlayer_is_ready !== void 0 ? _supabasePlayer_is_ready : false;\n            const newReadyState = !currentReadyState;\n            setUpdatingReady(true);\n            const sent = sendReadyMessage(newReadyState);\n            if (!sent) {\n                setError(\"Failed to send ready status. Please try again.\");\n            }\n            setUpdatingReady(false);\n            return;\n        }\n        // Fallback to Supabase if WS not connected\n        setUpdatingReady(true);\n        try {\n            const currentPlayer = players.find((p)=>p.player_id === currentUserId);\n            if (!currentPlayer) return;\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"room_players\").update({\n                is_ready: !currentPlayer.is_ready\n            }).eq(\"room_id\", roomId).eq(\"player_id\", currentUserId);\n            if (error) throw error;\n        } catch (err) {\n            if (err instanceof Error) {\n                setError(err.message);\n            }\n        } finally{\n            setUpdatingReady(false);\n        }\n    };\n    const handleLeave = async ()=>{\n        if (!roomId || !currentUserId || leaving) return;\n        setLeaving(true);\n        try {\n            // Stop reconnection attempts\n            shouldReconnectRef.current = false;\n            // Mark as manual close and close WebSocket connection\n            if (wsRef.current) {\n                const markManualClose = wsRef.current.markManualClose;\n                if (markManualClose) {\n                    markManualClose();\n                }\n                wsRef.current.close();\n                wsRef.current = null;\n            }\n            connectingRef.current = false;\n            setWsStatus(\"disconnected\");\n            // Update left_at\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"room_players\").update({\n                left_at: new Date().toISOString()\n            }).eq(\"room_id\", roomId).eq(\"player_id\", currentUserId);\n            if (error) throw error;\n            navigate(\"/lobby\");\n        } catch (err) {\n            if (err instanceof Error) {\n                setError(err.message);\n            }\n        } finally{\n            setLeaving(false);\n        }\n    };\n    const handleStart = async (e)=>{\n        e === null || e === void 0 ? void 0 : e.preventDefault();\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] clicked\");\n        if (isStarting) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Already starting, ignoring duplicate click\");\n            return;\n        }\n        if (!roomId || !currentUserId) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Missing roomId or currentUserId\", {\n                roomId,\n                currentUserId\n            });\n            setError(\"Missing room ID or user ID\");\n            return;\n        }\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] roomId\", roomId);\n        setIsStarting(true);\n        try {\n            // Get session and access token\n            const { data: { session } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.auth.getSession();\n            const hasToken = !!(session === null || session === void 0 ? void 0 : session.access_token);\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] session token present?\", hasToken);\n            if (!(session === null || session === void 0 ? void 0 : session.access_token)) {\n                setError(\"No access token available. Please log in again.\");\n                setWsError(\"No access token available\");\n                return;\n            }\n            // Fetch the room row first to verify ownership and current status\n            const { data: roomData, error: roomFetchError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"rooms\").select(\"id, owner_id, status\").eq(\"id\", roomId).single();\n            if (roomFetchError || !roomData) {\n                const errorMsg = (roomFetchError === null || roomFetchError === void 0 ? void 0 : roomFetchError.message) || \"Room not found\";\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Start] room fetch error:\", roomFetchError);\n                setError(\"Failed to fetch room: \".concat(errorMsg));\n                setWsError(\"Failed to fetch room: \".concat(errorMsg));\n                return;\n            }\n            // Verify ownership\n            if (currentUserId !== roomData.owner_id) {\n                const errorMsg = \"Only the room owner can start the game\";\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Ownership check failed\", {\n                    currentUserId,\n                    ownerId: roomData.owner_id\n                });\n                setError(errorMsg);\n                setWsError(errorMsg);\n                return;\n            }\n            // If status is already \"playing\", do nothing (WS connection handled by connectIfPlaying)\n            if (roomData.status === \"playing\") {\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Room already playing, skipping PATCH\");\n                setIsStarting(false);\n                return;\n            }\n            // Update room status to 'playing'\n            // The realtime subscription will trigger connectIfPlaying for ALL users (including owner)\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] Patching rooms.status to 'playing'\");\n            const { error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"rooms\").update({\n                status: \"playing\"\n            }).eq(\"id\", roomId);\n            if (updateError) {\n                // Handle Supabase error with detailed information\n                const errorDetails = {\n                    status: (updateError === null || updateError === void 0 ? void 0 : updateError.status) || \"unknown\",\n                    message: updateError.message || \"Unknown error\",\n                    details: (updateError === null || updateError === void 0 ? void 0 : updateError.details) || null,\n                    hint: (updateError === null || updateError === void 0 ? void 0 : updateError.hint) || null\n                };\n                (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Start] patch rooms.status result ERROR:\", errorDetails);\n                const errorMsg = \"Failed to update room status: \".concat(errorDetails.message).concat(errorDetails.hint ? \" (\".concat(errorDetails.hint, \")\") : \"\");\n                setError(errorMsg);\n                setWsError(errorMsg);\n                setIsStarting(false);\n                return;\n            }\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.log)(\"[Start] patch rooms.status result SUCCESS\");\n            // Note: WS connection will be triggered by realtime subscription via connectIfPlaying\n            // Reset isStarting when WS connects or after a timeout\n            const resetTimeout = setTimeout(()=>{\n                setIsStarting(false);\n            }, 5000);\n            // Also reset when WS connects or errors\n            const checkConnection = setInterval(()=>{\n                if (wsStatus === \"connected\" || wsStatus === \"error\") {\n                    clearInterval(checkConnection);\n                    clearTimeout(resetTimeout);\n                    setIsStarting(false);\n                }\n            }, 100);\n            setTimeout(()=>{\n                clearInterval(checkConnection);\n            }, 10000);\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : \"Failed to start game\";\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_5__.error)(\"[Start] Unexpected error:\", err);\n            setError(errorMessage);\n            setWsError(errorMessage);\n            setIsStarting(false);\n        }\n    };\n    const handleReconnect = async ()=>{\n        if (!roomId || !currentUserId || !room) return;\n        // Close existing connection if any\n        if (wsRef.current) {\n            wsRef.current.close();\n            wsRef.current = null;\n        }\n        connectingRef.current = false;\n        // Use connectIfPlaying to reconnect (only connects if room.status === \"playing\")\n        await connectIfPlaying(room.status, room.id);\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppShell__WEBPACK_IMPORTED_MODULE_11__.AppShell, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center min-h-[60vh]\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-full max-w-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_16__.Skeleton, {\n                            className: \"h-12 w-full\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1348,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_16__.Skeleton, {\n                            className: \"h-10 w-3/4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1349,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Skeleton__WEBPACK_IMPORTED_MODULE_16__.Skeleton, {\n                            className: \"h-10 w-full\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1350,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1347,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                lineNumber: 1346,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n            lineNumber: 1345,\n            columnNumber: 7\n        }, this);\n    }\n    if (error || !room) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppShell__WEBPACK_IMPORTED_MODULE_11__.AppShell, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-6 text-center space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-[var(--danger)]\",\n                                children: error || \"Room not found\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1363,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                onClick: ()=>navigate(\"/lobby\"),\n                                children: \"Back to Lobby\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1364,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1362,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1361,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                lineNumber: 1360,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n            lineNumber: 1359,\n            columnNumber: 7\n        }, this);\n    }\n    const currentPlayer = players.find((p)=>p.player_id === currentUserId);\n    const isOwner = currentUserId === room.owner_id;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppShell__WEBPACK_IMPORTED_MODULE_11__.AppShell, {\n        title: \"Room: \".concat(room.code),\n        subtitle: \"Score Limit: \".concat(scoreLimit),\n        showSignOut: false,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-end\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                        variant: \"danger\",\n                        onClick: handleLeave,\n                        disabled: leaving,\n                        isLoading: leaving,\n                        children: \"Leave Room\"\n                    }, void 0, false, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1384,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1383,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 bg-[var(--danger-bg)] border border-[var(--danger)] text-[var(--danger)] rounded-lg\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1391,\n                    columnNumber: 11\n                }, this),\n                roundStart && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 bg-[var(--success)] text-white rounded-lg shadow-md\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                className: \"text-lg\",\n                                children: \"Round starting...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1400,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm opacity-90\",\n                                children: new Date(roundStart.startedAt).toLocaleString()\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1401,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1399,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1398,\n                    columnNumber: 11\n                }, this),\n                yourHand && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 bg-[var(--info)] text-white rounded-lg shadow-md text-center font-semibold\",\n                    children: \"Cards dealt. Waiting for starter...\"\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1410,\n                    columnNumber: 11\n                }, this),\n                isDev && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                        header: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-sm font-semibold text-[var(--text)]\",\n                            children: \"Debug Info\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1418,\n                            columnNumber: 29\n                        }, void 0),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-xs font-mono\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-2 bg-[var(--bg-elevated)] rounded border border-[var(--border)]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"room.status:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                            lineNumber: 1421,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        room.status\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1420,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-2 bg-[var(--bg-elevated)] rounded border border-[var(--border)]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"current auth.uid:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                            lineNumber: 1424,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        currentUserId || \"null\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1423,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-2 bg-[var(--bg-elevated)] rounded border border-[var(--border)]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"room.owner_id:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                            lineNumber: 1427,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        room.owner_id\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1426,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-2 bg-[var(--bg-elevated)] rounded border border-[var(--border)]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                            children: \"isOwner:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                            lineNumber: 1430,\n                                            columnNumber: 19\n                                        }, this),\n                                        \" \",\n                                        isOwner ? \"true\" : \"false\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1429,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1419,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1418,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1417,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                        header: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-between items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-base font-semibold text-[var(--text)]\",\n                                    children: \"Game Server Connection\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1441,\n                                    columnNumber: 15\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                    variant: wsStatus === \"connected\" ? \"success\" : wsStatus === \"connecting\" || wsStatus === \"reconnecting\" ? \"warning\" : wsStatus === \"error\" ? \"danger\" : \"default\",\n                                    children: [\n                                        wsStatus === \"connected\" && \" Connected\",\n                                        wsStatus === \"connecting\" && \" Connecting...\",\n                                        wsStatus === \"reconnecting\" && \" Reconnecting (\".concat(reconnectAttemptRef.current, \"/10)...\"),\n                                        wsStatus === \"error\" && \" Error\",\n                                        wsStatus === \"disconnected\" && \" Disconnected\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1442,\n                                    columnNumber: 15\n                                }, void 0)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1440,\n                            columnNumber: 13\n                        }, void 0),\n                        children: [\n                            wsError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 p-3 bg-[var(--danger-bg)] border border-[var(--danger)] text-[var(--danger)] rounded-lg text-sm\",\n                                children: wsError\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1458,\n                                columnNumber: 15\n                            }, this),\n                            isDev && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 p-3 bg-[var(--bg-elevated)] rounded text-xs font-mono space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"wsUrl:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1466,\n                                                columnNumber: 22\n                                            }, this),\n                                            \" \",\n                                            wsUrl || \"not set\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1466,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"wsReadyState:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1468,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" \",\n                                            wsRef.current ? wsRef.current.readyState : \"null\",\n                                            \"(\",\n                                            wsRef.current ? [\n                                                \"CONNECTING\",\n                                                \"OPEN\",\n                                                \"CLOSING\",\n                                                \"CLOSED\"\n                                            ][wsRef.current.readyState] : \"null\",\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1467,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"connectionStatus:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1471,\n                                                columnNumber: 22\n                                            }, this),\n                                            \" \",\n                                            wsStatus\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1471,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1465,\n                                columnNumber: 15\n                            }, this),\n                            wsStatus === \"disconnected\" && (room === null || room === void 0 ? void 0 : room.status) === \"playing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                size: \"sm\",\n                                onClick: handleReconnect,\n                                children: \"Reconnect\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1476,\n                                columnNumber: 15\n                            }, this),\n                            isDev && wsEvents.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-semibold text-[var(--text-muted)] mb-2\",\n                                        children: [\n                                            \"Last \",\n                                            wsEvents.length,\n                                            \" WS Events:\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1482,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-h-[200px] overflow-y-auto border border-[var(--border)] rounded p-2 bg-[var(--bg-elevated)] text-xs font-mono space-y-1\",\n                                        children: wsEvents.map((event, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex gap-2 p-1 bg-[var(--bg-surface)] rounded border border-[var(--border)]\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[var(--text-muted)] min-w-[80px]\",\n                                                        children: new Date(event.timestamp).toLocaleTimeString()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1488,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[var(--info)] font-semibold min-w-[150px]\",\n                                                        children: event.event\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1491,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    event.data && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-[var(--text)] flex-1 break-all\",\n                                                        children: typeof event.data === \"object\" ? JSON.stringify(event.data) : String(event.data)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1493,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, \"event-\".concat(event.timestamp, \"-\").concat(idx), true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1487,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1485,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1481,\n                                columnNumber: 15\n                            }, this),\n                            isDev && wsMessages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-semibold text-[var(--text-muted)] mb-2\",\n                                        children: [\n                                            \"Last \",\n                                            wsMessages.length,\n                                            \" Messages:\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1506,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-h-[300px] overflow-y-auto border border-[var(--border)] rounded p-2 bg-[var(--bg-elevated)] text-xs font-mono space-y-2\",\n                                        children: wsMessages.map((msg, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-2 bg-[var(--bg-surface)] rounded border border-[var(--border)] whitespace-pre-wrap break-all\",\n                                                children: JSON.stringify(msg, null, 2)\n                                            }, \"msg-\".concat(msg.type, \"-\").concat(idx), false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1511,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1509,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1505,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1439,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1438,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                        header: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-semibold text-[var(--text)]\",\n                            children: [\n                                \"Players (\",\n                                roomStatePlayers.length > 0 ? roomStatePlayers.length : players.length,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1524,\n                            columnNumber: 13\n                        }, void 0),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3\",\n                            children: (()=>{\n                                // Always use players state (which has profiles) as source of truth for display\n                                // Merge ready status from roomStatePlayers if available\n                                const playersToRender = players.map((p)=>{\n                                    var _p_profile;\n                                    const roomStatePlayer = roomStatePlayers.find((rsp)=>rsp.playerId === p.player_id);\n                                    var _roomStatePlayer_isReady;\n                                    return {\n                                        playerId: p.player_id,\n                                        isReady: (_roomStatePlayer_isReady = roomStatePlayer === null || roomStatePlayer === void 0 ? void 0 : roomStatePlayer.isReady) !== null && _roomStatePlayer_isReady !== void 0 ? _roomStatePlayer_isReady : p.is_ready,\n                                        displayName: ((_p_profile = p.profile) === null || _p_profile === void 0 ? void 0 : _p_profile.display_name) || null\n                                    };\n                                });\n                                // If roomStatePlayers has players not in players list, add them (will show ID until profile loads)\n                                if (roomStatePlayers.length > 0) {\n                                    roomStatePlayers.forEach((rsp)=>{\n                                        if (!playersToRender.find((p)=>p.playerId === rsp.playerId)) {\n                                            playersToRender.push({\n                                                playerId: rsp.playerId,\n                                                isReady: rsp.isReady,\n                                                displayName: null\n                                            });\n                                        }\n                                    });\n                                }\n                                if (playersToRender.length === 0) {\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-center text-[var(--text-muted)] py-8\",\n                                        children: \"No players in room\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1555,\n                                        columnNumber: 26\n                                    }, this);\n                                }\n                                return playersToRender.map((player)=>{\n                                    const isCurrentPlayer = player.playerId === currentUserId;\n                                    const hasPassed = passedPlayerIds.includes(player.playerId);\n                                    const isCurrentTurn = player.playerId === currentTurnPlayerId;\n                                    // Use displayName if available, otherwise fallback to getPlayerDisplayName\n                                    const displayName = player.displayName || getPlayerDisplayName(player.playerId);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (0,_utils_cn__WEBPACK_IMPORTED_MODULE_17__.cn)(\"flex justify-between items-center p-4 rounded-lg border transition-all\", isCurrentPlayer && \"bg-[var(--primary-bg)] border-[var(--primary)]\", isCurrentTurn && \"bg-[var(--warning-bg)] border-[var(--warning)]\", !isCurrentPlayer && !isCurrentTurn && \"bg-[var(--bg-elevated)] border-[var(--border)] hover:bg-[var(--surface-hover)]\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-[var(--text)]\",\n                                                        children: displayName\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1576,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    isOwner && player.playerId === room.owner_id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                                        variant: \"warning\",\n                                                        size: \"sm\",\n                                                        children: \"Owner\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1580,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    hasPassed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                                        variant: \"default\",\n                                                        size: \"sm\",\n                                                        children: \"Passed\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1583,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1575,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    player.isReady ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                                        variant: \"success\",\n                                                        size: \"sm\",\n                                                        children: \" Ready\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1588,\n                                                        columnNumber: 27\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm text-[var(--text-muted)]\",\n                                                        children: \"Not Ready\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1590,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    isCurrentTurn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_14__.Badge, {\n                                                        variant: \"warning\",\n                                                        size: \"sm\",\n                                                        children: \" Your Turn\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1593,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1586,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, player.playerId, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1566,\n                                        columnNumber: 21\n                                    }, this);\n                                });\n                            })()\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1528,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                        lineNumber: 1523,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1522,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col sm:flex-row gap-4 items-center justify-center\",\n                    children: [\n                        currentUserId && (()=>{\n                            const roomStatePlayer = roomStatePlayers.find((p)=>p.playerId === currentUserId);\n                            var _currentPlayer_is_ready;\n                            const currentReady = roomStatePlayer ? roomStatePlayer.isReady : (_currentPlayer_is_ready = currentPlayer === null || currentPlayer === void 0 ? void 0 : currentPlayer.is_ready) !== null && _currentPlayer_is_ready !== void 0 ? _currentPlayer_is_ready : false;\n                            const isDisabled = updatingReady || wsStatus !== \"connected\" || !!roundStart;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                onClick: handleToggleReady,\n                                variant: currentReady ? \"success\" : \"secondary\",\n                                disabled: isDisabled,\n                                isLoading: updatingReady,\n                                title: wsStatus !== \"connected\" ? \"Connect first\" : roundStart ? \"Round already started\" : \"\",\n                                children: wsStatus !== \"connected\" ? \"Connect first\" : roundStart ? \"Round started\" : currentReady ? \"Mark Not Ready\" : \"Mark Ready\"\n                            }, void 0, false, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1614,\n                                columnNumber: 15\n                            }, this);\n                        })(),\n                        isOwner && room.status !== \"playing\" && !roundStart && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 p-4 bg-[var(--bg-elevated)] rounded-lg border border-[var(--border)]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"scoreLimit\",\n                                    className: \"text-sm font-medium text-[var(--text)]\",\n                                    children: \"Score Limit (1-60):\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1635,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    id: \"scoreLimit\",\n                                    type: \"number\",\n                                    min: \"1\",\n                                    max: \"60\",\n                                    value: scoreLimitInput,\n                                    onChange: (e)=>setScoreLimitInput(Math.min(60, Math.max(1, Number(e.target.value) || 60))),\n                                    className: \"w-20 px-3 py-2 bg-[var(--bg-surface)] border border-[var(--border)] rounded-lg text-[var(--text)] focus:outline-none focus:ring-2 focus:ring-[var(--border-focus)]\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1638,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                    size: \"sm\",\n                                    onClick: ()=>{\n                                        if (scoreLimitInput >= 1 && scoreLimitInput <= 60) {\n                                            sendSetRulesMessage(scoreLimitInput);\n                                            _components_ui_Toast__WEBPACK_IMPORTED_MODULE_15__.toast.success(\"Score limit updated\");\n                                        }\n                                    },\n                                    disabled: wsStatus !== \"connected\" || scoreLimitInput < 1 || scoreLimitInput > 60,\n                                    title: wsStatus !== \"connected\" ? \"WebSocket disconnected\" : \"\",\n                                    children: \"Set Rules\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1647,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1634,\n                            columnNumber: 13\n                        }, this),\n                        isOwner && room.status !== \"playing\" && !roundStart && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                            onClick: handleStart,\n                            disabled: isStarting,\n                            isLoading: isStarting,\n                            children: \"Start Game\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1664,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1605,\n                    columnNumber: 9\n                }, this),\n                yourHand && (room === null || room === void 0 ? void 0 : room.status) === \"playing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-6\",\n                    children: [\n                        roundEnd && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 bg-[var(--success)] text-white rounded-lg shadow-md text-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                className: \"text-lg\",\n                                children: [\n                                    \"Round ended. Winner: \",\n                                    roundEnd.winnerPlayerId\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1680,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1679,\n                            columnNumber: 15\n                        }, this),\n                        actionError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 bg-[var(--danger-bg)] border border-[var(--danger)] text-[var(--danger)] rounded-lg text-sm font-medium\",\n                            children: actionError\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1686,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col lg:flex-row gap-6 justify-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-w-0\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_TableView__WEBPACK_IMPORTED_MODULE_8__.TableView, {\n                                        seatedPlayerIds: seatedPlayerIds,\n                                        handsCount: handsCount,\n                                        totalScores: totalScores,\n                                        scoreLimit: scoreLimit,\n                                        currentTurnPlayerId: currentTurnPlayerId,\n                                        eliminated: eliminated,\n                                        currentUserId: currentUserId,\n                                        lastPlay: lastPlay,\n                                        playerNames: playerNameMap,\n                                        playerAvatars: playerAvatarMap\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1695,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1694,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"lg:w-80\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_QueuePanel__WEBPACK_IMPORTED_MODULE_10__.QueuePanel, {\n                                        queuePlayerIds: queuePlayerIds,\n                                        seatedPlayerIds: seatedPlayerIds,\n                                        handsCount: handsCount,\n                                        totalScores: totalScores,\n                                        scoreLimit: scoreLimit,\n                                        currentTurnPlayerId: currentTurnPlayerId,\n                                        eliminated: eliminated,\n                                        playerNames: playerNameMap\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1711,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                    lineNumber: 1710,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1692,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_13__.Card, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"text-lg font-heading font-bold text-cyan-300 text-glow-cyan\",\n                                                        children: [\n                                                            \"Your Hand (\",\n                                                            yourHand.length,\n                                                            \" cards)\",\n                                                            selectedCards.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"ml-2 text-sm text-lime-400 text-glow-lime font-medium\",\n                                                                children: [\n                                                                    \" Selected: \",\n                                                                    selectedCards.length,\n                                                                    \"/5\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                                lineNumber: 1732,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1729,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    handOrder.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                                        onClick: ()=>setHandOrder([]),\n                                                        variant: \"secondary\",\n                                                        size: \"sm\",\n                                                        title: \"Sort cards by rank and suit\",\n                                                        children: \"Sort\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1738,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1728,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap gap-3 justify-center\",\n                                                children: (()=>{\n                                                    // If user has custom order, use it; otherwise show sorted cards\n                                                    if (handOrder.length > 0 && handOrder.length === yourHand.length) {\n                                                        // User's custom arrangement\n                                                        return handOrder.map((originalIdx)=>yourHand[originalIdx]).filter(Boolean);\n                                                    } else {\n                                                        // Default sorted order\n                                                        return (0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.sortCards)(yourHand);\n                                                    }\n                                                })().map((card)=>{\n                                                    const isSelected = selectedCards.some((c)=>(0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.cardsEqual)(c, card));\n                                                    const originalIdx = yourHand.findIndex((c)=>(0,_utils_cardSort__WEBPACK_IMPORTED_MODULE_7__.cardsEqual)(c, card));\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        draggable: true,\n                                                        onDragStart: (e)=>{\n                                                            e.dataTransfer.setData(\"cardIndex\", String(originalIdx));\n                                                            e.dataTransfer.effectAllowed = \"move\";\n                                                        },\n                                                        onDragOver: (e)=>{\n                                                            e.preventDefault();\n                                                            e.dataTransfer.dropEffect = \"move\";\n                                                        },\n                                                        onDrop: (e)=>{\n                                                            e.preventDefault();\n                                                            const draggedIndex = parseInt(e.dataTransfer.getData(\"cardIndex\"), 10);\n                                                            const dropIndex = originalIdx;\n                                                            if (draggedIndex === dropIndex) return;\n                                                            setHandOrder((prevOrder)=>{\n                                                                if (prevOrder.length === 0) {\n                                                                    // Initialize order array\n                                                                    return yourHand.map((_, idx)=>idx);\n                                                                }\n                                                                const newOrder = [\n                                                                    ...prevOrder\n                                                                ];\n                                                                const draggedPos = newOrder.indexOf(draggedIndex);\n                                                                const dropPos = newOrder.indexOf(dropIndex);\n                                                                // Remove dragged item\n                                                                newOrder.splice(draggedPos, 1);\n                                                                // Insert at new position\n                                                                newOrder.splice(dropPos, 0, draggedIndex);\n                                                                return newOrder;\n                                                            });\n                                                        },\n                                                        className: \"cursor-move transition-transform duration-200 hover:scale-110\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlayingCard__WEBPACK_IMPORTED_MODULE_9__.PlayingCard, {\n                                                            card: card,\n                                                            isSelected: isSelected,\n                                                            onClick: ()=>handleCardClick(card),\n                                                            size: \"md\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                            lineNumber: 1803,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, \"\".concat(card.rank, \"-\").concat(card.suit, \"-\").concat(originalIdx), false, {\n                                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                        lineNumber: 1765,\n                                                        columnNumber: 25\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1748,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1727,\n                                        columnNumber: 17\n                                    }, this),\n                                    !roundEnd && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-4 justify-center pt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                                onClick: handlePlay,\n                                                variant: \"success\",\n                                                disabled: (()=>{\n                                                    const validLengths = [\n                                                        1,\n                                                        2,\n                                                        3,\n                                                        5\n                                                    ];\n                                                    return !validLengths.includes(selectedCards.length) || !isMyTurn || wsStatus !== \"connected\";\n                                                })(),\n                                                title: wsStatus !== \"connected\" ? \"WebSocket disconnected\" : !isMyTurn ? \"Not your turn\" : selectedCards.length === 0 ? \"Select 1, 2, 3, or 5 cards to play\" : selectedCards.length === 4 ? \"4 cards not allowed. Select 1, 2, 3, or 5 cards\" : selectedCards.length > 5 ? \"Maximum 5 cards allowed\" : \"\",\n                                                children: [\n                                                    \"PLAY \",\n                                                    selectedCards.length > 0 && \"(\".concat(selectedCards.length, \")\")\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1818,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                                onClick: handlePass,\n                                                variant: \"warning\",\n                                                disabled: !isMyTurn || !lastPlay || wsStatus !== \"connected\",\n                                                title: wsStatus !== \"connected\" ? \"WebSocket disconnected\" : !isMyTurn ? \"Not your turn\" : !lastPlay ? \"You must start the trick\" : \"\",\n                                                children: \"PASS\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                                lineNumber: 1841,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                        lineNumber: 1817,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                                lineNumber: 1726,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                            lineNumber: 1725,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n                    lineNumber: 1676,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n            lineNumber: 1381,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/bayartsogtbts/Desktop/Gerege Agent AI/Pp/poker_frontend/src/pages/RoomPage.tsx\",\n        lineNumber: 1376,\n        columnNumber: 5\n    }, this);\n}\n_s(RoomPage, \"/6cI0oS9iIHlQhE5+6r9QzQA9fM=\", false, function() {\n    return [\n        _lib_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        _lib_navigation__WEBPACK_IMPORTED_MODULE_2__.useNavigate\n    ];\n});\n_c = RoomPage;\nvar _c;\n$RefreshReg$(_c, \"RoomPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9wYWdlcy9Sb29tUGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUV5RTtBQUNmO0FBQ2hCO0FBQ3lEO0FBQ3ZDO0FBR2Q7QUFDVztBQUNOO0FBQ0k7QUFDRjtBQUNKO0FBQ0Q7QUFDTTtBQUNSO0FBQ0E7QUFDTTtBQUNwQjtBQUVoQyxNQUFNMkIsUUFBUUMsa0JBQXlCO0FBTWhDLFNBQVNDOztJQUNkLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUd6QiwwREFBU0E7SUFDNUIsTUFBTTBCLFdBQVd6Qiw0REFBV0E7SUFDNUIsTUFBTSxDQUFDMEIsTUFBTUMsUUFBUSxHQUFHakMsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDa0MsU0FBU0MsV0FBVyxHQUFHbkMsK0NBQVFBLENBQXNCLEVBQUU7SUFDOUQsTUFBTSxDQUFDb0MsZUFBZUMsaUJBQWlCLEdBQUdyQywrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDc0MsU0FBU0MsV0FBVyxHQUFHdkMsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDVyxPQUFPNkIsU0FBUyxHQUFHeEMsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQ3lDLGVBQWVDLGlCQUFpQixHQUFHMUMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDMkMsU0FBU0MsV0FBVyxHQUFHNUMsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDNkMsWUFBWUMsY0FBYyxHQUFHOUMsK0NBQVFBLENBQUM7SUFFN0Msa0JBQWtCO0lBQ2xCLE1BQU0sQ0FBQytDLFVBQVVDLFlBQVksR0FBR2hELCtDQUFRQSxDQUF5RTtJQUNqSCxNQUFNLENBQUNpRCxZQUFZQyxjQUFjLEdBQUdsRCwrQ0FBUUEsQ0FBc0IsRUFBRTtJQUNwRSxNQUFNLENBQUNtRCxTQUFTQyxXQUFXLEdBQUdwRCwrQ0FBUUEsQ0FBZ0I7SUFDdEQsTUFBTXFELFFBQVFuRCw2Q0FBTUEsQ0FBbUI7SUFDdkMs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Q0EsOERBQUNrTzt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUMvUywwREFBTUE7Z0RBQ0xnVCxTQUFTOUI7Z0RBQ1RtQyxTQUFRO2dEQUNSQyxVQUFVLENBQUM7b0RBQ1QsTUFBTW5DLGVBQWU7d0RBQUM7d0RBQUc7d0RBQUc7d0RBQUc7cURBQUU7b0RBQ2pDLE9BQU8sQ0FBQ0EsYUFBYXhGLFFBQVEsQ0FBQzdILGNBQWNrQyxNQUFNLEtBQUssQ0FBQ3FMLFlBQVkxUCxhQUFhO2dEQUNuRjtnREFDQXVSLE9BQ0V2UixhQUFhLGNBQ1QsMkJBQ0EsQ0FBQzBQLFdBQ0Qsa0JBQ0F2TixjQUFja0MsTUFBTSxLQUFLLElBQ3pCLHVDQUNBbEMsY0FBY2tDLE1BQU0sS0FBSyxJQUN6QixvREFDQWxDLGNBQWNrQyxNQUFNLEdBQUcsSUFDdkIsNEJBQ0E7O29EQUVQO29EQUNPbEMsY0FBY2tDLE1BQU0sR0FBRyxLQUFLLElBQXlCLE9BQXJCbEMsY0FBY2tDLE1BQU0sRUFBQzs7Ozs7OzswREFFN0QsOERBQUNoRywwREFBTUE7Z0RBQ0xnVCxTQUFTNUI7Z0RBQ1RpQyxTQUFRO2dEQUNSQyxVQUFVLENBQUNqQyxZQUFZLENBQUNuTixZQUFZdkMsYUFBYTtnREFDakR1UixPQUNFdlIsYUFBYSxjQUNULDJCQUNBLENBQUMwUCxXQUNELGtCQUNBLENBQUNuTixXQUNELDZCQUNBOzBEQUVQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWXJCO0dBN3lEZ0J6RDs7UUFDS3hCLHNEQUFTQTtRQUNYQyx3REFBV0E7OztLQUZkdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3BhZ2VzL1Jvb21QYWdlLnRzeD82ZTg5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VQYXJhbXMsIHVzZU5hdmlnYXRlIH0gZnJvbSAnLi4vbGliL25hdmlnYXRpb24nXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZSdcbmltcG9ydCB7IGNvbm5lY3RHYW1lU29ja2V0RGVidWcsIHR5cGUgR2FtZVNvY2tldE1lc3NhZ2UsIHR5cGUgV1NFdmVudExvZyB9IGZyb20gJy4uL2xpYi9nYW1lU29ja2V0J1xuaW1wb3J0IHsgbG9nLCB3YXJuLCBlcnJvciBhcyBsb2dFcnJvciB9IGZyb20gJy4uL2xpYi9sb2dnZXInXG5pbXBvcnQgdHlwZSB7IFJvb20sIFJvb21QbGF5ZXIsIFByb2ZpbGUgfSBmcm9tICcuLi90eXBlcy9kYXRhYmFzZSdcbmltcG9ydCB0eXBlIHsgQ2FyZCB9IGZyb20gJy4uL3R5cGVzL2NhcmRzJ1xuaW1wb3J0IHsgbm9ybWFsaXplQ2FyZCB9IGZyb20gJy4uL3R5cGVzL2NhcmRzJ1xuaW1wb3J0IHsgc29ydENhcmRzLCBjYXJkc0VxdWFsIH0gZnJvbSAnLi4vdXRpbHMvY2FyZFNvcnQnXG5pbXBvcnQgeyBUYWJsZVZpZXcgfSBmcm9tICcuLi9jb21wb25lbnRzL1RhYmxlVmlldydcbmltcG9ydCB7IFBsYXlpbmdDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9QbGF5aW5nQ2FyZCdcbmltcG9ydCB7IFF1ZXVlUGFuZWwgfSBmcm9tICcuLi9jb21wb25lbnRzL1F1ZXVlUGFuZWwnXG5pbXBvcnQgeyBBcHBTaGVsbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQXBwU2hlbGwnXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9jb21wb25lbnRzL3VpL0J1dHRvbidcbmltcG9ydCB7IENhcmQgYXMgVUlDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy91aS9DYXJkJ1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICcuLi9jb21wb25lbnRzL3VpL0JhZGdlJ1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICcuLi9jb21wb25lbnRzL3VpL1RvYXN0J1xuaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICcuLi9jb21wb25lbnRzL3VpL1NrZWxldG9uJ1xuaW1wb3J0IHsgY24gfSBmcm9tICcuLi91dGlscy9jbidcblxuY29uc3QgaXNEZXYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xuXG5pbnRlcmZhY2UgUGxheWVyV2l0aFByb2ZpbGUgZXh0ZW5kcyBSb29tUGxheWVyIHtcbiAgcHJvZmlsZTogUHJvZmlsZSB8IG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJvb21QYWdlKCkge1xuICBjb25zdCB7IHJvb21JZCB9ID0gdXNlUGFyYW1zPHsgcm9vbUlkOiBzdHJpbmcgfT4oKVxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKClcbiAgY29uc3QgW3Jvb20sIHNldFJvb21dID0gdXNlU3RhdGU8Um9vbSB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtwbGF5ZXJzLCBzZXRQbGF5ZXJzXSA9IHVzZVN0YXRlPFBsYXllcldpdGhQcm9maWxlW10+KFtdKVxuICBjb25zdCBbY3VycmVudFVzZXJJZCwgc2V0Q3VycmVudFVzZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFt1cGRhdGluZ1JlYWR5LCBzZXRVcGRhdGluZ1JlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbbGVhdmluZywgc2V0TGVhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzU3RhcnRpbmcsIHNldElzU3RhcnRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIFxuICAvLyBXZWJTb2NrZXQgc3RhdGVcbiAgY29uc3QgW3dzU3RhdHVzLCBzZXRXc1N0YXR1c10gPSB1c2VTdGF0ZTwnZGlzY29ubmVjdGVkJyB8ICdjb25uZWN0aW5nJyB8ICdjb25uZWN0ZWQnIHwgJ3JlY29ubmVjdGluZycgfCAnZXJyb3InPignZGlzY29ubmVjdGVkJylcbiAgY29uc3QgW3dzTWVzc2FnZXMsIHNldFdzTWVzc2FnZXNdID0gdXNlU3RhdGU8R2FtZVNvY2tldE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFt3c0Vycm9yLCBzZXRXc0Vycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IHdzUmVmID0gdXNlUmVmPFdlYlNvY2tldCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGNvbm5lY3RpbmdSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpXG4gIGNvbnN0IFt3c0V2ZW50cywgc2V0V3NFdmVudHNdID0gdXNlU3RhdGU8V1NFdmVudExvZ1tdPihbXSlcbiAgY29uc3QgW3dzVXJsLCBzZXRXc1VybF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICBjb25zdCBzaG91bGRSZWNvbm5lY3RSZWYgPSB1c2VSZWY8Ym9vbGVhbj4odHJ1ZSkgLy8gQ29udHJvbCByZWNvbm5lY3Rpb25cbiAgY29uc3QgcmVjb25uZWN0QXR0ZW1wdFJlZiA9IHVzZVJlZjxudW1iZXI+KDApXG4gIGNvbnN0IHJvb21DaGFubmVsUmVmID0gdXNlUmVmPGFueT4obnVsbCkgLy8gVHJhY2sgcm9vbSBjaGFubmVsIHRvIHByZXZlbnQgZHVwbGljYXRlIHN1YnNjcmlwdGlvbnNcbiAgY29uc3QgcGxheWVyc0NoYW5uZWxSZWYgPSB1c2VSZWY8YW55PihudWxsKSAvLyBUcmFjayBwbGF5ZXJzIGNoYW5uZWwgdG8gcHJldmVudCBkdXBsaWNhdGUgc3Vic2NyaXB0aW9uc1xuICBcbiAgLy8gR2FtZSBzdGF0ZSBmcm9tIFdTXG4gIGNvbnN0IFtyb29tU3RhdGVQbGF5ZXJzLCBzZXRSb29tU3RhdGVQbGF5ZXJzXSA9IHVzZVN0YXRlPEFycmF5PHtwbGF5ZXJJZDogc3RyaW5nLCBpc1JlYWR5OiBib29sZWFufT4+KFtdKVxuICBjb25zdCBbcm91bmRTdGFydCwgc2V0Um91bmRTdGFydF0gPSB1c2VTdGF0ZTx7cm9vbUlkOiBzdHJpbmcsIHN0YXJ0ZWRBdDogc3RyaW5nfSB8IG51bGw+KG51bGwpXG4gIFxuICAvLyBERUFMVCBzdGF0ZVxuICBjb25zdCBbeW91ckhhbmQsIHNldFlvdXJIYW5kXSA9IHVzZVN0YXRlPENhcmRbXSB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtoYW5kT3JkZXIsIHNldEhhbmRPcmRlcl0gPSB1c2VTdGF0ZTxudW1iZXJbXT4oW10pIC8vIEN1c3RvbSBvcmRlciBpbmRpY2VzXG4gIGNvbnN0IFtfcGVuZGluZ1BsYXlDYXJkcywgc2V0UGVuZGluZ1BsYXlDYXJkc10gPSB1c2VTdGF0ZTxDYXJkW10gfCBudWxsPihudWxsKSAvLyBDYXJkcyB3ZSdyZSB0cnlpbmcgdG8gcGxheSAoZm9yIGVycm9yIHJlY292ZXJ5KSAtIHN0YXRlIGZvciBzZXR0ZXIsIHJlZiBmb3IgcmVhZGluZ1xuICBjb25zdCBwZW5kaW5nUGxheUNhcmRzUmVmID0gdXNlUmVmPENhcmRbXSB8IG51bGw+KG51bGwpIC8vIFJlZiB0byBhY2Nlc3MgY3VycmVudCBwZW5kaW5nIGNhcmRzIGluIG1lc3NhZ2UgaGFuZGxlcnNcbiAgY29uc3QgW19zdGFydGVyUGxheWVySWQsIHNldFN0YXJ0ZXJQbGF5ZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbX3N0YXJ0ZXJSZWFzb24sIHNldFN0YXJ0ZXJSZWFzb25dID0gdXNlU3RhdGU8XCJXSU5ORVJcIiB8IFwiV0VBS0VTVF9TSU5HTEVcIiB8IHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtzZWF0ZWRQbGF5ZXJJZHMsIHNldFNlYXRlZFBsYXllcklkc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pXG4gIGNvbnN0IFtxdWV1ZVBsYXllcklkcywgc2V0UXVldWVQbGF5ZXJJZHNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuICBcbiAgLy8gR2FtZSBzdGF0ZVxuICBjb25zdCBbc2VsZWN0ZWRDYXJkcywgc2V0U2VsZWN0ZWRDYXJkc10gPSB1c2VTdGF0ZTxDYXJkW10+KFtdKVxuICBjb25zdCBbY3VycmVudFR1cm5QbGF5ZXJJZCwgc2V0Q3VycmVudFR1cm5QbGF5ZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbbGFzdFBsYXksIHNldExhc3RQbGF5XSA9IHVzZVN0YXRlPHtwbGF5ZXJJZDogc3RyaW5nLCBjYXJkczogQ2FyZFtdLCBraW5kPzogc3RyaW5nLCBmaXZlS2luZD86IHN0cmluZ30gfCBudWxsPihudWxsKVxuICBjb25zdCBbaGFuZHNDb3VudCwgc2V0SGFuZHNDb3VudF0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+Pih7fSlcbiAgY29uc3QgW2FjdGlvbkVycm9yLCBzZXRBY3Rpb25FcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbX2NhblBhc3MsIHNldENhblBhc3NdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpIC8vIExlZ2FjeSwga2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSAoc2VydmVyIG1heSBzdGlsbCBzZW5kIGl0LCBidXQgUEFTUyBidXR0b24gdXNlcyBsYXN0UGxheSBpbnN0ZWFkKVxuICBjb25zdCBbcGFzc2VkUGxheWVySWRzLCBzZXRQYXNzZWRQbGF5ZXJJZHNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuICBjb25zdCBbcm91bmRFbmQsIHNldFJvdW5kRW5kXSA9IHVzZVN0YXRlPHt3aW5uZXJQbGF5ZXJJZDogc3RyaW5nfSB8IG51bGw+KG51bGwpXG4gIFxuICAvLyBSdWxlcyBhbmQgc2NvcmluZ1xuICBjb25zdCBbc2NvcmVMaW1pdCwgc2V0U2NvcmVMaW1pdF0gPSB1c2VTdGF0ZTxudW1iZXI+KDYwKVxuICBjb25zdCBbX3Njb3JlYm9hcmQsIHNldFNjb3JlYm9hcmRdID0gdXNlU3RhdGU8e3BsYXllcklkOiBzdHJpbmcsIHRvdGFsU2NvcmU6IG51bWJlciwgZWxpbWluYXRlZDogYm9vbGVhbn1bXT4oW10pXG4gIGNvbnN0IFtzY29yZUxpbWl0SW5wdXQsIHNldFNjb3JlTGltaXRJbnB1dF0gPSB1c2VTdGF0ZTxudW1iZXI+KDYwKVxuICBjb25zdCBbdG90YWxTY29yZXMsIHNldFRvdGFsU2NvcmVzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KVxuICBjb25zdCBbZWxpbWluYXRlZCwgc2V0RWxpbWluYXRlZF0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBkaXNwbGF5IG5hbWUgZm9yIGEgcGxheWVyXG4gIGNvbnN0IGdldFBsYXllckRpc3BsYXlOYW1lID0gdXNlQ2FsbGJhY2soKHBsYXllcklkOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IHBsYXllciA9IHBsYXllcnMuZmluZChwID0+IHAucGxheWVyX2lkID09PSBwbGF5ZXJJZClcbiAgICBpZiAocGxheWVyPy5wcm9maWxlPy5kaXNwbGF5X25hbWUpIHtcbiAgICAgIHJldHVybiBwbGF5ZXIucHJvZmlsZS5kaXNwbGF5X25hbWVcbiAgICB9XG4gICAgLy8gRmFsbGJhY2sgdG8gc2hvcnQgSUQgaWYgbm8gZGlzcGxheV9uYW1lXG4gICAgcmV0dXJuIHBsYXllcklkLmxlbmd0aCA+IDggPyBgJHtwbGF5ZXJJZC5zdWJzdHJpbmcoMCwgOCl9Li4uYCA6IHBsYXllcklkXG4gIH0sIFtwbGF5ZXJzXSlcblxuICAvLyBDcmVhdGUgcGxheWVyIG5hbWUgbWFwIGZvciBwYXNzaW5nIHRvIGNvbXBvbmVudHNcbiAgY29uc3QgcGxheWVyTmFtZU1hcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XG4gICAgcGxheWVycy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gcC5wcm9maWxlPy5kaXNwbGF5X25hbWUgfHwgJydcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIG1hcFtwLnBsYXllcl9pZF0gPSBuYW1lXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gbWFwXG4gIH0sIFtwbGF5ZXJzXSlcblxuICAvLyBDcmVhdGUgcGxheWVyIGF2YXRhciBtYXAgZm9yIHBhc3NpbmcgdG8gY29tcG9uZW50c1xuICBjb25zdCBwbGF5ZXJBdmF0YXJNYXAgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBtYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bGw+ID0ge31cbiAgICBwbGF5ZXJzLmZvckVhY2goKHApID0+IHtcbiAgICAgIGlmIChwLnByb2ZpbGU/LmF2YXRhcl91cmwpIHtcbiAgICAgICAgbWFwW3AucGxheWVyX2lkXSA9IHAucHJvZmlsZS5hdmF0YXJfdXJsXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gbWFwXG4gIH0sIFtwbGF5ZXJzXSlcblxuICAvLyBBdXRvLWNvbm5lY3QgZnVuY3Rpb246IGNvbm5lY3RzIHRvIFdTIGlmIHJvb20gc3RhdHVzIGlzIFwicGxheWluZ1wiXG4gIGNvbnN0IGNvbm5lY3RJZlBsYXlpbmcgPSB1c2VDYWxsYmFjayhhc3luYyAocm9vbVN0YXR1czogc3RyaW5nLCByb29tSWRUb0Nvbm5lY3Q6IHN0cmluZykgPT4ge1xuICAgIC8vIElmIHJvb21TdGF0dXMgIT09IFwicGxheWluZ1wiLCBkbyBub3RoaW5nXG4gICAgaWYgKHJvb21TdGF0dXMgIT09ICdwbGF5aW5nJykge1xuICAgICAgc2hvdWxkUmVjb25uZWN0UmVmLmN1cnJlbnQgPSBmYWxzZSAvLyBTdG9wIHJlY29ubmVjdGluZyBpZiByb29tIG5vdCBwbGF5aW5nXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgLy8gRW5hYmxlIHJlY29ubmVjdGlvbiB3aGVuIGNvbm5lY3RpbmdcbiAgICBzaG91bGRSZWNvbm5lY3RSZWYuY3VycmVudCA9IHRydWVcblxuICAgIC8vIElmIGFscmVhZHkgY29ubmVjdGVkIG9yIGNvbm5lY3RpbmcsIGRvIG5vdGhpbmdcbiAgICBpZiAod3NSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgcmVhZHlTdGF0ZSA9IHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZVxuICAgICAgaWYgKHJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgIGxvZygnW0F1dG9Db25uZWN0XSBBbHJlYWR5IGNvbm5lY3RlZCwgc2tpcHBpbmcnKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChyZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykge1xuICAgICAgICBsb2coJ1tBdXRvQ29ubmVjdF0gQWxyZWFkeSBjb25uZWN0aW5nLCBza2lwcGluZycpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgLy8gSWYgY2xvc2luZyBvciBjbG9zZWQsIGNsZWFuIHVwIGZpcnN0XG4gICAgICBpZiAocmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NJTkcgfHwgcmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NFRCkge1xuICAgICAgICB3c1JlZi5jdXJyZW50LmNsb3NlKClcbiAgICAgICAgd3NSZWYuY3VycmVudCA9IG51bGxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29ubmVjdGluZ1JlZi5jdXJyZW50KSB7XG4gICAgICBsb2coJ1tBdXRvQ29ubmVjdF0gQ29ubmVjdGlvbiBpbiBwcm9ncmVzcyAoZmxhZyksIHNraXBwaW5nJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxvZygnW0F1dG9Db25uZWN0XSByb29tLnN0YXR1cyBpcyBwbGF5aW5nJylcblxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgU3VwYWJhc2Ugc2Vzc2lvblxuICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKClcbiAgICAgIGNvbnN0IGhhc1Rva2VuID0gISFzZXNzaW9uPy5hY2Nlc3NfdG9rZW5cbiAgICAgIGxvZygnW0F1dG9Db25uZWN0XSB0b2tlbiBwcmVzZW50PycsIGhhc1Rva2VuKVxuXG4gICAgICBpZiAoIXNlc3Npb24/LmFjY2Vzc190b2tlbikge1xuICAgICAgICBsb2coJ1tBdXRvQ29ubmVjdF0gTm8gYWNjZXNzIHRva2VuIGF2YWlsYWJsZScpXG4gICAgICAgIHNldFdzRXJyb3IoJ05vIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUnKVxuICAgICAgICBzZXRXc1N0YXR1cygnZXJyb3InKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgbG9nKCdbQXV0b0Nvbm5lY3RdIGNyZWF0aW5nIFdTJylcbiAgICAgIFxuICAgICAgLy8gQ29ubmVjdCB0byBXUyB1c2luZyBnYW1lU29ja2V0IGhlbHBlclxuICAgICAgY29ubmVjdGluZ1JlZi5jdXJyZW50ID0gdHJ1ZVxuICAgICAgc2V0V3NTdGF0dXMoJ2Nvbm5lY3RpbmcnKVxuICAgICAgc2V0V3NFcnJvcihudWxsKVxuXG4gICAgICAvLyBHZXQgV1MgVVJMIGZvciBkaXNwbGF5XG4gICAgICBjb25zdCB3c1VybEVudiA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dBTUVfU0VSVkVSX1dTX1VSTCB8fCBwcm9jZXNzLmVudi5WSVRFX0dBTUVfU0VSVkVSX1dTX1VSTCB8fCAnbm90IHNldCdcbiAgICAgIHNldFdzVXJsKHdzVXJsRW52KVxuXG4gICAgICBjb25zdCB3cyA9IGNvbm5lY3RHYW1lU29ja2V0RGVidWcoXG4gICAgICAgIHJvb21JZFRvQ29ubmVjdCxcbiAgICAgICAgc2Vzc2lvbi5hY2Nlc3NfdG9rZW4sXG4gICAgICAgIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgbG9nKFwiW1dTXSBtZXNzYWdlIGhhbmRsZXIgcmVjZWl2ZWRcIiwgbWVzc2FnZS50eXBlKVxuICAgICAgICAgIC8vIEhhbmRsZSBpbmNvbWluZyBtZXNzYWdlcyAob25seSBzdG9yZSBpbiBkZXYgZm9yIGRlYnVnIFVJKVxuICAgICAgICAgIGlmIChpc0Rldikge1xuICAgICAgICAgICAgc2V0V3NNZXNzYWdlcygocHJldikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IFttZXNzYWdlLCAuLi5wcmV2XS5zbGljZSgwLCAyMClcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld01lc3NhZ2VzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEhhbmRsZSBFUlJPUiBtZXNzYWdlcyBmcm9tIHNlcnZlclxuICAgICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09ICdFUlJPUicpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gbWVzc2FnZS5lcnJvciB8fCBtZXNzYWdlLm1lc3NhZ2UgfHwgJ1NlcnZlciBlcnJvcidcbiAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIFNlcnZlciBFUlJPUjonLCBlcnJvck1zZylcbiAgICAgICAgICAgIHNldFdzRXJyb3IoZXJyb3JNc2cpXG4gICAgICAgICAgICBzZXRXc1N0YXR1cygnZXJyb3InKVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnV0VMQ09NRScpIHtcbiAgICAgICAgICAgIGxvZygnW1dTXSBSZWNlaXZlZCBXRUxDT01FJylcbiAgICAgICAgICAgIGxvZygnW0F1dG9Db25uZWN0XSBXUyBjb25uZWN0ZWQgYmVjYXVzZSByb29tIGlzIHBsYXlpbmcnKVxuICAgICAgICAgICAgc2V0V3NTdGF0dXMoJ2Nvbm5lY3RlZCcpXG4gICAgICAgICAgICBzZXRXc0Vycm9yKG51bGwpXG4gICAgICAgICAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgICAgcmVjb25uZWN0QXR0ZW1wdFJlZi5jdXJyZW50ID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZW5kIFNZTkNfUkVRVUVTVCBhZnRlciBXRUxDT01FXG4gICAgICAgICAgICAvLyBVc2Ugcm9vbUlkVG9Db25uZWN0IHRvIGVuc3VyZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IHJvb21JZCBmcm9tIHRoZSBmdW5jdGlvbiBwYXJhbWV0ZXJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Um9vbUlkID0gcm9vbUlkVG9Db25uZWN0IHx8IHJvb21JZFxuICAgICAgICAgICAgICBpZiAod3NSZWYuY3VycmVudCAmJiB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOICYmIGN1cnJlbnRSb29tSWQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgcm9vbUlkIGJlZm9yZSBzZW5kaW5nXG4gICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRSb29tSWQgfHwgdHlwZW9mIGN1cnJlbnRSb29tSWQgIT09ICdzdHJpbmcnIHx8IGN1cnJlbnRSb29tSWQudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBsb2dFcnJvcignW1dTXSBDYW5ub3Qgc2VuZCBTWU5DX1JFUVVFU1Q6IEludmFsaWQgcm9vbUlkJywgeyBcbiAgICAgICAgICAgICAgICAgICAgICByb29tSWQ6IGN1cnJlbnRSb29tSWQsIFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVvZiBjdXJyZW50Um9vbUlkLFxuICAgICAgICAgICAgICAgICAgICAgIGZyb21QYXJhbXM6IHJvb21JZCxcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tQ29ubmVjdDogcm9vbUlkVG9Db25uZWN0XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBjb25zdCBzeW5jTWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1NZTkNfUkVRVUVTVCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICAgIHJvb21JZDogY3VycmVudFJvb21JZC50cmltKCksXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBsb2coJ1tXU10gU2VuZGluZyBTWU5DX1JFUVVFU1Q6Jywgc3luY01lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoc3luY01lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICBsb2coJ1tXU10gU1lOQ19SRVFVRVNUIEpTT046JywgbWVzc2FnZVN0cmluZylcbiAgICAgICAgICAgICAgICAgIHdzUmVmLmN1cnJlbnQuc2VuZChtZXNzYWdlU3RyaW5nKVxuICAgICAgICAgICAgICAgICAgbG9nKCdbV1NdIFNZTkNfUkVRVUVTVCBzZW50JylcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIEZhaWxlZCB0byBzZW5kIFNZTkNfUkVRVUVTVDonLCBlcnIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIENhbm5vdCBzZW5kIFNZTkNfUkVRVUVTVDonLCB7XG4gICAgICAgICAgICAgICAgICB3c1JlYWR5OiB3c1JlZi5jdXJyZW50Py5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTixcbiAgICAgICAgICAgICAgICAgIHJvb21JZDogY3VycmVudFJvb21JZCxcbiAgICAgICAgICAgICAgICAgIHJvb21JZEZyb21QYXJhbXM6IHJvb21JZCxcbiAgICAgICAgICAgICAgICAgIHJvb21JZEZyb21Db25uZWN0OiByb29tSWRUb0Nvbm5lY3QsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKSAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgY29ubmVjdGlvbiBpcyBzdGFibGVcbiAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ1NUQVRFJykge1xuICAgICAgICAgICAgbG9nKCdbV1NdIFJlY2VpdmVkIFNUQVRFJylcbiAgICAgICAgICAgIGxvZygnW0F1dG9Db25uZWN0XSBXUyBjb25uZWN0ZWQgYmVjYXVzZSByb29tIGlzIHBsYXlpbmcnKVxuICAgICAgICAgICAgc2V0V3NTdGF0dXMoJ2Nvbm5lY3RlZCcpXG4gICAgICAgICAgICBzZXRXc0Vycm9yKG51bGwpXG4gICAgICAgICAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgICAgcmVjb25uZWN0QXR0ZW1wdFJlZi5jdXJyZW50ID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBbHNvIHNlbmQgU1lOQ19SRVFVRVNUIGFmdGVyIFNUQVRFIChpbiBjYXNlIFdFTENPTUUgd2FzIG1pc3NlZClcbiAgICAgICAgICAgIC8vIFVzZSByb29tSWRUb0Nvbm5lY3QgdG8gZW5zdXJlIHdlIGhhdmUgdGhlIGNvcnJlY3Qgcm9vbUlkIGZyb20gdGhlIGZ1bmN0aW9uIHBhcmFtZXRlclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb29tSWQgPSByb29tSWRUb0Nvbm5lY3QgfHwgcm9vbUlkXG4gICAgICAgICAgICAgIGlmICh3c1JlZi5jdXJyZW50ICYmIHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gJiYgY3VycmVudFJvb21JZCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSByb29tSWQgYmVmb3JlIHNlbmRpbmdcbiAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudFJvb21JZCB8fCB0eXBlb2YgY3VycmVudFJvb21JZCAhPT0gJ3N0cmluZycgfHwgY3VycmVudFJvb21JZC50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIENhbm5vdCBzZW5kIFNZTkNfUkVRVUVTVCAoYWZ0ZXIgU1RBVEUpOiBJbnZhbGlkIHJvb21JZCcsIHsgXG4gICAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiBjdXJyZW50Um9vbUlkLCBcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlb2YgY3VycmVudFJvb21JZCxcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tUGFyYW1zOiByb29tSWQsXG4gICAgICAgICAgICAgICAgICAgICAgZnJvbUNvbm5lY3Q6IHJvb21JZFRvQ29ubmVjdFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgY29uc3Qgc3luY01lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdTWU5DX1JFUVVFU1QnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgICByb29tSWQ6IGN1cnJlbnRSb29tSWQudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgbG9nKCdbV1NdIFNlbmRpbmcgU1lOQ19SRVFVRVNUIChhZnRlciBTVEFURSk6Jywgc3luY01lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoc3luY01lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICBsb2coJ1tXU10gU1lOQ19SRVFVRVNUIEpTT04gKGFmdGVyIFNUQVRFKTonLCBtZXNzYWdlU3RyaW5nKVxuICAgICAgICAgICAgICAgICAgd3NSZWYuY3VycmVudC5zZW5kKG1lc3NhZ2VTdHJpbmcpXG4gICAgICAgICAgICAgICAgICBsb2coJ1tXU10gU1lOQ19SRVFVRVNUIHNlbnQgKGFmdGVyIFNUQVRFKScpXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICBsb2dFcnJvcignW1dTXSBGYWlsZWQgdG8gc2VuZCBTWU5DX1JFUVVFU1Q6JywgZXJyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dFcnJvcignW1dTXSBDYW5ub3Qgc2VuZCBTWU5DX1JFUVVFU1QgKGFmdGVyIFNUQVRFKTonLCB7XG4gICAgICAgICAgICAgICAgICB3c1JlYWR5OiB3c1JlZi5jdXJyZW50Py5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTixcbiAgICAgICAgICAgICAgICAgIHJvb21JZDogY3VycmVudFJvb21JZCxcbiAgICAgICAgICAgICAgICAgIHJvb21JZEZyb21QYXJhbXM6IHJvb21JZCxcbiAgICAgICAgICAgICAgICAgIHJvb21JZEZyb21Db25uZWN0OiByb29tSWRUb0Nvbm5lY3QsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnU1lOQ19TVEFURScpIHtcbiAgICAgICAgICAgIGxvZygnW1dTXSBSZWNlaXZlZCBTWU5DX1NUQVRFJylcbiAgICAgICAgICAgIC8vIENsZWFyIGFueSBwZW5kaW5nIHBsYXkgY2FyZHMgKHN0YXRlIHN5bmNlZCBmcm9tIHNlcnZlcilcbiAgICAgICAgICAgIHNldFBlbmRpbmdQbGF5Q2FyZHMobnVsbClcbiAgICAgICAgICAgIHBlbmRpbmdQbGF5Q2FyZHNSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgIC8vIEFwcGx5IFNZTkNfU1RBVEUgLSBvdmVyd3JpdGUgYWxsIHJlbGV2YW50IHN0YXRlIChkbyBOT1QgbWVyZ2UpXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5zZWF0ZWRQbGF5ZXJJZHMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLnNlYXRlZFBsYXllcklkcykpIHtcbiAgICAgICAgICAgICAgc2V0U2VhdGVkUGxheWVySWRzKG1lc3NhZ2Uuc2VhdGVkUGxheWVySWRzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UucXVldWVQbGF5ZXJJZHMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLnF1ZXVlUGxheWVySWRzKSkge1xuICAgICAgICAgICAgICBzZXRRdWV1ZVBsYXllcklkcyhtZXNzYWdlLnF1ZXVlUGxheWVySWRzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY3VycmVudFR1cm5QbGF5ZXJJZCkge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VHVyblBsYXllcklkKG1lc3NhZ2UuY3VycmVudFR1cm5QbGF5ZXJJZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmxhc3RQbGF5KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRMYXN0UGxheSA9IHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogbWVzc2FnZS5sYXN0UGxheS5wbGF5ZXJJZCxcbiAgICAgICAgICAgICAgICBjYXJkczogQXJyYXkuaXNBcnJheShtZXNzYWdlLmxhc3RQbGF5LmNhcmRzKSBcbiAgICAgICAgICAgICAgICAgID8gbWVzc2FnZS5sYXN0UGxheS5jYXJkcy5tYXAoKGNhcmQ6IGFueSkgPT4gbm9ybWFsaXplQ2FyZChjYXJkKSlcbiAgICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICAgICAga2luZDogbWVzc2FnZS5sYXN0UGxheS5raW5kLFxuICAgICAgICAgICAgICAgIGZpdmVLaW5kOiBtZXNzYWdlLmxhc3RQbGF5LmZpdmVLaW5kXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0TGFzdFBsYXkobm9ybWFsaXplZExhc3RQbGF5KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0TGFzdFBsYXkobnVsbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmhhbmRzQ291bnQgJiYgdHlwZW9mIG1lc3NhZ2UuaGFuZHNDb3VudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgc2V0SGFuZHNDb3VudChtZXNzYWdlLmhhbmRzQ291bnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS50b3RhbFNjb3JlcyAmJiB0eXBlb2YgbWVzc2FnZS50b3RhbFNjb3JlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2NvcmVzTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbcGxheWVySWQsIHNjb3JlXSBvZiBPYmplY3QuZW50cmllcyhtZXNzYWdlLnRvdGFsU2NvcmVzKSkge1xuICAgICAgICAgICAgICAgIHNjb3Jlc01hcFtwbGF5ZXJJZF0gPSB0eXBlb2Ygc2NvcmUgPT09ICdudW1iZXInID8gc2NvcmUgOiAwXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0VG90YWxTY29yZXMoc2NvcmVzTWFwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZWxpbWluYXRlZCAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UuZWxpbWluYXRlZCkpIHtcbiAgICAgICAgICAgICAgc2V0RWxpbWluYXRlZChtZXNzYWdlLmVsaW1pbmF0ZWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS55b3VySGFuZCAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UueW91ckhhbmQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRIYW5kID0gbWVzc2FnZS55b3VySGFuZC5tYXAoKGNhcmQ6IGFueSkgPT4gbm9ybWFsaXplQ2FyZChjYXJkKSlcbiAgICAgICAgICAgICAgY29uc3Qgc29ydGVkSGFuZCA9IHNvcnRDYXJkcyhub3JtYWxpemVkSGFuZClcbiAgICAgICAgICAgICAgc2V0WW91ckhhbmQoc29ydGVkSGFuZClcbiAgICAgICAgICAgICAgc2V0SGFuZE9yZGVyKFtdKSAvLyBSZXNldCBjdXN0b20gb3JkZXIgd2hlbiBuZXcgaGFuZCBpcyByZWNlaXZlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLnNjb3JlTGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgIHNldFNjb3JlTGltaXQobWVzc2FnZS5zY29yZUxpbWl0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnUk9PTV9TVEFURScpIHtcbiAgICAgICAgICAgIGxvZygnW1dTXSBSZWNlaXZlZCBST09NX1NUQVRFJylcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnBsYXllcnMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLnBsYXllcnMpKSB7XG4gICAgICAgICAgICAgIHNldFJvb21TdGF0ZVBsYXllcnMobWVzc2FnZS5wbGF5ZXJzKVxuICAgICAgICAgICAgICAvLyBGZXRjaCBwcm9maWxlcyBmb3IgYW55IG5ldyBwbGF5ZXJzIHRoYXQgZG9uJ3QgaGF2ZSBwcm9maWxlcyB5ZXRcbiAgICAgICAgICAgICAgLy8gVXNlIGZ1bmN0aW9uYWwgdXBkYXRlIHRvIGFjY2VzcyBjdXJyZW50IHBsYXllcnMgc3RhdGVcbiAgICAgICAgICAgICAgc2V0UGxheWVycyhjdXJyZW50UGxheWVycyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGxheWVySWRzID0gbWVzc2FnZS5wbGF5ZXJzLm1hcCgocDogYW55KSA9PiBwLnBsYXllcklkKVxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nUGxheWVySWRzID0gbmV3IFNldChjdXJyZW50UGxheWVycy5tYXAocCA9PiBwLnBsYXllcl9pZCkpXG4gICAgICAgICAgICAgICAgY29uc3QgbWlzc2luZ1BsYXllcklkcyA9IG5ld1BsYXllcklkcy5maWx0ZXIoKGlkOiBzdHJpbmcpID0+ICFleGlzdGluZ1BsYXllcklkcy5oYXMoaWQpKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChtaXNzaW5nUGxheWVySWRzLmxlbmd0aCA+IDAgJiYgcm9vbUlkKSB7XG4gICAgICAgICAgICAgICAgICAvLyBGZXRjaCBwcm9maWxlcyBmb3IgbWlzc2luZyBwbGF5ZXJzIGFzeW5jaHJvbm91c2x5XG4gICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgICAgICAgbWlzc2luZ1BsYXllcklkcy5tYXAoYXN5bmMgKHBsYXllcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KCdpZCwgZGlzcGxheV9uYW1lLCBhdmF0YXJfdXJsJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmVxKCdpZCcsIHBsYXllcklkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuc2luZ2xlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBsYXllcnMgc3RhdGUgd2l0aCBuZXcgcHJvZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2ZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGxheWVycyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHByZXYuZmluZChwID0+IHAucGxheWVyX2lkID09PSBwbGF5ZXJJZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2Lm1hcChwID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLnBsYXllcl9pZCA9PT0gcGxheWVySWQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IC4uLnAsIHByb2ZpbGU6IHByb2ZpbGUgYXMgUHJvZmlsZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHBsYXllciBkb2Vzbid0IGV4aXN0IGluIHBsYXllcnMgbGlzdCwgYWRkIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnByZXYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcl9pZDogcGxheWVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29tX2lkOiByb29tSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19yZWFkeTogbWVzc2FnZS5wbGF5ZXJzLmZpbmQoKHA6IGFueSkgPT4gcC5wbGF5ZXJJZCA9PT0gcGxheWVySWQpPy5pc1JlYWR5IHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdF9hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW5lZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICcnLCAvLyBXaWxsIGJlIHNldCBieSBTdXBhYmFzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZTogcHJvZmlsZSBhcyBQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUGxheWVyV2l0aFByb2ZpbGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gZmV0Y2ggcHJvZmlsZSBmb3IgcGxheWVyICR7cGxheWVySWR9OmAsIGVycilcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICApLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ZhaWxlZCB0byBmZXRjaCBwcm9maWxlcyBmb3IgbmV3IHBsYXllcnM6JywgZXJyKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQbGF5ZXJzIC8vIFJldHVybiBjdXJyZW50IHN0YXRlLCB1cGRhdGVzIHdpbGwgaGFwcGVuIHZpYSBzZXRQbGF5ZXJzIGluIFByb21pc2VcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ1JPVU5EX1NUQVJUJykge1xuICAgICAgICAgICAgbG9nKCdbV1NdIFJlY2VpdmVkIFJPVU5EX1NUQVJUJylcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnJvb21JZCAmJiBtZXNzYWdlLnN0YXJ0ZWRBdCkge1xuICAgICAgICAgICAgICBzZXRSb3VuZFN0YXJ0KHsgcm9vbUlkOiBtZXNzYWdlLnJvb21JZCwgc3RhcnRlZEF0OiBtZXNzYWdlLnN0YXJ0ZWRBdCB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnUlVMRVMnKSB7XG4gICAgICAgICAgICBsb2coJ1tXU10gUmVjZWl2ZWQgUlVMRVMnKVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLnNjb3JlTGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgIHNldFNjb3JlTGltaXQobWVzc2FnZS5zY29yZUxpbWl0KVxuICAgICAgICAgICAgICBzZXRTY29yZUxpbWl0SW5wdXQobWVzc2FnZS5zY29yZUxpbWl0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnU0NPUkVfVVBEQVRFJykge1xuICAgICAgICAgICAgbG9nKCdbV1NdIFJlY2VpdmVkIFNDT1JFX1VQREFURScpXG4gICAgICAgICAgICBpZiAobWVzc2FnZS50b3RhbFNjb3JlcyAmJiB0eXBlb2YgbWVzc2FnZS50b3RhbFNjb3JlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2NvcmVzOiB7cGxheWVySWQ6IHN0cmluZywgdG90YWxTY29yZTogbnVtYmVyLCBlbGltaW5hdGVkOiBib29sZWFufVtdID0gW11cbiAgICAgICAgICAgICAgY29uc3Qgc2NvcmVzTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbcGxheWVySWQsIHNjb3JlXSBvZiBPYmplY3QuZW50cmllcyhtZXNzYWdlLnRvdGFsU2NvcmVzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlVmFsdWUgPSB0eXBlb2Ygc2NvcmUgPT09ICdudW1iZXInID8gc2NvcmUgOiAwXG4gICAgICAgICAgICAgICAgc2NvcmVzTWFwW3BsYXllcklkXSA9IHNjb3JlVmFsdWVcbiAgICAgICAgICAgICAgICBzY29yZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBwbGF5ZXJJZCxcbiAgICAgICAgICAgICAgICAgIHRvdGFsU2NvcmU6IHNjb3JlVmFsdWUsXG4gICAgICAgICAgICAgICAgICBlbGltaW5hdGVkOiBtZXNzYWdlLmVsaW1pbmF0ZWQgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLmVsaW1pbmF0ZWQpIFxuICAgICAgICAgICAgICAgICAgICA/IG1lc3NhZ2UuZWxpbWluYXRlZC5pbmNsdWRlcyhwbGF5ZXJJZClcbiAgICAgICAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0VG90YWxTY29yZXMoc2NvcmVzTWFwKVxuICAgICAgICAgICAgICBzZXRTY29yZWJvYXJkKHNjb3JlcylcbiAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZWxpbWluYXRlZCAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UuZWxpbWluYXRlZCkpIHtcbiAgICAgICAgICAgICAgICBzZXRFbGltaW5hdGVkKG1lc3NhZ2UuZWxpbWluYXRlZClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnREVBTFQnKSB7XG4gICAgICAgICAgICBsb2coJ1tXU10gUmVjZWl2ZWQgREVBTFQnKVxuICAgICAgICAgICAgLy8gSGlkZSByb3VuZCBlbmQgYmFubmVyIHdoZW4gbmV3IGhhbmQgaXMgZGVhbHRcbiAgICAgICAgICAgIHNldFJvdW5kRW5kKG51bGwpXG4gICAgICAgICAgICAvLyBDbGVhciBhbnkgcGVuZGluZyBwbGF5IGNhcmRzIChuZXcgaGFuZCBkZWFsdClcbiAgICAgICAgICAgIHNldFBlbmRpbmdQbGF5Q2FyZHMobnVsbClcbiAgICAgICAgICAgIHBlbmRpbmdQbGF5Q2FyZHNSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnlvdXJIYW5kICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS55b3VySGFuZCkpIHtcbiAgICAgICAgICAgICAgLy8gTm9ybWFsaXplIGNhcmRzIHRvIGhhbmRsZSB2YXJpb3VzIGZvcm1hdHMgKG51bWVyaWMsIHN5bWJvbCwgb3IgY2Fub25pY2FsKVxuICAgICAgICAgICAgICBjb25zdCBub3JtYWxpemVkSGFuZCA9IG1lc3NhZ2UueW91ckhhbmQubWFwKChjYXJkOiBhbnkpID0+IG5vcm1hbGl6ZUNhcmQoY2FyZCkpXG4gICAgICAgICAgICAgIGNvbnN0IHNvcnRlZEhhbmQgPSBzb3J0Q2FyZHMobm9ybWFsaXplZEhhbmQpXG4gICAgICAgICAgICAgIHNldFlvdXJIYW5kKHNvcnRlZEhhbmQpXG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkQ2FyZHMoW10pIC8vIFJlc2V0IHNlbGVjdGlvbiB3aGVuIG5ldyBoYW5kIGlzIGRlYWx0XG4gICAgICAgICAgICAgIHNldEhhbmRPcmRlcihbXSkgLy8gUmVzZXQgY3VzdG9tIG9yZGVyIHdoZW4gbmV3IGhhbmQgaXMgZGVhbHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0ZXJQbGF5ZXJJZCkge1xuICAgICAgICAgICAgICBzZXRTdGFydGVyUGxheWVySWQobWVzc2FnZS5zdGFydGVyUGxheWVySWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5yZWFzb24pIHtcbiAgICAgICAgICAgICAgc2V0U3RhcnRlclJlYXNvbihtZXNzYWdlLnJlYXNvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnNlYXRlZFBsYXllcklkcyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2Uuc2VhdGVkUGxheWVySWRzKSkge1xuICAgICAgICAgICAgICBzZXRTZWF0ZWRQbGF5ZXJJZHMobWVzc2FnZS5zZWF0ZWRQbGF5ZXJJZHMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdHQU1FX1NUQVRFJykge1xuICAgICAgICAgICAgbG9nKCdbV1NdIFJlY2VpdmVkIEdBTUVfU1RBVEUnKVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY3VycmVudFR1cm5QbGF5ZXJJZCkge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VHVyblBsYXllcklkKG1lc3NhZ2UuY3VycmVudFR1cm5QbGF5ZXJJZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmxhc3RQbGF5KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRMYXN0UGxheSA9IHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogbWVzc2FnZS5sYXN0UGxheS5wbGF5ZXJJZCxcbiAgICAgICAgICAgICAgICBjYXJkczogQXJyYXkuaXNBcnJheShtZXNzYWdlLmxhc3RQbGF5LmNhcmRzKSBcbiAgICAgICAgICAgICAgICAgID8gbWVzc2FnZS5sYXN0UGxheS5jYXJkcy5tYXAoKGNhcmQ6IGFueSkgPT4gbm9ybWFsaXplQ2FyZChjYXJkKSlcbiAgICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICAgICAga2luZDogbWVzc2FnZS5sYXN0UGxheS5raW5kLCAvLyBTSU5HTEUsIFBBSVIsIFNFVCwgRklWRSwgZXRjLlxuICAgICAgICAgICAgICAgIGZpdmVLaW5kOiBtZXNzYWdlLmxhc3RQbGF5LmZpdmVLaW5kIC8vIFNUUkFJR0hULCBGTFVTSCwgRlVMTF9IT1VTRSwgRk9VUiwgU1RSQUlHSFRfRkxVU0hcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRMYXN0UGxheShub3JtYWxpemVkTGFzdFBsYXkpXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBwbGF5IChzdWNjZXNzZnVsKSwgY2xlYXIgcGVuZGluZyBjYXJkc1xuICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZExhc3RQbGF5LnBsYXllcklkID09PSBjdXJyZW50VXNlcklkICYmIHBlbmRpbmdQbGF5Q2FyZHNSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGxvZygnW1dTXSBQbGF5IHN1Y2Nlc3NmdWwsIGNsZWFyaW5nIHBlbmRpbmcgY2FyZHMnKVxuICAgICAgICAgICAgICAgIHNldFBlbmRpbmdQbGF5Q2FyZHMobnVsbClcbiAgICAgICAgICAgICAgICBwZW5kaW5nUGxheUNhcmRzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldExhc3RQbGF5KG51bGwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDbGVhciBzZWxlY3Rpb24gb24gR0FNRV9TVEFURSB1cGRhdGUgKHR1cm4gY2hhbmdlKVxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkcyhbXSlcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmhhbmRzQ291bnQgJiYgdHlwZW9mIG1lc3NhZ2UuaGFuZHNDb3VudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgc2V0SGFuZHNDb3VudChtZXNzYWdlLmhhbmRzQ291bnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UuY2FuUGFzcyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgIHNldENhblBhc3MobWVzc2FnZS5jYW5QYXNzKSAvLyBMZWdhY3ksIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgKG5vdCB1c2VkIGZvciBidXR0b24gbG9naWMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIYW5kbGUgcGFzc2VkUGxheWVySWRzIGlmIHByb3ZpZGVkIGJ5IHNlcnZlclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGFzc2VkUGxheWVySWRzICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS5wYXNzZWRQbGF5ZXJJZHMpKSB7XG4gICAgICAgICAgICAgIHNldFBhc3NlZFBsYXllcklkcyhtZXNzYWdlLnBhc3NlZFBsYXllcklkcylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFJlc2V0IGlmIG5vdCBwcm92aWRlZCAoc2VydmVyIG1heSBvbWl0IGl0IHdoZW4gbm8gb25lIGhhcyBwYXNzZWQpXG4gICAgICAgICAgICAgIHNldFBhc3NlZFBsYXllcklkcyhbXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSBxdWV1ZVBsYXllcklkcyBpZiBwcm92aWRlZFxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UucXVldWVQbGF5ZXJJZHMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLnF1ZXVlUGxheWVySWRzKSkge1xuICAgICAgICAgICAgICBzZXRRdWV1ZVBsYXllcklkcyhtZXNzYWdlLnF1ZXVlUGxheWVySWRzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlIHRvdGFsU2NvcmVzIGFuZCBlbGltaW5hdGVkIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICBpZiAobWVzc2FnZS50b3RhbFNjb3JlcyAmJiB0eXBlb2YgbWVzc2FnZS50b3RhbFNjb3JlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2NvcmVzTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbcGxheWVySWQsIHNjb3JlXSBvZiBPYmplY3QuZW50cmllcyhtZXNzYWdlLnRvdGFsU2NvcmVzKSkge1xuICAgICAgICAgICAgICAgIHNjb3Jlc01hcFtwbGF5ZXJJZF0gPSB0eXBlb2Ygc2NvcmUgPT09ICdudW1iZXInID8gc2NvcmUgOiAwXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0VG90YWxTY29yZXMoc2NvcmVzTWFwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZWxpbWluYXRlZCAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UuZWxpbWluYXRlZCkpIHtcbiAgICAgICAgICAgICAgc2V0RWxpbWluYXRlZChtZXNzYWdlLmVsaW1pbmF0ZWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdBQ1RJT05fRVJST1InKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IG1lc3NhZ2UuZXJyb3IgfHwgbWVzc2FnZS5tZXNzYWdlIHx8ICdBY3Rpb24gZXJyb3InXG4gICAgICAgICAgICBsb2dFcnJvcignW1dTXSBSZWNlaXZlZCBBQ1RJT05fRVJST1I6JywgZXJyb3JNc2cpXG4gICAgICAgICAgICBzZXRBY3Rpb25FcnJvcihlcnJvck1zZylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVzdG9yZSBjYXJkcyBpZiB3ZSBoYWQgcGVuZGluZyBwbGF5IGNhcmRzIChlcnJvciByZWNvdmVyeSlcbiAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdDYXJkcyA9IHBlbmRpbmdQbGF5Q2FyZHNSZWYuY3VycmVudFxuICAgICAgICAgICAgaWYgKHBlbmRpbmdDYXJkcyAmJiBwZW5kaW5nQ2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBsb2coJ1tXU10gUmVzdG9yaW5nIGNhcmRzIGFmdGVyIEFDVElPTl9FUlJPUjonLCBwZW5kaW5nQ2FyZHMpXG4gICAgICAgICAgICAgIHNldFlvdXJIYW5kKChwcmV2SGFuZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcHJldkhhbmQpIHJldHVybiBwcmV2SGFuZFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEFkZCBiYWNrIHRoZSBwZW5kaW5nIGNhcmRzXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdG9yZWRIYW5kID0gWy4uLnByZXZIYW5kLCAuLi5wZW5kaW5nQ2FyZHNdXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRDYXJkcyhyZXN0b3JlZEhhbmQpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZXNldCBoYW5kT3JkZXIgc2luY2Ugd2UncmUgcmVzdG9yaW5nIGNhcmRzXG4gICAgICAgICAgICAgIHNldEhhbmRPcmRlcihbXSlcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENsZWFyIHBlbmRpbmcgY2FyZHNcbiAgICAgICAgICAgICAgc2V0UGVuZGluZ1BsYXlDYXJkcyhudWxsKVxuICAgICAgICAgICAgICBwZW5kaW5nUGxheUNhcmRzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERvIE5PVCBjbGVhciBzZWxlY3Rpb24gb24gZXJyb3IgLSB1c2VyIG1heSB3YW50IHRvIGFkanVzdFxuICAgICAgICAgICAgLy8gQ2xlYXIgZXJyb3IgYWZ0ZXIgNSBzZWNvbmRzXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEFjdGlvbkVycm9yKG51bGwpLCA1MDAwKVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnUk9VTkRfRU5EJykge1xuICAgICAgICAgICAgbG9nKCdbV1NdIFJlY2VpdmVkIFJPVU5EX0VORCcpXG4gICAgICAgICAgICBpZiAobWVzc2FnZS53aW5uZXJQbGF5ZXJJZCkge1xuICAgICAgICAgICAgICBzZXRSb3VuZEVuZCh7IHdpbm5lclBsYXllcklkOiBtZXNzYWdlLndpbm5lclBsYXllcklkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdXU19FUlJPUicgfHwgbWVzc2FnZS50eXBlID09PSAnUEFSU0VfRVJST1InKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IG1lc3NhZ2UuZXJyb3IgfHwgJ1dlYlNvY2tldCBlcnJvcidcbiAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIENsaWVudCBlcnJvcjonLCBlcnJvck1zZylcbiAgICAgICAgICAgIHNldFdzRXJyb3IoZXJyb3JNc2cpXG4gICAgICAgICAgICBzZXRXc1N0YXR1cygnZXJyb3InKVxuICAgICAgICAgICAgY29ubmVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ1dTX09QRU5fVElNRU9VVCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gbWVzc2FnZS5lcnJvciB8fCAnV2ViU29ja2V0IG9wZW4gdGltZW91dCdcbiAgICAgICAgICAgIGxvZ0Vycm9yKCdbV1NdIE9wZW4gdGltZW91dDonLCBlcnJvck1zZylcbiAgICAgICAgICAgIHNldFdzRXJyb3IoZXJyb3JNc2cpXG4gICAgICAgICAgICBzZXRXc1N0YXR1cygnZXJyb3InKVxuICAgICAgICAgICAgY29ubmVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChjb2RlLCByZWFzb24sIHdhc0NsZWFuKSA9PiB7XG4gICAgICAgICAgLy8gT24gY2xvc2UgLSBoYW5kbGUgcmVjb25uZWN0aW9uIGF0IFJvb21QYWdlIGxldmVsXG4gICAgICAgICAgbG9nKGBbV1NdIGNsb3NlIGhhbmRsZXI6IGNvZGU9JHtjb2RlfSwgcmVhc29uPSR7cmVhc29ufSwgd2FzQ2xlYW49JHt3YXNDbGVhbn1gKVxuICAgICAgICAgIFxuICAgICAgICAgIHdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgY29ubmVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBPbmx5IGF0dGVtcHQgcmVjb25uZWN0IGlmIGl0IHdhc24ndCBhIG1hbnVhbCBjbG9zZSBhbmQgcm9vbSBpcyBzdGlsbCBwbGF5aW5nXG4gICAgICAgICAgaWYgKHNob3VsZFJlY29ubmVjdFJlZi5jdXJyZW50ICYmIHJvb20/LnN0YXR1cyA9PT0gJ3BsYXlpbmcnICYmICF3YXNDbGVhbikge1xuICAgICAgICAgICAgLy8gU3RhcnQgcmVjb25uZWN0aW9uIHdpdGggZXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgICAgICAgY29uc3QgcmVjb25uZWN0RGVsYXlzID0gWzUwMCwgMTAwMCwgMjAwMCwgNDAwMCwgODAwMF1cbiAgICAgICAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gMTBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYXR0ZW1wdFJlY29ubmVjdCA9IGFzeW5jIChhdHRlbXB0OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFzaG91bGRSZWNvbm5lY3RSZWYuY3VycmVudCB8fCByb29tPy5zdGF0dXMgIT09ICdwbGF5aW5nJykge1xuICAgICAgICAgICAgICAgIHNldFdzU3RhdHVzKCdkaXNjb25uZWN0ZWQnKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoYXR0ZW1wdCA+IG1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgICAgICAgc2V0V3NTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpXG4gICAgICAgICAgICAgICAgc2V0V3NFcnJvcignRmFpbGVkIHRvIHJlY29ubmVjdCBhZnRlciAxMCBhdHRlbXB0cycpXG4gICAgICAgICAgICAgICAgbG9nKCdbUmVjb25uZWN0XSBNYXggYXR0ZW1wdHMgcmVhY2hlZCwgZ2l2aW5nIHVwJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgZGVsYXlJbmRleCA9IE1hdGgubWluKGF0dGVtcHQgLSAxLCByZWNvbm5lY3REZWxheXMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSByZWNvbm5lY3REZWxheXNbZGVsYXlJbmRleF1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHJlY29ubmVjdEF0dGVtcHRSZWYuY3VycmVudCA9IGF0dGVtcHRcbiAgICAgICAgICAgICAgc2V0V3NTdGF0dXMoJ3JlY29ubmVjdGluZycpXG4gICAgICAgICAgICAgIGxvZyhgW1JlY29ubmVjdF0gQXR0ZW1wdCAke2F0dGVtcHR9IGluICR7ZGVsYXl9bXNgKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaG91bGRSZWNvbm5lY3RSZWYuY3VycmVudCB8fCByb29tPy5zdGF0dXMgIT09ICdwbGF5aW5nJykge1xuICAgICAgICAgICAgICAgICAgc2V0V3NTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpXG4gICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgYWxyZWFkeSBjb25uZWN0ZWQvY29ubmVjdGluZyBiZWZvcmUgYXR0ZW1wdGluZ1xuICAgICAgICAgICAgICAgIGlmICh3c1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByZWFkeVN0YXRlID0gd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlXG4gICAgICAgICAgICAgICAgICBpZiAocmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHwgcmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nKCdbUmVjb25uZWN0XSBBbHJlYWR5IGNvbm5lY3RlZC9jb25uZWN0aW5nLCBza2lwcGluZycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0SWZQbGF5aW5nKHJvb20uc3RhdHVzLCByb29tLmlkKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGNvbm5lY3Rpb24gc3RhdHVzIGFmdGVyIGEgZGVsYXkgdG8gc2VlIGlmIHdlIG5lZWQgdG8gcmV0cnlcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZWNvbm5lY3RSZWYuY3VycmVudCAmJiByb29tPy5zdGF0dXMgPT09ICdwbGF5aW5nJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBzdGlsbCBub3QgY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICghd3NSZWYuY3VycmVudCB8fCB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdFJlY29ubmVjdChhdHRlbXB0ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGRlbGF5ICsgMTAwMCkgLy8gQ2hlY2sgYWZ0ZXIgZGVsYXkgKyAxc1xuICAgICAgICAgICAgICB9LCBkZWxheSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXR0ZW1wdFJlY29ubmVjdCgxKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRXc1N0YXR1cygnZGlzY29ubmVjdGVkJylcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChsb2dFbnRyeSkgPT4ge1xuICAgICAgICAgIC8vIEV2ZW50IGxvZyBjYWxsYmFjayAob25seSBzdG9yZSBpbiBkZXYgZm9yIGRlYnVnIFVJKVxuICAgICAgICAgIGlmIChpc0Rldikge1xuICAgICAgICAgICAgc2V0V3NFdmVudHMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbmV3RXZlbnRzID0gW2xvZ0VudHJ5LCAuLi5wcmV2XS5zbGljZSgwLCAyMClcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld0V2ZW50c1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcblxuICAgICAgd3NSZWYuY3VycmVudCA9IHdzXG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB3c1JlZiB3aGVuIHJlY29ubmVjdGluZyAodGhlIHJlY29ubmVjdCBjcmVhdGVzIGEgbmV3IHdzKVxuICAgICAgaWYgKCh3cyBhcyBhbnkpLnNlbmRTeW5jUmVxdWVzdCkge1xuICAgICAgICAvLyBTdG9yZSByZWZlcmVuY2UgZm9yIFNZTkNfUkVRVUVTVFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gY29ubmVjdCB0byBnYW1lIHNlcnZlcidcbiAgICAgIGxvZ0Vycm9yKCdbQXV0b0Nvbm5lY3RdIENvbm5lY3Rpb24gZXJyb3I6JywgZXJyKVxuICAgICAgc2V0V3NFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBzZXRXc1N0YXR1cygnZXJyb3InKVxuICAgICAgd3NSZWYuY3VycmVudCA9IG51bGxcbiAgICAgIGNvbm5lY3RpbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgfVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcm9vbUlkKSB7XG4gICAgICBuYXZpZ2F0ZSgnL2xvYmJ5JylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIEd1YXJkOiBEb24ndCBjcmVhdGUgY2hhbm5lbHMgaWYgdGhleSBhbHJlYWR5IGV4aXN0XG4gICAgLy8gQ2hlY2sgaWYgY2hhbm5lbHMgZXhpc3QgYW5kIGFyZSBpbiBhIHZhbGlkIHN0YXRlIChub3QgY2xvc2VkKVxuICAgIGNvbnN0IGV4aXN0aW5nUm9vbUNoYW5uZWwgPSByb29tQ2hhbm5lbFJlZi5jdXJyZW50XG4gICAgY29uc3QgZXhpc3RpbmdQbGF5ZXJzQ2hhbm5lbCA9IHBsYXllcnNDaGFubmVsUmVmLmN1cnJlbnRcbiAgICBcbiAgICBpZiAoZXhpc3RpbmdSb29tQ2hhbm5lbCAmJiBleGlzdGluZ1BsYXllcnNDaGFubmVsKSB7XG4gICAgICAvLyBDaGVjayBjaGFubmVsIHN0YXRlIC0gU3VwYWJhc2UgY2hhbm5lbHMgaGF2ZSBhIHN0YXRlIHByb3BlcnR5XG4gICAgICBjb25zdCByb29tQ2hhbm5lbFN0YXRlID0gKGV4aXN0aW5nUm9vbUNoYW5uZWwgYXMgYW55KS5zdGF0ZVxuICAgICAgY29uc3QgcGxheWVyc0NoYW5uZWxTdGF0ZSA9IChleGlzdGluZ1BsYXllcnNDaGFubmVsIGFzIGFueSkuc3RhdGVcbiAgICAgIFxuICAgICAgLy8gSWYgY2hhbm5lbHMgYXJlIHN0aWxsIHN1YnNjcmliZWQgb3Igam9pbmluZywgZG9uJ3QgcmVjcmVhdGVcbiAgICAgIGlmIChyb29tQ2hhbm5lbFN0YXRlID09PSAnam9pbmVkJyB8fCByb29tQ2hhbm5lbFN0YXRlID09PSAnam9pbmluZycgfHwgXG4gICAgICAgICAgcGxheWVyc0NoYW5uZWxTdGF0ZSA9PT0gJ2pvaW5lZCcgfHwgcGxheWVyc0NoYW5uZWxTdGF0ZSA9PT0gJ2pvaW5pbmcnKSB7XG4gICAgICAgIGxvZygnW1Jvb21zUlRdIENoYW5uZWxzIGFscmVhZHkgZXhpc3QgYW5kIGFjdGl2ZSwgc2tpcHBpbmcgY3JlYXRpb24nKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgY2hhbm5lbHMgYXJlIGNsb3NlZC9lcnJvcmVkLCBjbGVhbiB0aGVtIHVwIGZpcnN0XG4gICAgICBpZiAocm9vbUNoYW5uZWxTdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgcm9vbUNoYW5uZWxTdGF0ZSA9PT0gJ2Vycm9yZWQnIHx8XG4gICAgICAgICAgcGxheWVyc0NoYW5uZWxTdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgcGxheWVyc0NoYW5uZWxTdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgICAgIGxvZygnW1Jvb21zUlRdIENsZWFuaW5nIHVwIGNsb3NlZC9lcnJvcmVkIGNoYW5uZWxzJylcbiAgICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChleGlzdGluZ1Jvb21DaGFubmVsKVxuICAgICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKGV4aXN0aW5nUGxheWVyc0NoYW5uZWwpXG4gICAgICAgIHJvb21DaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgIHBsYXllcnNDaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgbmF2aWdhdGUoJy9hdXRoJylcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzZXRDdXJyZW50VXNlcklkKHVzZXIuaWQpXG5cbiAgICAgICAgLy8gRmV0Y2ggcm9vbVxuICAgICAgICBjb25zdCB7IGRhdGE6IHJvb21EYXRhLCBlcnJvcjogcm9vbUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdyb29tcycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCdpZCcsIHJvb21JZClcbiAgICAgICAgICAuc2luZ2xlKClcblxuICAgICAgICBpZiAocm9vbUVycm9yIHx8ICFyb29tRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUm9vbSBub3QgZm91bmQnKVxuICAgICAgICB9XG4gICAgICAgIHNldFJvb20ocm9vbURhdGEgYXMgUm9vbSlcblxuICAgICAgICAvLyBGZXRjaCBwbGF5ZXJzXG4gICAgICAgIGF3YWl0IGZldGNoUGxheWVycyhyb29tSWQpXG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgY2hhbm5lbHMgaWYgdGhleSBleGlzdCAocHJldmVudCBkdXBsaWNhdGVzKVxuICAgICAgICBpZiAocGxheWVyc0NoYW5uZWxSZWYuY3VycmVudCkge1xuICAgICAgICAgIHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwocGxheWVyc0NoYW5uZWxSZWYuY3VycmVudClcbiAgICAgICAgICBwbGF5ZXJzQ2hhbm5lbFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGlmIChyb29tQ2hhbm5lbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChyb29tQ2hhbm5lbFJlZi5jdXJyZW50KVxuICAgICAgICAgIHJvb21DaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gcm9vbV9wbGF5ZXJzIGNoYW5nZXNcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlXG4gICAgICAgICAgLmNoYW5uZWwoYHJvb21fcGxheWVyczoke3Jvb21JZH1gKVxuICAgICAgICAgIC5vbihcbiAgICAgICAgICAgICdwb3N0Z3Jlc19jaGFuZ2VzJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXZlbnQ6ICcqJyxcbiAgICAgICAgICAgICAgc2NoZW1hOiAncHVibGljJyxcbiAgICAgICAgICAgICAgdGFibGU6ICdyb29tX3BsYXllcnMnLFxuICAgICAgICAgICAgICBmaWx0ZXI6IGByb29tX2lkPWVxLiR7cm9vbUlkfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBmZXRjaFBsYXllcnMocm9vbUlkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgICAuc3Vic2NyaWJlKClcbiAgICAgICAgcGxheWVyc0NoYW5uZWxSZWYuY3VycmVudCA9IGNoYW5uZWxcblxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gcm9vbSBzdGF0dXMgY2hhbmdlc1xuICAgICAgICBjb25zdCBjaGFubmVsTmFtZSA9IGByb29tOiR7cm9vbUlkfWBcbiAgICAgICAgY29uc3QgZmlsdGVyU3RyaW5nID0gYGlkPWVxLiR7cm9vbUlkfWBcbiAgICAgICAgbG9nKCdbUm9vbXNSVF0gQ3JlYXRpbmcgY2hhbm5lbDonLCBjaGFubmVsTmFtZSlcbiAgICAgICAgbG9nKCdbUm9vbXNSVF0gRmlsdGVyOicsIGZpbHRlclN0cmluZylcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJvb21DaGFubmVsID0gc3VwYWJhc2VcbiAgICAgICAgICAuY2hhbm5lbChjaGFubmVsTmFtZSlcbiAgICAgICAgICAub24oXG4gICAgICAgICAgICAncG9zdGdyZXNfY2hhbmdlcycsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGV2ZW50OiAnVVBEQVRFJyxcbiAgICAgICAgICAgICAgc2NoZW1hOiAncHVibGljJyxcbiAgICAgICAgICAgICAgdGFibGU6ICdyb29tcycsXG4gICAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyU3RyaW5nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgIGxvZygnW1Jvb21zUlRdIHBheWxvYWQgcmVjZWl2ZWQnKVxuICAgICAgICAgICAgICBpZiAocGF5bG9hZC5uZXcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkUm9vbSA9IHBheWxvYWQubmV3IGFzIFJvb21cbiAgICAgICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSBpZiByb29tIGFjdHVhbGx5IGNoYW5nZWQgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzXG4gICAgICAgICAgICAgICAgc2V0Um9vbShwcmV2Um9vbSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAocHJldlJvb20gJiYgcHJldlJvb20uaWQgPT09IHVwZGF0ZWRSb29tLmlkICYmIFxuICAgICAgICAgICAgICAgICAgICAgIHByZXZSb29tLnN0YXR1cyA9PT0gdXBkYXRlZFJvb20uc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgcHJldlJvb20uc2NvcmVfbGltaXQgPT09IHVwZGF0ZWRSb29tLnNjb3JlX2xpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJvb20gaGFzbid0IG1lYW5pbmdmdWxseSBjaGFuZ2VkLCByZXR1cm4gcHJldmlvdXMgdG8gcHJldmVudCByZS1yZW5kZXJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZSb29tXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZFJvb21cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEF1dG8tY29ubmVjdCB3aGVuIHN0YXR1cyBiZWNvbWVzIFwicGxheWluZ1wiIChmb3IgQUxMIHVzZXJzKVxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkUm9vbS5zdGF0dXMgPT09ICdwbGF5aW5nJykge1xuICAgICAgICAgICAgICAgICAgbG9nKCdbQXV0b0Nvbm5lY3RdIFJlYWx0aW1lOiByb29tIHN0YXR1cyB1cGRhdGVkIHRvIHBsYXlpbmcnKVxuICAgICAgICAgICAgICAgICAgY29ubmVjdElmUGxheWluZyh1cGRhdGVkUm9vbS5zdGF0dXMsIHJvb21JZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICAgLnN1YnNjcmliZSgoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBsb2coJ1tSb29tc1JUXSBTdWJzY3JpYmUgc3RhdHVzOicsIHN0YXR1cylcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdTVUJTQ1JJQkVEJykge1xuICAgICAgICAgICAgICBsb2coJ1tSb29tc1JUXSBTdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCB0byByb29tIHVwZGF0ZXMnKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdUSU1FRF9PVVQnKSB7XG4gICAgICAgICAgICAgIHdhcm4oJ1tSb29tc1JUXSBTdWJzY3JpcHRpb24gdGltZWQgb3V0JylcbiAgICAgICAgICAgICAgLy8gRG9uJ3QgcmVjcmVhdGUgb24gdGltZW91dCAtIGxldCBpdCByZXRyeSBuYXR1cmFsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnQ0hBTk5FTF9FUlJPUicpIHtcbiAgICAgICAgICAgICAgbG9nRXJyb3IoJ1tSb29tc1JUXSBDaGFubmVsIGVycm9yIG9jY3VycmVkJylcbiAgICAgICAgICAgICAgLy8gQ2xlYXIgcmVmIHNvIGl0IGNhbiBiZSByZWNyZWF0ZWQgb24gbmV4dCBlZmZlY3QgcnVuXG4gICAgICAgICAgICAgIGlmIChyb29tQ2hhbm5lbFJlZi5jdXJyZW50ID09PSByb29tQ2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIHJvb21DaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnQ0xPU0VEJykge1xuICAgICAgICAgICAgICBsb2coJ1tSb29tc1JUXSBDaGFubmVsIGNsb3NlZCcpXG4gICAgICAgICAgICAgIC8vIE9ubHkgY2xlYXIgcmVmIGlmIHRoaXMgaXMgdGhlIGN1cnJlbnQgY2hhbm5lbCAobm90IGEgc3RhbGUgb25lKVxuICAgICAgICAgICAgICAvLyBEb24ndCByZWNyZWF0ZSBpbW1lZGlhdGVseSB0byBhdm9pZCBpbmZpbml0ZSBsb29wXG4gICAgICAgICAgICAgIGlmIChyb29tQ2hhbm5lbFJlZi5jdXJyZW50ID09PSByb29tQ2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIHJvb21DaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICByb29tQ2hhbm5lbFJlZi5jdXJyZW50ID0gcm9vbUNoYW5uZWxcblxuICAgICAgICAvLyBBKSBBZnRlciBpbml0aWFsIHJvb20gZmV0Y2g6IGF1dG8tY29ubmVjdCBpZiBhbHJlYWR5IFwicGxheWluZ1wiXG4gICAgICAgIGxvZygnW0F1dG9Db25uZWN0XSBJbml0aWFsIGZldGNoOiByb29tLnN0YXR1cyA9Jywgcm9vbURhdGEuc3RhdHVzKVxuICAgICAgICBjb25uZWN0SWZQbGF5aW5nKHJvb21EYXRhLnN0YXR1cywgcm9vbUlkKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgaWYgKHBsYXllcnNDaGFubmVsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwocGxheWVyc0NoYW5uZWxSZWYuY3VycmVudClcbiAgICAgICAgICAgIHBsYXllcnNDaGFubmVsUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyb29tQ2hhbm5lbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKHJvb21DaGFubmVsUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICByb29tQ2hhbm5lbFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBDbG9zZSBXZWJTb2NrZXQgb24gdW5tb3VudFxuICAgICAgICAgIGlmICh3c1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICB3c1JlZi5jdXJyZW50LmNsb3NlKClcbiAgICAgICAgICAgIHdzUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbm5lY3RpbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvYWQgcm9vbScpXG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hEYXRhKClcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtyb29tSWRdKSAvLyBPbmx5IGRlcGVuZCBvbiByb29tSWQgLSBuYXZpZ2F0ZSBpcyBzdGFibGUsIGJ1dCB3ZSByZW1vdmVkIGl0IHRvIGJlIHNhZmVcblxuICAvLyBJbml0aWFsaXplIHNjb3JlTGltaXQgZnJvbSByb29tIGRhdGFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocm9vbT8uc2NvcmVfbGltaXQpIHtcbiAgICAgIHNldFNjb3JlTGltaXQocm9vbS5zY29yZV9saW1pdClcbiAgICAgIHNldFNjb3JlTGltaXRJbnB1dChyb29tLnNjb3JlX2xpbWl0KVxuICAgIH1cbiAgfSwgW3Jvb20/LnNjb3JlX2xpbWl0XSlcblxuICAvLyBGYWxsYmFjayBwb2xsaW5nOiBjaGVjayByb29tIHN0YXR1cyBldmVyeSAxcyBpZiBub3QgY29ubmVjdGVkIGFuZCByb29tIG5vdCBwbGF5aW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyb29tSWQgfHwgIXJvb20pIHJldHVyblxuXG4gICAgLy8gT25seSBwb2xsIGlmOlxuICAgIC8vIC0gV1MgaXMgbm90IGNvbm5lY3RlZC9jb25uZWN0aW5nXG4gICAgLy8gLSBsb2NhbCByb29tLnN0YXR1cyBpcyBub3QgXCJwbGF5aW5nXCIgeWV0XG4gICAgY29uc3Qgc2hvdWxkUG9sbCA9IFxuICAgICAgd3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnICYmIFxuICAgICAgd3NTdGF0dXMgIT09ICdjb25uZWN0aW5nJyAmJiBcbiAgICAgIHJvb20uc3RhdHVzICE9PSAncGxheWluZydcblxuICAgIGlmICghc2hvdWxkUG9sbCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbG9nKCdbUG9sbGluZ10gU3RhcnRpbmcgZmFsbGJhY2sgcG9sbGluZyBmb3Igcm9vbSBzdGF0dXMnKVxuICAgIFxuICAgIGNvbnN0IHBvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcm9vbURhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdyb29tcycpXG4gICAgICAgICAgLnNlbGVjdCgnc3RhdHVzJylcbiAgICAgICAgICAuZXEoJ2lkJywgcm9vbUlkKVxuICAgICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGxvZ0Vycm9yKCdbUG9sbGluZ10gRXJyb3IgZmV0Y2hpbmcgcm9vbSBzdGF0dXM6JywgZXJyb3IpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm9vbURhdGE/LnN0YXR1cyA9PT0gJ3BsYXlpbmcnKSB7XG4gICAgICAgICAgbG9nKCdbUG9sbGluZ10gUm9vbSBzdGF0dXMgY2hhbmdlZCB0byBwbGF5aW5nLCBjb25uZWN0aW5nIFdTJylcbiAgICAgICAgICBjb25uZWN0SWZQbGF5aW5nKCdwbGF5aW5nJywgcm9vbUlkKVxuICAgICAgICAgIC8vIFN0b3AgcG9sbGluZyBvbmNlIGNvbm5lY3RlZFxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nRXJyb3IoJ1tQb2xsaW5nXSBQb2xsaW5nIGVycm9yOicsIGVycilcbiAgICAgIH1cbiAgICB9LCAxMDAwKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxvZygnW1BvbGxpbmddIFN0b3BwaW5nIGZhbGxiYWNrIHBvbGxpbmcnKVxuICAgICAgY2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpXG4gICAgfVxuICB9LCBbcm9vbUlkLCByb29tPy5zdGF0dXMsIHdzU3RhdHVzLCBjb25uZWN0SWZQbGF5aW5nXSlcblxuICBjb25zdCBmZXRjaFBsYXllcnMgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgcXVlcnlpbmcgd2l0aCAuaXMoKSBmaWx0ZXIgZmlyc3RcbiAgICAgIGxldCB7IGRhdGE6IHBsYXllcnNEYXRhLCBlcnJvcjogcGxheWVyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncm9vbV9wbGF5ZXJzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5lcSgncm9vbV9pZCcsIGlkKVxuICAgICAgICAuaXMoJ2xlZnRfYXQnLCBudWxsKSAvLyBPbmx5IHNob3cgcGxheWVycyB3aG8gaGF2ZW4ndCBsZWZ0XG5cbiAgICAgIC8vIElmIHRoYXQgZmFpbHMgKDUwMCBlcnJvciBvciBhbnkgZXJyb3IpLCB0cnkgZmV0Y2hpbmcgYWxsIGFuZCBmaWx0ZXJpbmcgY2xpZW50LXNpZGVcbiAgICAgIGlmIChwbGF5ZXJzRXJyb3IpIHtcbiAgICAgICAgd2FybignUXVlcnkgd2l0aCAuaXMoKSBmYWlsZWQsIHRyeWluZyBhbHRlcm5hdGl2ZSBhcHByb2FjaDonLCBwbGF5ZXJzRXJyb3IpXG4gICAgICAgIGNvbnN0IHsgZGF0YTogYWxsUGxheWVycywgZXJyb3I6IGFsbEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdyb29tX3BsYXllcnMnKVxuICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgIC5lcSgncm9vbV9pZCcsIGlkKVxuXG4gICAgICAgIGlmIChhbGxFcnJvcikge1xuICAgICAgICAgIGxvZ0Vycm9yKCdGYWlsZWQgdG8gZmV0Y2ggcGxheWVyczonLCBhbGxFcnJvcilcbiAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IChhbGxFcnJvciBhcyBhbnkpPy5tZXNzYWdlIHx8IFN0cmluZyhhbGxFcnJvcilcbiAgICAgICAgICBzZXRFcnJvcihgRmFpbGVkIHRvIGxvYWQgcGxheWVyczogJHtlcnJvck1zZ31gKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlsdGVyIGNsaWVudC1zaWRlIGZvciBwbGF5ZXJzIHdobyBoYXZlbid0IGxlZnRcbiAgICAgICAgcGxheWVyc0RhdGEgPSBhbGxQbGF5ZXJzPy5maWx0ZXIocCA9PiBwLmxlZnRfYXQgPT09IG51bGwpIHx8IG51bGxcbiAgICAgIH1cblxuICAgICAgaWYgKCFwbGF5ZXJzRGF0YSB8fCBwbGF5ZXJzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0UGxheWVycyhbXSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIHByb2ZpbGVzIGZvciBlYWNoIHBsYXllclxuICAgICAgY29uc3QgcGxheWVyc1dpdGhQcm9maWxlczogUGxheWVyV2l0aFByb2ZpbGVbXSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBwbGF5ZXJzRGF0YS5tYXAoYXN5bmMgKHBsYXllcikgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZSwgZXJyb3I6IHByb2ZpbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgICAgICAuc2VsZWN0KCdpZCwgZGlzcGxheV9uYW1lLCBhdmF0YXJfdXJsJylcbiAgICAgICAgICAgIC5lcSgnaWQnLCBwbGF5ZXIucGxheWVyX2lkKVxuICAgICAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgICAgICAvLyBMb2cgcHJvZmlsZSBlcnJvcnMgYnV0IGRvbid0IGZhaWwgdGhlIHdob2xlIG9wZXJhdGlvblxuICAgICAgICAgIGlmIChwcm9maWxlRXJyb3IpIHtcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBmZXRjaCBwcm9maWxlIGZvciBwbGF5ZXIgJHtwbGF5ZXIucGxheWVyX2lkfTpgLCBwcm9maWxlRXJyb3IpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBsYXllcixcbiAgICAgICAgICAgIHByb2ZpbGU6IHByb2ZpbGUgYXMgUHJvZmlsZSB8IG51bGwsXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBzZXRQbGF5ZXJzKHBsYXllcnNXaXRoUHJvZmlsZXMpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dFcnJvcignRXJyb3IgaW4gZmV0Y2hQbGF5ZXJzOicsIGVycilcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHBsYXllcnMnXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgfVxuICB9XG5cbiAgLy8gU2VuZCBSRUFEWSBtZXNzYWdlIHZpYSBXZWJTb2NrZXRcbiAgY29uc3Qgc2VuZFJlYWR5TWVzc2FnZSA9IHVzZUNhbGxiYWNrKChpc1JlYWR5OiBib29sZWFuKSA9PiB7XG4gICAgaWYgKCFyb29tSWQgfHwgIXdzUmVmLmN1cnJlbnQgfHwgd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgd2FybignW1JFQURZXSBDYW5ub3Qgc2VuZCBSRUFEWTogV1Mgbm90IGNvbm5lY3RlZCcpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVhZHlNZXNzYWdlID0ge1xuICAgICAgICB0eXBlOiAnUkVBRFknLFxuICAgICAgICByb29tSWQsXG4gICAgICAgIGlzUmVhZHksXG4gICAgICB9XG4gICAgICBsb2coJ1tSRUFEWV0gU2VuZGluZyBSRUFEWSBtZXNzYWdlJylcbiAgICAgIHdzUmVmLmN1cnJlbnQuc2VuZChKU09OLnN0cmluZ2lmeShyZWFkeU1lc3NhZ2UpKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ0Vycm9yKCdbUkVBRFldIEZhaWxlZCB0byBzZW5kIFJFQURZIG1lc3NhZ2U6JywgZXJyKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LCBbcm9vbUlkXSlcblxuICAvLyBTZW5kIFBMQVkgbWVzc2FnZSB2aWEgV2ViU29ja2V0XG4gIGNvbnN0IHNlbmRQbGF5TWVzc2FnZSA9IHVzZUNhbGxiYWNrKChjYXJkczogQ2FyZFtdKSA9PiB7XG4gICAgaWYgKCFyb29tSWQgfHwgIXdzUmVmLmN1cnJlbnQgfHwgd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgd2FybignW1BMQVldIENhbm5vdCBzZW5kIFBMQVk6IFdTIG5vdCBjb25uZWN0ZWQnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBsYXlNZXNzYWdlID0ge1xuICAgICAgICB0eXBlOiAnUExBWScsXG4gICAgICAgIHJvb21JZCxcbiAgICAgICAgY2FyZHMsXG4gICAgICB9XG4gICAgICBsb2coJ1tQTEFZXSBTZW5kaW5nIFBMQVkgbWVzc2FnZScpXG4gICAgICB3c1JlZi5jdXJyZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkocGxheU1lc3NhZ2UpKVxuICAgICAgc2V0QWN0aW9uRXJyb3IobnVsbCkgLy8gQ2xlYXIgYW55IHByZXZpb3VzIGVycm9yc1xuICAgICAgXG4gICAgICAvLyBTdG9yZSBjYXJkcyB3ZSdyZSB0cnlpbmcgdG8gcGxheSAoZm9yIGVycm9yIHJlY292ZXJ5KVxuICAgICAgc2V0UGVuZGluZ1BsYXlDYXJkcyhjYXJkcylcbiAgICAgIHBlbmRpbmdQbGF5Q2FyZHNSZWYuY3VycmVudCA9IGNhcmRzXG4gICAgICBcbiAgICAgIC8vIE9wdGltaXN0aWNhbGx5IHJlbW92ZSBwbGF5ZWQgY2FyZHMgZnJvbSB5b3VySGFuZCBpbiByZWFsLXRpbWVcbiAgICAgIC8vIElmIHNlcnZlciByZXR1cm5zIGVycm9yLCB3ZSdsbCByZXN0b3JlIHRoZW1cbiAgICAgIHNldFlvdXJIYW5kKChwcmV2SGFuZCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZIYW5kKSByZXR1cm4gcHJldkhhbmRcbiAgICAgICAgXG4gICAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHBsYXllZCBjYXJkc1xuICAgICAgICBsZXQgbmV3SGFuZCA9IHByZXZIYW5kLmZpbHRlcigoaGFuZENhcmQpID0+IHtcbiAgICAgICAgICByZXR1cm4gIWNhcmRzLnNvbWUoXG4gICAgICAgICAgICAocGxheWVkQ2FyZCkgPT4gY2FyZHNFcXVhbChwbGF5ZWRDYXJkLCBoYW5kQ2FyZClcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBSZS1zb3J0IHRoZSByZW1haW5pbmcgY2FyZHMgdG8gbWFpbnRhaW4gcHJvcGVyIG9yZGVyXG4gICAgICAgIG5ld0hhbmQgPSBzb3J0Q2FyZHMobmV3SGFuZClcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBoYW5kT3JkZXIgdG8gcmVtb3ZlIGluZGljZXMgb2YgcGxheWVkIGNhcmRzXG4gICAgICAgIHNldEhhbmRPcmRlcigocHJldk9yZGVyKSA9PiB7XG4gICAgICAgICAgaWYgKHByZXZPcmRlci5sZW5ndGggPT09IDApIHJldHVybiBbXVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpbmQgaW5kaWNlcyBvZiBwbGF5ZWQgY2FyZHMgaW4gb3JpZ2luYWwgaGFuZFxuICAgICAgICAgIGNvbnN0IHBsYXllZEluZGljZXMgPSBuZXcgU2V0KFxuICAgICAgICAgICAgY2FyZHMubWFwKChwbGF5ZWRDYXJkKSA9PlxuICAgICAgICAgICAgICBwcmV2SGFuZC5maW5kSW5kZXgoKGhhbmRDYXJkKSA9PiBjYXJkc0VxdWFsKGhhbmRDYXJkLCBwbGF5ZWRDYXJkKSlcbiAgICAgICAgICAgICkuZmlsdGVyKChpZHgpID0+IGlkeCAhPT0gLTEpXG4gICAgICAgICAgKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlbW92ZSBwbGF5ZWQgaW5kaWNlcyBhbmQgYWRqdXN0IHJlbWFpbmluZyBpbmRpY2VzXG4gICAgICAgICAgY29uc3QgbmV3T3JkZXIgPSBwcmV2T3JkZXJcbiAgICAgICAgICAgIC5maWx0ZXIoKGlkeCkgPT4gIXBsYXllZEluZGljZXMuaGFzKGlkeCkpXG4gICAgICAgICAgICAubWFwKChpZHgpID0+IHtcbiAgICAgICAgICAgICAgLy8gQWRqdXN0IGluZGV4OiBjb3VudCBob3cgbWFueSBwbGF5ZWQgY2FyZHMgd2VyZSBiZWZvcmUgdGhpcyBpbmRleFxuICAgICAgICAgICAgICBjb25zdCBhZGp1c3RtZW50ID0gQXJyYXkuZnJvbShwbGF5ZWRJbmRpY2VzKS5maWx0ZXIoKHBsYXllZElkeCkgPT4gcGxheWVkSWR4IDwgaWR4KS5sZW5ndGhcbiAgICAgICAgICAgICAgcmV0dXJuIGlkeCAtIGFkanVzdG1lbnRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIG5ld09yZGVyXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbmV3SGFuZFxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgc2VsZWN0aW9uIGFmdGVyIHNlbmRpbmcgKG9wdGltaXN0aWMpXG4gICAgICBzZXRTZWxlY3RlZENhcmRzKFtdKVxuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoJ1tQTEFZXSBGYWlsZWQgdG8gc2VuZCBQTEFZIG1lc3NhZ2U6JywgZXJyKVxuICAgICAgc2V0QWN0aW9uRXJyb3IoJ0ZhaWxlZCB0byBzZW5kIHBsYXkgbWVzc2FnZScpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0sIFtyb29tSWRdKVxuXG4gIC8vIFNlbmQgU0VUX1JVTEVTIG1lc3NhZ2UgdmlhIFdlYlNvY2tldFxuICBjb25zdCBzZW5kU2V0UnVsZXNNZXNzYWdlID0gdXNlQ2FsbGJhY2soKG5ld1Njb3JlTGltaXQ6IG51bWJlcikgPT4ge1xuICAgIGlmICghcm9vbUlkIHx8ICF3c1JlZi5jdXJyZW50IHx8IHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHdhcm4oJ1tTRVRfUlVMRVNdIENhbm5vdCBzZW5kIFNFVF9SVUxFUzogV1Mgbm90IGNvbm5lY3RlZCcpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcnVsZXNNZXNzYWdlID0ge1xuICAgICAgICB0eXBlOiAnU0VUX1JVTEVTJyxcbiAgICAgICAgcm9vbUlkLFxuICAgICAgICBzY29yZUxpbWl0OiBuZXdTY29yZUxpbWl0LFxuICAgICAgfVxuICAgICAgbG9nKCdbU0VUX1JVTEVTXSBTZW5kaW5nIFNFVF9SVUxFUyBtZXNzYWdlJylcbiAgICAgIHdzUmVmLmN1cnJlbnQuc2VuZChKU09OLnN0cmluZ2lmeShydWxlc01lc3NhZ2UpKVxuICAgICAgc2V0QWN0aW9uRXJyb3IobnVsbCkgLy8gQ2xlYXIgYW55IHByZXZpb3VzIGVycm9yc1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ0Vycm9yKCdbU0VUX1JVTEVTXSBGYWlsZWQgdG8gc2VuZCBTRVRfUlVMRVMgbWVzc2FnZTonLCBlcnIpXG4gICAgICBzZXRBY3Rpb25FcnJvcignRmFpbGVkIHRvIHNldCBydWxlcycpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0sIFtyb29tSWRdKVxuXG4gIC8vIFNlbmQgUEFTUyBtZXNzYWdlIHZpYSBXZWJTb2NrZXRcbiAgY29uc3Qgc2VuZFBhc3NNZXNzYWdlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghcm9vbUlkIHx8ICF3c1JlZi5jdXJyZW50IHx8IHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHdhcm4oJ1tQQVNTXSBDYW5ub3Qgc2VuZCBQQVNTOiBXUyBub3QgY29ubmVjdGVkJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXNzTWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogJ1BBU1MnLFxuICAgICAgICByb29tSWQsXG4gICAgICB9XG4gICAgICBsb2coJ1tQQVNTXSBTZW5kaW5nIFBBU1MgbWVzc2FnZScpXG4gICAgICB3c1JlZi5jdXJyZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkocGFzc01lc3NhZ2UpKVxuICAgICAgc2V0QWN0aW9uRXJyb3IobnVsbCkgLy8gQ2xlYXIgYW55IHByZXZpb3VzIGVycm9yc1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ0Vycm9yKCdbUEFTU10gRmFpbGVkIHRvIHNlbmQgUEFTUyBtZXNzYWdlOicsIGVycilcbiAgICAgIHNldEFjdGlvbkVycm9yKCdGYWlsZWQgdG8gc2VuZCBwYXNzIG1lc3NhZ2UnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LCBbcm9vbUlkXSlcblxuICBjb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoY2FyZDogQ2FyZCkgPT4ge1xuICAgIC8vIFRvZ2dsZSBzZWxlY3Rpb24gKG1heCA1IGNhcmRzKVxuICAgIHNldFNlbGVjdGVkQ2FyZHMoKHByZXYpID0+IHtcbiAgICAgIC8vIENoZWNrIGlmIGNhcmQgaXMgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHByZXYuc29tZShcbiAgICAgICAgKGMpID0+IGMucmFuayA9PT0gY2FyZC5yYW5rICYmIGMuc3VpdCA9PT0gY2FyZC5zdWl0XG4gICAgICApXG4gICAgICBcbiAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHNlbGVjdGlvblxuICAgICAgICByZXR1cm4gcHJldi5maWx0ZXIoXG4gICAgICAgICAgKGMpID0+ICEoYy5yYW5rID09PSBjYXJkLnJhbmsgJiYgYy5zdWl0ID09PSBjYXJkLnN1aXQpXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZCB0byBzZWxlY3Rpb24gaWYgdW5kZXIgbGltaXRcbiAgICAgICAgaWYgKHByZXYubGVuZ3RoID49IDUpIHtcbiAgICAgICAgICByZXR1cm4gcHJldiAvLyBNYXggNSBjYXJkc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4ucHJldiwgY2FyZF1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlUGxheSA9ICgpID0+IHtcbiAgICAvLyBBbGxvdyAxLCAyLCAzLCBvciA1IGNhcmRzIChub3QgNClcbiAgICBjb25zdCB2YWxpZExlbmd0aHMgPSBbMSwgMiwgMywgNV1cbiAgICBpZiAoIXZhbGlkTGVuZ3Rocy5pbmNsdWRlcyhzZWxlY3RlZENhcmRzLmxlbmd0aCkpIHJldHVyblxuICAgIFxuICAgIHNlbmRQbGF5TWVzc2FnZShzZWxlY3RlZENhcmRzKVxuICAgIC8vIFNlbGVjdGlvbiBjbGVhcmVkIGluIHNlbmRQbGF5TWVzc2FnZSBhZnRlciBzdWNjZXNzZnVsIHNlbmRcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVBhc3MgPSAoKSA9PiB7XG4gICAgc2VuZFBhc3NNZXNzYWdlKClcbiAgfVxuXG4gIGNvbnN0IGlzTXlUdXJuID0gY3VycmVudFR1cm5QbGF5ZXJJZCA9PT0gY3VycmVudFVzZXJJZFxuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVJlYWR5ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcm9vbUlkIHx8ICFjdXJyZW50VXNlcklkIHx8IHVwZGF0aW5nUmVhZHkpIHJldHVyblxuXG4gICAgLy8gSWYgV1MgaXMgY29ubmVjdGVkLCB1c2UgV1MgUkVBRFkgbWVzc2FnZXNcbiAgICBpZiAod3NTdGF0dXMgPT09ICdjb25uZWN0ZWQnICYmIHdzUmVmLmN1cnJlbnQ/LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAvLyBHZXQgY3VycmVudCByZWFkeSBzdGF0ZSBmcm9tIFJPT01fU1RBVEUgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZnJvbSBTdXBhYmFzZVxuICAgICAgY29uc3Qgcm9vbVN0YXRlUGxheWVyID0gcm9vbVN0YXRlUGxheWVycy5maW5kKChwKSA9PiBwLnBsYXllcklkID09PSBjdXJyZW50VXNlcklkKVxuICAgICAgY29uc3Qgc3VwYWJhc2VQbGF5ZXIgPSBwbGF5ZXJzLmZpbmQoKHApID0+IHAucGxheWVyX2lkID09PSBjdXJyZW50VXNlcklkKVxuICAgICAgY29uc3QgY3VycmVudFJlYWR5U3RhdGUgPSByb29tU3RhdGVQbGF5ZXIgXG4gICAgICAgID8gcm9vbVN0YXRlUGxheWVyLmlzUmVhZHkgXG4gICAgICAgIDogc3VwYWJhc2VQbGF5ZXI/LmlzX3JlYWR5ID8/IGZhbHNlXG4gICAgICBcbiAgICAgIGNvbnN0IG5ld1JlYWR5U3RhdGUgPSAhY3VycmVudFJlYWR5U3RhdGVcbiAgICAgIFxuICAgICAgc2V0VXBkYXRpbmdSZWFkeSh0cnVlKVxuICAgICAgY29uc3Qgc2VudCA9IHNlbmRSZWFkeU1lc3NhZ2UobmV3UmVhZHlTdGF0ZSlcbiAgICAgIGlmICghc2VudCkge1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHNlbmQgcmVhZHkgc3RhdHVzLiBQbGVhc2UgdHJ5IGFnYWluLicpXG4gICAgICB9XG4gICAgICBzZXRVcGRhdGluZ1JlYWR5KGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gU3VwYWJhc2UgaWYgV1Mgbm90IGNvbm5lY3RlZFxuICAgIHNldFVwZGF0aW5nUmVhZHkodHJ1ZSlcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudFBsYXllciA9IHBsYXllcnMuZmluZCgocCkgPT4gcC5wbGF5ZXJfaWQgPT09IGN1cnJlbnRVc2VySWQpXG4gICAgICBpZiAoIWN1cnJlbnRQbGF5ZXIpIHJldHVyblxuXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncm9vbV9wbGF5ZXJzJylcbiAgICAgICAgLnVwZGF0ZSh7IGlzX3JlYWR5OiAhY3VycmVudFBsYXllci5pc19yZWFkeSB9KVxuICAgICAgICAuZXEoJ3Jvb21faWQnLCByb29tSWQpXG4gICAgICAgIC5lcSgncGxheWVyX2lkJywgY3VycmVudFVzZXJJZClcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRVcGRhdGluZ1JlYWR5KGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUxlYXZlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcm9vbUlkIHx8ICFjdXJyZW50VXNlcklkIHx8IGxlYXZpbmcpIHJldHVyblxuXG4gICAgc2V0TGVhdmluZyh0cnVlKVxuICAgIHRyeSB7XG4gICAgICAvLyBTdG9wIHJlY29ubmVjdGlvbiBhdHRlbXB0c1xuICAgICAgc2hvdWxkUmVjb25uZWN0UmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgXG4gICAgICAvLyBNYXJrIGFzIG1hbnVhbCBjbG9zZSBhbmQgY2xvc2UgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgICAgIGlmICh3c1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IG1hcmtNYW51YWxDbG9zZSA9ICh3c1JlZi5jdXJyZW50IGFzIGFueSkubWFya01hbnVhbENsb3NlXG4gICAgICAgIGlmIChtYXJrTWFudWFsQ2xvc2UpIHtcbiAgICAgICAgICBtYXJrTWFudWFsQ2xvc2UoKVxuICAgICAgICB9XG4gICAgICAgIHdzUmVmLmN1cnJlbnQuY2xvc2UoKVxuICAgICAgICB3c1JlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgfVxuICAgICAgY29ubmVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgIHNldFdzU3RhdHVzKCdkaXNjb25uZWN0ZWQnKVxuXG4gICAgICAvLyBVcGRhdGUgbGVmdF9hdFxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Jvb21fcGxheWVycycpXG4gICAgICAgIC51cGRhdGUoeyBsZWZ0X2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSlcbiAgICAgICAgLmVxKCdyb29tX2lkJywgcm9vbUlkKVxuICAgICAgICAuZXEoJ3BsYXllcl9pZCcsIGN1cnJlbnRVc2VySWQpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICAgICAgbmF2aWdhdGUoJy9sb2JieScpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpXG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExlYXZpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU3RhcnQgPSBhc3luYyAoZT86IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgZT8ucHJldmVudERlZmF1bHQoKVxuICAgIGxvZyhcIltTdGFydF0gY2xpY2tlZFwiKVxuICAgIFxuICAgIGlmIChpc1N0YXJ0aW5nKSB7XG4gICAgICBsb2coXCJbU3RhcnRdIEFscmVhZHkgc3RhcnRpbmcsIGlnbm9yaW5nIGR1cGxpY2F0ZSBjbGlja1wiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCFyb29tSWQgfHwgIWN1cnJlbnRVc2VySWQpIHtcbiAgICAgIGxvZyhcIltTdGFydF0gTWlzc2luZyByb29tSWQgb3IgY3VycmVudFVzZXJJZFwiLCB7IHJvb21JZCwgY3VycmVudFVzZXJJZCB9KVxuICAgICAgc2V0RXJyb3IoJ01pc3Npbmcgcm9vbSBJRCBvciB1c2VyIElEJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxvZyhcIltTdGFydF0gcm9vbUlkXCIsIHJvb21JZClcbiAgICBzZXRJc1N0YXJ0aW5nKHRydWUpXG5cbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHNlc3Npb24gYW5kIGFjY2VzcyB0b2tlblxuICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKClcbiAgICAgIGNvbnN0IGhhc1Rva2VuID0gISFzZXNzaW9uPy5hY2Nlc3NfdG9rZW5cbiAgICAgIGxvZyhcIltTdGFydF0gc2Vzc2lvbiB0b2tlbiBwcmVzZW50P1wiLCBoYXNUb2tlbilcbiAgICAgIFxuICAgICAgaWYgKCFzZXNzaW9uPy5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgc2V0RXJyb3IoJ05vIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUuIFBsZWFzZSBsb2cgaW4gYWdhaW4uJylcbiAgICAgICAgc2V0V3NFcnJvcignTm8gYWNjZXNzIHRva2VuIGF2YWlsYWJsZScpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBGZXRjaCB0aGUgcm9vbSByb3cgZmlyc3QgdG8gdmVyaWZ5IG93bmVyc2hpcCBhbmQgY3VycmVudCBzdGF0dXNcbiAgICAgIGNvbnN0IHsgZGF0YTogcm9vbURhdGEsIGVycm9yOiByb29tRmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Jvb21zJylcbiAgICAgICAgLnNlbGVjdCgnaWQsIG93bmVyX2lkLCBzdGF0dXMnKVxuICAgICAgICAuZXEoJ2lkJywgcm9vbUlkKVxuICAgICAgICAuc2luZ2xlKClcblxuICAgICAgaWYgKHJvb21GZXRjaEVycm9yIHx8ICFyb29tRGF0YSkge1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9IHJvb21GZXRjaEVycm9yPy5tZXNzYWdlIHx8ICdSb29tIG5vdCBmb3VuZCdcbiAgICAgICAgbG9nRXJyb3IoXCJbU3RhcnRdIHJvb20gZmV0Y2ggZXJyb3I6XCIsIHJvb21GZXRjaEVycm9yKVxuICAgICAgICBzZXRFcnJvcihgRmFpbGVkIHRvIGZldGNoIHJvb206ICR7ZXJyb3JNc2d9YClcbiAgICAgICAgc2V0V3NFcnJvcihgRmFpbGVkIHRvIGZldGNoIHJvb206ICR7ZXJyb3JNc2d9YClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIFZlcmlmeSBvd25lcnNoaXBcbiAgICAgIGlmIChjdXJyZW50VXNlcklkICE9PSByb29tRGF0YS5vd25lcl9pZCkge1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9ICdPbmx5IHRoZSByb29tIG93bmVyIGNhbiBzdGFydCB0aGUgZ2FtZSdcbiAgICAgICAgbG9nKFwiW1N0YXJ0XSBPd25lcnNoaXAgY2hlY2sgZmFpbGVkXCIsIHsgY3VycmVudFVzZXJJZCwgb3duZXJJZDogcm9vbURhdGEub3duZXJfaWQgfSlcbiAgICAgICAgc2V0RXJyb3IoZXJyb3JNc2cpXG4gICAgICAgIHNldFdzRXJyb3IoZXJyb3JNc2cpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBJZiBzdGF0dXMgaXMgYWxyZWFkeSBcInBsYXlpbmdcIiwgZG8gbm90aGluZyAoV1MgY29ubmVjdGlvbiBoYW5kbGVkIGJ5IGNvbm5lY3RJZlBsYXlpbmcpXG4gICAgICBpZiAocm9vbURhdGEuc3RhdHVzID09PSAncGxheWluZycpIHtcbiAgICAgICAgbG9nKFwiW1N0YXJ0XSBSb29tIGFscmVhZHkgcGxheWluZywgc2tpcHBpbmcgUEFUQ0hcIilcbiAgICAgICAgc2V0SXNTdGFydGluZyhmYWxzZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSByb29tIHN0YXR1cyB0byAncGxheWluZydcbiAgICAgIC8vIFRoZSByZWFsdGltZSBzdWJzY3JpcHRpb24gd2lsbCB0cmlnZ2VyIGNvbm5lY3RJZlBsYXlpbmcgZm9yIEFMTCB1c2VycyAoaW5jbHVkaW5nIG93bmVyKVxuICAgICAgbG9nKFwiW1N0YXJ0XSBQYXRjaGluZyByb29tcy5zdGF0dXMgdG8gJ3BsYXlpbmcnXCIpXG4gICAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Jvb21zJylcbiAgICAgICAgLnVwZGF0ZSh7IHN0YXR1czogJ3BsYXlpbmcnIH0pXG4gICAgICAgIC5lcSgnaWQnLCByb29tSWQpXG5cbiAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICAvLyBIYW5kbGUgU3VwYWJhc2UgZXJyb3Igd2l0aCBkZXRhaWxlZCBpbmZvcm1hdGlvblxuICAgICAgICBjb25zdCBlcnJvckRldGFpbHMgPSB7XG4gICAgICAgICAgc3RhdHVzOiAodXBkYXRlRXJyb3IgYXMgYW55KT8uc3RhdHVzIHx8ICd1bmtub3duJyxcbiAgICAgICAgICBtZXNzYWdlOiB1cGRhdGVFcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJyxcbiAgICAgICAgICBkZXRhaWxzOiAodXBkYXRlRXJyb3IgYXMgYW55KT8uZGV0YWlscyB8fCBudWxsLFxuICAgICAgICAgIGhpbnQ6ICh1cGRhdGVFcnJvciBhcyBhbnkpPy5oaW50IHx8IG51bGwsXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxvZ0Vycm9yKCdbU3RhcnRdIHBhdGNoIHJvb21zLnN0YXR1cyByZXN1bHQgRVJST1I6JywgZXJyb3JEZXRhaWxzKVxuICAgICAgICBjb25zdCBlcnJvck1zZyA9IGBGYWlsZWQgdG8gdXBkYXRlIHJvb20gc3RhdHVzOiAke2Vycm9yRGV0YWlscy5tZXNzYWdlfSR7ZXJyb3JEZXRhaWxzLmhpbnQgPyBgICgke2Vycm9yRGV0YWlscy5oaW50fSlgIDogJyd9YFxuICAgICAgICBzZXRFcnJvcihlcnJvck1zZylcbiAgICAgICAgc2V0V3NFcnJvcihlcnJvck1zZylcbiAgICAgICAgc2V0SXNTdGFydGluZyhmYWxzZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGxvZyhcIltTdGFydF0gcGF0Y2ggcm9vbXMuc3RhdHVzIHJlc3VsdCBTVUNDRVNTXCIpXG4gICAgICAvLyBOb3RlOiBXUyBjb25uZWN0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGJ5IHJlYWx0aW1lIHN1YnNjcmlwdGlvbiB2aWEgY29ubmVjdElmUGxheWluZ1xuICAgICAgLy8gUmVzZXQgaXNTdGFydGluZyB3aGVuIFdTIGNvbm5lY3RzIG9yIGFmdGVyIGEgdGltZW91dFxuICAgICAgY29uc3QgcmVzZXRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldElzU3RhcnRpbmcoZmFsc2UpXG4gICAgICB9LCA1MDAwKVxuICAgICAgXG4gICAgICAvLyBBbHNvIHJlc2V0IHdoZW4gV1MgY29ubmVjdHMgb3IgZXJyb3JzXG4gICAgICBjb25zdCBjaGVja0Nvbm5lY3Rpb24gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICh3c1N0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcgfHwgd3NTdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrQ29ubmVjdGlvbilcbiAgICAgICAgICBjbGVhclRpbWVvdXQocmVzZXRUaW1lb3V0KVxuICAgICAgICAgIHNldElzU3RhcnRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH0sIDEwMClcbiAgICAgIFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tDb25uZWN0aW9uKVxuICAgICAgfSwgMTAwMDApXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBzdGFydCBnYW1lJ1xuICAgICAgbG9nRXJyb3IoJ1tTdGFydF0gVW5leHBlY3RlZCBlcnJvcjonLCBlcnIpXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBzZXRXc0Vycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgIHNldElzU3RhcnRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlUmVjb25uZWN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcm9vbUlkIHx8ICFjdXJyZW50VXNlcklkIHx8ICFyb29tKSByZXR1cm5cblxuICAgIC8vIENsb3NlIGV4aXN0aW5nIGNvbm5lY3Rpb24gaWYgYW55XG4gICAgaWYgKHdzUmVmLmN1cnJlbnQpIHtcbiAgICAgIHdzUmVmLmN1cnJlbnQuY2xvc2UoKVxuICAgICAgd3NSZWYuY3VycmVudCA9IG51bGxcbiAgICB9XG4gICAgY29ubmVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgIC8vIFVzZSBjb25uZWN0SWZQbGF5aW5nIHRvIHJlY29ubmVjdCAob25seSBjb25uZWN0cyBpZiByb29tLnN0YXR1cyA9PT0gXCJwbGF5aW5nXCIpXG4gICAgYXdhaXQgY29ubmVjdElmUGxheWluZyhyb29tLnN0YXR1cywgcm9vbS5pZClcbiAgfVxuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBcHBTaGVsbD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1bNjB2aF1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNCB3LWZ1bGwgbWF4LXctbWRcIj5cbiAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9XCJoLTEyIHctZnVsbFwiIC8+XG4gICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPVwiaC0xMCB3LTMvNFwiIC8+XG4gICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPVwiaC0xMCB3LWZ1bGxcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQXBwU2hlbGw+XG4gICAgKVxuICB9XG5cbiAgaWYgKGVycm9yIHx8ICFyb29tKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBcHBTaGVsbD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8VUlDYXJkPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgdGV4dC1jZW50ZXIgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWRhbmdlcildXCI+e2Vycm9yIHx8ICdSb29tIG5vdCBmb3VuZCd9PC9wPlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKCcvbG9iYnknKX0+QmFjayB0byBMb2JieTwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9VSUNhcmQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcHBTaGVsbD5cbiAgICApXG4gIH1cblxuICBjb25zdCBjdXJyZW50UGxheWVyID0gcGxheWVycy5maW5kKChwKSA9PiBwLnBsYXllcl9pZCA9PT0gY3VycmVudFVzZXJJZClcbiAgY29uc3QgaXNPd25lciA9IGN1cnJlbnRVc2VySWQgPT09IHJvb20ub3duZXJfaWRcblxuICByZXR1cm4gKFxuICAgIDxBcHBTaGVsbFxuICAgICAgdGl0bGU9e2BSb29tOiAke3Jvb20uY29kZX1gfVxuICAgICAgc3VidGl0bGU9e2BTY29yZSBMaW1pdDogJHtzY29yZUxpbWl0fWB9XG4gICAgICBzaG93U2lnbk91dD17ZmFsc2V9XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgey8qIEhlYWRlciBBY3Rpb25zICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJkYW5nZXJcIiBvbkNsaWNrPXtoYW5kbGVMZWF2ZX0gZGlzYWJsZWQ9e2xlYXZpbmd9IGlzTG9hZGluZz17bGVhdmluZ30+XG4gICAgICAgICAgICBMZWF2ZSBSb29tXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBFcnJvciBCYW5uZXIgKi99XG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctW3ZhcigtLWRhbmdlci1iZyldIGJvcmRlciBib3JkZXItW3ZhcigtLWRhbmdlcildIHRleHQtW3ZhcigtLWRhbmdlcildIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogUk9VTkRfU1RBUlQgQmFubmVyICovfVxuICAgICAgICB7cm91bmRTdGFydCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctW3ZhcigtLXN1Y2Nlc3MpXSB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LW1kXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzTmFtZT1cInRleHQtbGdcIj5Sb3VuZCBzdGFydGluZy4uLjwvc3Ryb25nPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIG9wYWNpdHktOTBcIj5cbiAgICAgICAgICAgICAgICB7bmV3IERhdGUocm91bmRTdGFydC5zdGFydGVkQXQpLnRvTG9jYWxlU3RyaW5nKCl9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBERUFMVCBCYW5uZXIgKi99XG4gICAgICAgIHt5b3VySGFuZCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctW3ZhcigtLWluZm8pXSB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LW1kIHRleHQtY2VudGVyIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgIENhcmRzIGRlYWx0LiBXYWl0aW5nIGZvciBzdGFydGVyLi4uXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIERlYnVnIFBhbmVsIC0gb25seSBpbiBkZXYgKi99XG4gICAgICAgIHtpc0RldiAmJiAoXG4gICAgICAgICAgPFVJQ2FyZD5cbiAgICAgICAgICAgIDxVSUNhcmQgaGVhZGVyPXs8aDMgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQpXVwiPkRlYnVnIEluZm88L2gzPn0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtNCBnYXAtMiB0ZXh0LXhzIGZvbnQtbW9ub1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIGJnLVt2YXIoLS1iZy1lbGV2YXRlZCldIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyKV1cIj5cbiAgICAgICAgICAgICAgICAgIDxzdHJvbmc+cm9vbS5zdGF0dXM6PC9zdHJvbmc+IHtyb29tLnN0YXR1c31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiBiZy1bdmFyKC0tYmctZWxldmF0ZWQpXSByb3VuZGVkIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlcildXCI+XG4gICAgICAgICAgICAgICAgICA8c3Ryb25nPmN1cnJlbnQgYXV0aC51aWQ6PC9zdHJvbmc+IHtjdXJyZW50VXNlcklkIHx8ICdudWxsJ31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiBiZy1bdmFyKC0tYmctZWxldmF0ZWQpXSByb3VuZGVkIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlcildXCI+XG4gICAgICAgICAgICAgICAgICA8c3Ryb25nPnJvb20ub3duZXJfaWQ6PC9zdHJvbmc+IHtyb29tLm93bmVyX2lkfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIGJnLVt2YXIoLS1iZy1lbGV2YXRlZCldIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyKV1cIj5cbiAgICAgICAgICAgICAgICAgIDxzdHJvbmc+aXNPd25lcjo8L3N0cm9uZz4ge2lzT3duZXIgPyAndHJ1ZScgOiAnZmFsc2UnfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvVUlDYXJkPlxuICAgICAgICAgIDwvVUlDYXJkPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBXZWJTb2NrZXQgQ29ubmVjdGlvbiBQYW5lbCAqL31cbiAgICAgICAgPFVJQ2FyZD5cbiAgICAgICAgICA8VUlDYXJkIGhlYWRlcj17XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC1bdmFyKC0tdGV4dCldXCI+R2FtZSBTZXJ2ZXIgQ29ubmVjdGlvbjwvaDM+XG4gICAgICAgICAgICAgIDxCYWRnZVxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9e1xuICAgICAgICAgICAgICAgICAgd3NTdGF0dXMgPT09ICdjb25uZWN0ZWQnID8gJ3N1Y2Nlc3MnIDpcbiAgICAgICAgICAgICAgICAgIHdzU3RhdHVzID09PSAnY29ubmVjdGluZycgfHwgd3NTdGF0dXMgPT09ICdyZWNvbm5lY3RpbmcnID8gJ3dhcm5pbmcnIDpcbiAgICAgICAgICAgICAgICAgIHdzU3RhdHVzID09PSAnZXJyb3InID8gJ2RhbmdlcicgOiAnZGVmYXVsdCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7d3NTdGF0dXMgPT09ICdjb25uZWN0ZWQnICYmICfil48gQ29ubmVjdGVkJ31cbiAgICAgICAgICAgICAgICB7d3NTdGF0dXMgPT09ICdjb25uZWN0aW5nJyAmJiAn4pePIENvbm5lY3RpbmcuLi4nfVxuICAgICAgICAgICAgICAgIHt3c1N0YXR1cyA9PT0gJ3JlY29ubmVjdGluZycgJiYgYOKXjyBSZWNvbm5lY3RpbmcgKCR7cmVjb25uZWN0QXR0ZW1wdFJlZi5jdXJyZW50fS8xMCkuLi5gfVxuICAgICAgICAgICAgICAgIHt3c1N0YXR1cyA9PT0gJ2Vycm9yJyAmJiAn4pePIEVycm9yJ31cbiAgICAgICAgICAgICAgICB7d3NTdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnICYmICfil4sgRGlzY29ubmVjdGVkJ31cbiAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH0+XG4gICAgICAgICAgICB7d3NFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTMgYmctW3ZhcigtLWRhbmdlci1iZyldIGJvcmRlciBib3JkZXItW3ZhcigtLWRhbmdlcildIHRleHQtW3ZhcigtLWRhbmdlcildIHJvdW5kZWQtbGcgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIHt3c0Vycm9yfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBXUyBEZWJ1ZyBJbmZvIC0gb25seSBpbiBkZXYgKi99XG4gICAgICAgICAgICB7aXNEZXYgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0zIGJnLVt2YXIoLS1iZy1lbGV2YXRlZCldIHJvdW5kZWQgdGV4dC14cyBmb250LW1vbm8gc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPndzVXJsOjwvc3Ryb25nPiB7d3NVcmwgfHwgJ25vdCBzZXQnfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8c3Ryb25nPndzUmVhZHlTdGF0ZTo8L3N0cm9uZz4ge3dzUmVmLmN1cnJlbnQgPyB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgOiAnbnVsbCd9IFxuICAgICAgICAgICAgICAgICAgKHt3c1JlZi5jdXJyZW50ID8gWydDT05ORUNUSU5HJywgJ09QRU4nLCAnQ0xPU0lORycsICdDTE9TRUQnXVt3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGVdIDogJ251bGwnfSlcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+Y29ubmVjdGlvblN0YXR1czo8L3N0cm9uZz4ge3dzU3RhdHVzfTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHt3c1N0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCcgJiYgcm9vbT8uc3RhdHVzID09PSAncGxheWluZycgJiYgKFxuICAgICAgICAgICAgICA8QnV0dG9uIHNpemU9XCJzbVwiIG9uQ2xpY2s9e2hhbmRsZVJlY29ubmVjdH0+UmVjb25uZWN0PC9CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogV1MgRXZlbnRzIExvZyAtIG9ubHkgaW4gZGV2ICovfVxuICAgICAgICAgICAge2lzRGV2ICYmIHdzRXZlbnRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgTGFzdCB7d3NFdmVudHMubGVuZ3RofSBXUyBFdmVudHM6XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC1bMjAwcHhdIG92ZXJmbG93LXktYXV0byBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXIpXSByb3VuZGVkIHAtMiBiZy1bdmFyKC0tYmctZWxldmF0ZWQpXSB0ZXh0LXhzIGZvbnQtbW9ubyBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgIHt3c0V2ZW50cy5tYXAoKGV2ZW50LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2BldmVudC0ke2V2ZW50LnRpbWVzdGFtcH0tJHtpZHh9YH0gY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBwLTEgYmctW3ZhcigtLWJnLXN1cmZhY2UpXSByb3VuZGVkIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlcildXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldIG1pbi13LVs4MHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge25ldyBEYXRlKGV2ZW50LnRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLWluZm8pXSBmb250LXNlbWlib2xkIG1pbi13LVsxNTBweF1cIj57ZXZlbnQuZXZlbnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5kYXRhICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtW3ZhcigtLXRleHQpXSBmbGV4LTEgYnJlYWstYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShldmVudC5kYXRhKSA6IFN0cmluZyhldmVudC5kYXRhKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBXUyBNZXNzYWdlcyAtIG9ubHkgaW4gZGV2ICovfVxuICAgICAgICAgICAge2lzRGV2ICYmIHdzTWVzc2FnZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICBMYXN0IHt3c01lc3NhZ2VzLmxlbmd0aH0gTWVzc2FnZXM6XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC1bMzAwcHhdIG92ZXJmbG93LXktYXV0byBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXIpXSByb3VuZGVkIHAtMiBiZy1bdmFyKC0tYmctZWxldmF0ZWQpXSB0ZXh0LXhzIGZvbnQtbW9ubyBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgIHt3c01lc3NhZ2VzLm1hcCgobXNnLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Btc2ctJHttc2cudHlwZX0tJHtpZHh9YH0gY2xhc3NOYW1lPVwicC0yIGJnLVt2YXIoLS1iZy1zdXJmYWNlKV0gcm91bmRlZCBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXIpXSB3aGl0ZXNwYWNlLXByZS13cmFwIGJyZWFrLWFsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtKU09OLnN0cmluZ2lmeShtc2csIG51bGwsIDIpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9VSUNhcmQ+XG4gICAgICAgIDwvVUlDYXJkPlxuXG4gICAgICAgIHsvKiBQbGF5ZXJzIFNlY3Rpb24gKi99XG4gICAgICAgIDxVSUNhcmQ+XG4gICAgICAgICAgPFVJQ2FyZCBoZWFkZXI9e1xuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LVt2YXIoLS10ZXh0KV1cIj5cbiAgICAgICAgICAgICAgUGxheWVycyAoe3Jvb21TdGF0ZVBsYXllcnMubGVuZ3RoID4gMCA/IHJvb21TdGF0ZVBsYXllcnMubGVuZ3RoIDogcGxheWVycy5sZW5ndGh9KVxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIHVzZSBwbGF5ZXJzIHN0YXRlICh3aGljaCBoYXMgcHJvZmlsZXMpIGFzIHNvdXJjZSBvZiB0cnV0aCBmb3IgZGlzcGxheVxuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHJlYWR5IHN0YXR1cyBmcm9tIHJvb21TdGF0ZVBsYXllcnMgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyc1RvUmVuZGVyID0gcGxheWVycy5tYXAocCA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByb29tU3RhdGVQbGF5ZXIgPSByb29tU3RhdGVQbGF5ZXJzLmZpbmQocnNwID0+IHJzcC5wbGF5ZXJJZCA9PT0gcC5wbGF5ZXJfaWQpXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJZDogcC5wbGF5ZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgIGlzUmVhZHk6IHJvb21TdGF0ZVBsYXllcj8uaXNSZWFkeSA/PyBwLmlzX3JlYWR5LFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogcC5wcm9maWxlPy5kaXNwbGF5X25hbWUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgcm9vbVN0YXRlUGxheWVycyBoYXMgcGxheWVycyBub3QgaW4gcGxheWVycyBsaXN0LCBhZGQgdGhlbSAod2lsbCBzaG93IElEIHVudGlsIHByb2ZpbGUgbG9hZHMpXG4gICAgICAgICAgICAgICAgaWYgKHJvb21TdGF0ZVBsYXllcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgcm9vbVN0YXRlUGxheWVycy5mb3JFYWNoKHJzcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxheWVyc1RvUmVuZGVyLmZpbmQocCA9PiBwLnBsYXllcklkID09PSByc3AucGxheWVySWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGxheWVyc1RvUmVuZGVyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6IHJzcC5wbGF5ZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVhZHk6IHJzcC5pc1JlYWR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGxheWVyc1RvUmVuZGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSBweS04XCI+Tm8gcGxheWVycyBpbiByb29tPC9wPlxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJzVG9SZW5kZXIubWFwKChwbGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudFBsYXllciA9IHBsYXllci5wbGF5ZXJJZCA9PT0gY3VycmVudFVzZXJJZFxuICAgICAgICAgICAgICAgICAgY29uc3QgaGFzUGFzc2VkID0gcGFzc2VkUGxheWVySWRzLmluY2x1ZGVzKHBsYXllci5wbGF5ZXJJZClcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudFR1cm4gPSBwbGF5ZXIucGxheWVySWQgPT09IGN1cnJlbnRUdXJuUGxheWVySWRcbiAgICAgICAgICAgICAgICAgIC8vIFVzZSBkaXNwbGF5TmFtZSBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsYmFjayB0byBnZXRQbGF5ZXJEaXNwbGF5TmFtZVxuICAgICAgICAgICAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBwbGF5ZXIuZGlzcGxheU5hbWUgfHwgZ2V0UGxheWVyRGlzcGxheU5hbWUocGxheWVyLnBsYXllcklkKVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtwbGF5ZXIucGxheWVySWR9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgICAgICAgICdmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC00IHJvdW5kZWQtbGcgYm9yZGVyIHRyYW5zaXRpb24tYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ3VycmVudFBsYXllciAmJiAnYmctW3ZhcigtLXByaW1hcnktYmcpXSBib3JkZXItW3ZhcigtLXByaW1hcnkpXScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0N1cnJlbnRUdXJuICYmICdiZy1bdmFyKC0td2FybmluZy1iZyldIGJvcmRlci1bdmFyKC0td2FybmluZyldJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0N1cnJlbnRQbGF5ZXIgJiYgIWlzQ3VycmVudFR1cm4gJiYgJ2JnLVt2YXIoLS1iZy1lbGV2YXRlZCldIGJvcmRlci1bdmFyKC0tYm9yZGVyKV0gaG92ZXI6YmctW3ZhcigtLXN1cmZhY2UtaG92ZXIpXSdcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1bdmFyKC0tdGV4dCldXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc093bmVyICYmIHBsYXllci5wbGF5ZXJJZCA9PT0gcm9vbS5vd25lcl9pZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwid2FybmluZ1wiIHNpemU9XCJzbVwiPk93bmVyPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7aGFzUGFzc2VkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJkZWZhdWx0XCIgc2l6ZT1cInNtXCI+UGFzc2VkPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3BsYXllci5pc1JlYWR5ID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cInN1Y2Nlc3NcIiBzaXplPVwic21cIj7inJMgUmVhZHk8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV1cIj5Ob3QgUmVhZHk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2lzQ3VycmVudFR1cm4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cIndhcm5pbmdcIiBzaXplPVwic21cIj7igKIgWW91ciBUdXJuPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1VJQ2FyZD5cbiAgICAgICAgPC9VSUNhcmQ+XG5cbiAgICAgICAgey8qIEFjdGlvbnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBnYXAtNCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICB7Y3VycmVudFVzZXJJZCAmJiAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm9vbVN0YXRlUGxheWVyID0gcm9vbVN0YXRlUGxheWVycy5maW5kKHAgPT4gcC5wbGF5ZXJJZCA9PT0gY3VycmVudFVzZXJJZClcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZWFkeSA9IHJvb21TdGF0ZVBsYXllciBcbiAgICAgICAgICAgICAgPyByb29tU3RhdGVQbGF5ZXIuaXNSZWFkeSBcbiAgICAgICAgICAgICAgOiBjdXJyZW50UGxheWVyPy5pc19yZWFkeSA/PyBmYWxzZVxuICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IHVwZGF0aW5nUmVhZHkgfHwgd3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnIHx8ICEhcm91bmRTdGFydFxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlUmVhZHl9XG4gICAgICAgICAgICAgICAgdmFyaWFudD17Y3VycmVudFJlYWR5ID8gJ3N1Y2Nlc3MnIDogJ3NlY29uZGFyeSd9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgaXNMb2FkaW5nPXt1cGRhdGluZ1JlYWR5fVxuICAgICAgICAgICAgICAgIHRpdGxlPXt3c1N0YXR1cyAhPT0gJ2Nvbm5lY3RlZCcgPyAnQ29ubmVjdCBmaXJzdCcgOiByb3VuZFN0YXJ0ID8gJ1JvdW5kIGFscmVhZHkgc3RhcnRlZCcgOiAnJ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt3c1N0YXR1cyAhPT0gJ2Nvbm5lY3RlZCcgXG4gICAgICAgICAgICAgICAgICA/ICdDb25uZWN0IGZpcnN0J1xuICAgICAgICAgICAgICAgICAgOiByb3VuZFN0YXJ0XG4gICAgICAgICAgICAgICAgICA/ICdSb3VuZCBzdGFydGVkJ1xuICAgICAgICAgICAgICAgICAgOiBjdXJyZW50UmVhZHkgXG4gICAgICAgICAgICAgICAgICA/ICdNYXJrIE5vdCBSZWFkeScgXG4gICAgICAgICAgICAgICAgICA6ICdNYXJrIFJlYWR5J31cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSkoKX1cblxuICAgICAgICAgIHsvKiBPd25lciBSdWxlcyBTZXR0aW5nICovfVxuICAgICAgICAgIHtpc093bmVyICYmIHJvb20uc3RhdHVzICE9PSAncGxheWluZycgJiYgIXJvdW5kU3RhcnQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBwLTQgYmctW3ZhcigtLWJnLWVsZXZhdGVkKV0gcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXIpXVwiPlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInNjb3JlTGltaXRcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtW3ZhcigtLXRleHQpXVwiPlxuICAgICAgICAgICAgICAgIFNjb3JlIExpbWl0ICgxLTYwKTpcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJzY29yZUxpbWl0XCJcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgICBtYXg9XCI2MFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3Njb3JlTGltaXRJbnB1dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNjb3JlTGltaXRJbnB1dChNYXRoLm1pbig2MCwgTWF0aC5tYXgoMSwgTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSB8fCA2MCkpKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTIwIHB4LTMgcHktMiBiZy1bdmFyKC0tYmctc3VyZmFjZSldIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlcildIHJvdW5kZWQtbGcgdGV4dC1bdmFyKC0tdGV4dCldIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1bdmFyKC0tYm9yZGVyLWZvY3VzKV1cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2NvcmVMaW1pdElucHV0ID49IDEgJiYgc2NvcmVMaW1pdElucHV0IDw9IDYwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRTZXRSdWxlc01lc3NhZ2Uoc2NvcmVMaW1pdElucHV0KVxuICAgICAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKCdTY29yZSBsaW1pdCB1cGRhdGVkJylcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt3c1N0YXR1cyAhPT0gJ2Nvbm5lY3RlZCcgfHwgc2NvcmVMaW1pdElucHV0IDwgMSB8fCBzY29yZUxpbWl0SW5wdXQgPiA2MH1cbiAgICAgICAgICAgICAgICB0aXRsZT17d3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnID8gJ1dlYlNvY2tldCBkaXNjb25uZWN0ZWQnIDogJyd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTZXQgUnVsZXNcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIHtpc093bmVyICYmIHJvb20uc3RhdHVzICE9PSAncGxheWluZycgJiYgIXJvdW5kU3RhcnQgJiYgKFxuICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3RhcnR9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N0YXJ0aW5nfVxuICAgICAgICAgICAgICBpc0xvYWRpbmc9e2lzU3RhcnRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFN0YXJ0IEdhbWVcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBHYW1lIEFyZWEgLSBQb2tlci1zdHlsZSBUYWJsZSBVSSAqL31cbiAgICAgICAge3lvdXJIYW5kICYmIHJvb20/LnN0YXR1cyA9PT0gJ3BsYXlpbmcnICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgey8qIFJvdW5kIEVuZCBCYW5uZXIgKi99XG4gICAgICAgICAgICB7cm91bmRFbmQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1bdmFyKC0tc3VjY2VzcyldIHRleHQtd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbWQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzTmFtZT1cInRleHQtbGdcIj5Sb3VuZCBlbmRlZC4gV2lubmVyOiB7cm91bmRFbmQud2lubmVyUGxheWVySWR9PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEFjdGlvbiBFcnJvciBCYW5uZXIgKi99XG4gICAgICAgICAgICB7YWN0aW9uRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBiZy1bdmFyKC0tZGFuZ2VyLWJnKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tZGFuZ2VyKV0gdGV4dC1bdmFyKC0tZGFuZ2VyKV0gcm91bmRlZC1sZyB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAge2FjdGlvbkVycm9yfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBNYWluIEdhbWUgTGF5b3V0OiBUYWJsZSArIFF1ZXVlIFBhbmVsICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGxnOmZsZXgtcm93IGdhcC02IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIHsvKiBUYWJsZSBWaWV3ICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgPFRhYmxlVmlld1xuICAgICAgICAgICAgICAgICAgc2VhdGVkUGxheWVySWRzPXtzZWF0ZWRQbGF5ZXJJZHN9XG4gICAgICAgICAgICAgICAgICBoYW5kc0NvdW50PXtoYW5kc0NvdW50fVxuICAgICAgICAgICAgICAgICAgdG90YWxTY29yZXM9e3RvdGFsU2NvcmVzfVxuICAgICAgICAgICAgICAgICAgc2NvcmVMaW1pdD17c2NvcmVMaW1pdH1cbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRUdXJuUGxheWVySWQ9e2N1cnJlbnRUdXJuUGxheWVySWR9XG4gICAgICAgICAgICAgICAgICBlbGltaW5hdGVkPXtlbGltaW5hdGVkfVxuICAgICAgICAgICAgICAgICAgY3VycmVudFVzZXJJZD17Y3VycmVudFVzZXJJZH1cbiAgICAgICAgICAgICAgICAgIGxhc3RQbGF5PXtsYXN0UGxheX1cbiAgICAgICAgICAgICAgICAgIHBsYXllck5hbWVzPXtwbGF5ZXJOYW1lTWFwfVxuICAgICAgICAgICAgICAgICAgcGxheWVyQXZhdGFycz17cGxheWVyQXZhdGFyTWFwfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBRdWV1ZSBQYW5lbCAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZzp3LTgwXCI+XG4gICAgICAgICAgICAgICAgPFF1ZXVlUGFuZWxcbiAgICAgICAgICAgICAgICAgIHF1ZXVlUGxheWVySWRzPXtxdWV1ZVBsYXllcklkc31cbiAgICAgICAgICAgICAgICAgIHNlYXRlZFBsYXllcklkcz17c2VhdGVkUGxheWVySWRzfVxuICAgICAgICAgICAgICAgICAgaGFuZHNDb3VudD17aGFuZHNDb3VudH1cbiAgICAgICAgICAgICAgICAgIHRvdGFsU2NvcmVzPXt0b3RhbFNjb3Jlc31cbiAgICAgICAgICAgICAgICAgIHNjb3JlTGltaXQ9e3Njb3JlTGltaXR9XG4gICAgICAgICAgICAgICAgICBjdXJyZW50VHVyblBsYXllcklkPXtjdXJyZW50VHVyblBsYXllcklkfVxuICAgICAgICAgICAgICAgICAgZWxpbWluYXRlZD17ZWxpbWluYXRlZH1cbiAgICAgICAgICAgICAgICAgIHBsYXllck5hbWVzPXtwbGF5ZXJOYW1lTWFwfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBZb3VyIEhhbmQgYW5kIENvbnRyb2xzIChCb3R0b20gQ2VudGVyKSAqL31cbiAgICAgICAgICAgIDxVSUNhcmQ+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS01XCI+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1oZWFkaW5nIGZvbnQtYm9sZCB0ZXh0LWN5YW4tMzAwIHRleHQtZ2xvdy1jeWFuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgWW91ciBIYW5kICh7eW91ckhhbmQubGVuZ3RofSBjYXJkcylcbiAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRDYXJkcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1zbSB0ZXh0LWxpbWUtNDAwIHRleHQtZ2xvdy1saW1lIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIOKAoiBTZWxlY3RlZDoge3NlbGVjdGVkQ2FyZHMubGVuZ3RofS81XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAge2hhbmRPcmRlci5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRIYW5kT3JkZXIoW10pfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJTb3J0IGNhcmRzIGJ5IHJhbmsgYW5kIHN1aXRcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNvcnRcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMyBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB1c2VyIGhhcyBjdXN0b20gb3JkZXIsIHVzZSBpdDsgb3RoZXJ3aXNlIHNob3cgc29ydGVkIGNhcmRzXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRPcmRlci5sZW5ndGggPiAwICYmIGhhbmRPcmRlci5sZW5ndGggPT09IHlvdXJIYW5kLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlcidzIGN1c3RvbSBhcnJhbmdlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRPcmRlci5tYXAoKG9yaWdpbmFsSWR4KSA9PiB5b3VySGFuZFtvcmlnaW5hbElkeF0pLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHNvcnRlZCBvcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRDYXJkcyh5b3VySGFuZClcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKCkubWFwKChjYXJkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkQ2FyZHMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgIChjKSA9PiBjYXJkc0VxdWFsKGMsIGNhcmQpXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsSWR4ID0geW91ckhhbmQuZmluZEluZGV4KChjKSA9PiBjYXJkc0VxdWFsKGMsIGNhcmQpKVxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7Y2FyZC5yYW5rfS0ke2NhcmQuc3VpdH0tJHtvcmlnaW5hbElkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnY2FyZEluZGV4JywgU3RyaW5nKG9yaWdpbmFsSWR4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyb3A9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJhZ2dlZEluZGV4ID0gcGFyc2VJbnQoZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgnY2FyZEluZGV4JyksIDEwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyb3BJbmRleCA9IG9yaWdpbmFsSWR4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdnZWRJbmRleCA9PT0gZHJvcEluZGV4KSByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRIYW5kT3JkZXIoKHByZXZPcmRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZPcmRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBvcmRlciBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geW91ckhhbmQubWFwKChfLCBpZHgpID0+IGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3T3JkZXIgPSBbLi4ucHJldk9yZGVyXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJhZ2dlZFBvcyA9IG5ld09yZGVyLmluZGV4T2YoZHJhZ2dlZEluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJvcFBvcyA9IG5ld09yZGVyLmluZGV4T2YoZHJvcEluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZHJhZ2dlZCBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdPcmRlci5zcGxpY2UoZHJhZ2dlZFBvcywgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluc2VydCBhdCBuZXcgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld09yZGVyLnNwbGljZShkcm9wUG9zLCAwLCBkcmFnZ2VkSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdPcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1cnNvci1tb3ZlIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS0xMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UGxheWluZ0NhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkPXtjYXJkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2FyZENsaWNrKGNhcmQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJtZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogUGxheS9QYXNzIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgeyFyb3VuZEVuZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQganVzdGlmeS1jZW50ZXIgcHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGxheX1cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic3VjY2Vzc1wiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZExlbmd0aHMgPSBbMSwgMiwgMywgNV1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdmFsaWRMZW5ndGhzLmluY2x1ZGVzKHNlbGVjdGVkQ2FyZHMubGVuZ3RoKSB8fCAhaXNNeVR1cm4gfHwgd3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17XG4gICAgICAgICAgICAgICAgICAgICAgICB3c1N0YXR1cyAhPT0gJ2Nvbm5lY3RlZCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1dlYlNvY2tldCBkaXNjb25uZWN0ZWQnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICFpc015VHVybiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnTm90IHlvdXIgdHVybicgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogc2VsZWN0ZWRDYXJkcy5sZW5ndGggPT09IDAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1NlbGVjdCAxLCAyLCAzLCBvciA1IGNhcmRzIHRvIHBsYXknIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkQ2FyZHMubGVuZ3RoID09PSA0XG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJzQgY2FyZHMgbm90IGFsbG93ZWQuIFNlbGVjdCAxLCAyLCAzLCBvciA1IGNhcmRzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkQ2FyZHMubGVuZ3RoID4gNVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdNYXhpbXVtIDUgY2FyZHMgYWxsb3dlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFBMQVkge3NlbGVjdGVkQ2FyZHMubGVuZ3RoID4gMCAmJiBgKCR7c2VsZWN0ZWRDYXJkcy5sZW5ndGh9KWB9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGFzc31cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwid2FybmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpc015VHVybiB8fCAhbGFzdFBsYXkgfHwgd3NTdGF0dXMgIT09ICdjb25uZWN0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzU3RhdHVzICE9PSAnY29ubmVjdGVkJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogIWlzTXlUdXJuIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdOb3QgeW91ciB0dXJuJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAhbGFzdFBsYXkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1lvdSBtdXN0IHN0YXJ0IHRoZSB0cmljaycgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBQQVNTXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1VJQ2FyZD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvQXBwU2hlbGw+XG4gIClcbn1cblxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlUGFyYW1zIiwidXNlTmF2aWdhdGUiLCJzdXBhYmFzZSIsImNvbm5lY3RHYW1lU29ja2V0RGVidWciLCJsb2ciLCJ3YXJuIiwiZXJyb3IiLCJsb2dFcnJvciIsIm5vcm1hbGl6ZUNhcmQiLCJzb3J0Q2FyZHMiLCJjYXJkc0VxdWFsIiwiVGFibGVWaWV3IiwiUGxheWluZ0NhcmQiLCJRdWV1ZVBhbmVsIiwiQXBwU2hlbGwiLCJCdXR0b24iLCJDYXJkIiwiVUlDYXJkIiwiQmFkZ2UiLCJ0b2FzdCIsIlNrZWxldG9uIiwiY24iLCJpc0RldiIsInByb2Nlc3MiLCJSb29tUGFnZSIsInJvb21JZCIsIm5hdmlnYXRlIiwicm9vbSIsInNldFJvb20iLCJwbGF5ZXJzIiwic2V0UGxheWVycyIsImN1cnJlbnRVc2VySWQiLCJzZXRDdXJyZW50VXNlcklkIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInVwZGF0aW5nUmVhZHkiLCJzZXRVcGRhdGluZ1JlYWR5IiwibGVhdmluZyIsInNldExlYXZpbmciLCJpc1N0YXJ0aW5nIiwic2V0SXNTdGFydGluZyIsIndzU3RhdHVzIiwic2V0V3NTdGF0dXMiLCJ3c01lc3NhZ2VzIiwic2V0V3NNZXNzYWdlcyIsIndzRXJyb3IiLCJzZXRXc0Vycm9yIiwid3NSZWYiLCJjb25uZWN0aW5nUmVmIiwid3NFdmVudHMiLCJzZXRXc0V2ZW50cyIsIndzVXJsIiwic2V0V3NVcmwiLCJzaG91bGRSZWNvbm5lY3RSZWYiLCJyZWNvbm5lY3RBdHRlbXB0UmVmIiwicm9vbUNoYW5uZWxSZWYiLCJwbGF5ZXJzQ2hhbm5lbFJlZiIsInJvb21TdGF0ZVBsYXllcnMiLCJzZXRSb29tU3RhdGVQbGF5ZXJzIiwicm91bmRTdGFydCIsInNldFJvdW5kU3RhcnQiLCJ5b3VySGFuZCIsInNldFlvdXJIYW5kIiwiaGFuZE9yZGVyIiwic2V0SGFuZE9yZGVyIiwiX3BlbmRpbmdQbGF5Q2FyZHMiLCJzZXRQZW5kaW5nUGxheUNhcmRzIiwicGVuZGluZ1BsYXlDYXJkc1JlZiIsIl9zdGFydGVyUGxheWVySWQiLCJzZXRTdGFydGVyUGxheWVySWQiLCJfc3RhcnRlclJlYXNvbiIsInNldFN0YXJ0ZXJSZWFzb24iLCJzZWF0ZWRQbGF5ZXJJZHMiLCJzZXRTZWF0ZWRQbGF5ZXJJZHMiLCJxdWV1ZVBsYXllcklkcyIsInNldFF1ZXVlUGxheWVySWRzIiwic2VsZWN0ZWRDYXJkcyIsInNldFNlbGVjdGVkQ2FyZHMiLCJjdXJyZW50VHVyblBsYXllcklkIiwic2V0Q3VycmVudFR1cm5QbGF5ZXJJZCIsImxhc3RQbGF5Iiwic2V0TGFzdFBsYXkiLCJoYW5kc0NvdW50Iiwic2V0SGFuZHNDb3VudCIsImFjdGlvbkVycm9yIiwic2V0QWN0aW9uRXJyb3IiLCJfY2FuUGFzcyIsInNldENhblBhc3MiLCJwYXNzZWRQbGF5ZXJJZHMiLCJzZXRQYXNzZWRQbGF5ZXJJZHMiLCJyb3VuZEVuZCIsInNldFJvdW5kRW5kIiwic2NvcmVMaW1pdCIsInNldFNjb3JlTGltaXQiLCJfc2NvcmVib2FyZCIsInNldFNjb3JlYm9hcmQiLCJzY29yZUxpbWl0SW5wdXQiLCJzZXRTY29yZUxpbWl0SW5wdXQiLCJ0b3RhbFNjb3JlcyIsInNldFRvdGFsU2NvcmVzIiwiZWxpbWluYXRlZCIsInNldEVsaW1pbmF0ZWQiLCJnZXRQbGF5ZXJEaXNwbGF5TmFtZSIsInBsYXllcklkIiwicGxheWVyIiwiZmluZCIsInAiLCJwbGF5ZXJfaWQiLCJwcm9maWxlIiwiZGlzcGxheV9uYW1lIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwicGxheWVyTmFtZU1hcCIsIm1hcCIsImZvckVhY2giLCJuYW1lIiwicGxheWVyQXZhdGFyTWFwIiwiYXZhdGFyX3VybCIsImNvbm5lY3RJZlBsYXlpbmciLCJyb29tU3RhdHVzIiwicm9vbUlkVG9Db25uZWN0IiwiY3VycmVudCIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwiQ09OTkVDVElORyIsIkNMT1NJTkciLCJDTE9TRUQiLCJjbG9zZSIsImRhdGEiLCJzZXNzaW9uIiwiYXV0aCIsImdldFNlc3Npb24iLCJoYXNUb2tlbiIsImFjY2Vzc190b2tlbiIsIndzVXJsRW52IiwiZW52IiwiTkVYVF9QVUJMSUNfR0FNRV9TRVJWRVJfV1NfVVJMIiwiVklURV9HQU1FX1NFUlZFUl9XU19VUkwiLCJ3cyIsIm1lc3NhZ2UiLCJ0eXBlIiwicHJldiIsIm5ld01lc3NhZ2VzIiwic2xpY2UiLCJlcnJvck1zZyIsInNldFRpbWVvdXQiLCJjdXJyZW50Um9vbUlkIiwidHJpbSIsImZyb21QYXJhbXMiLCJmcm9tQ29ubmVjdCIsInN5bmNNZXNzYWdlIiwibWVzc2FnZVN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZW5kIiwiZXJyIiwid3NSZWFkeSIsInJvb21JZEZyb21QYXJhbXMiLCJyb29tSWRGcm9tQ29ubmVjdCIsIkFycmF5IiwiaXNBcnJheSIsIm5vcm1hbGl6ZWRMYXN0UGxheSIsImNhcmRzIiwiY2FyZCIsImtpbmQiLCJmaXZlS2luZCIsInNjb3Jlc01hcCIsInNjb3JlIiwiT2JqZWN0IiwiZW50cmllcyIsIm5vcm1hbGl6ZWRIYW5kIiwic29ydGVkSGFuZCIsImN1cnJlbnRQbGF5ZXJzIiwibmV3UGxheWVySWRzIiwiZXhpc3RpbmdQbGF5ZXJJZHMiLCJTZXQiLCJtaXNzaW5nUGxheWVySWRzIiwiZmlsdGVyIiwiaWQiLCJoYXMiLCJQcm9taXNlIiwiYWxsIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiZXhpc3RpbmciLCJyb29tX2lkIiwiaXNfcmVhZHkiLCJpc1JlYWR5IiwibGVmdF9hdCIsImpvaW5lZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNhdGNoIiwic3RhcnRlZEF0Iiwic2NvcmVzIiwic2NvcmVWYWx1ZSIsInB1c2giLCJ0b3RhbFNjb3JlIiwiaW5jbHVkZXMiLCJzdGFydGVyUGxheWVySWQiLCJyZWFzb24iLCJjYW5QYXNzIiwicGVuZGluZ0NhcmRzIiwicHJldkhhbmQiLCJyZXN0b3JlZEhhbmQiLCJ3aW5uZXJQbGF5ZXJJZCIsImNvZGUiLCJ3YXNDbGVhbiIsInN0YXR1cyIsInJlY29ubmVjdERlbGF5cyIsIm1heEF0dGVtcHRzIiwiYXR0ZW1wdFJlY29ubmVjdCIsImF0dGVtcHQiLCJkZWxheUluZGV4IiwiTWF0aCIsIm1pbiIsImRlbGF5IiwibG9nRW50cnkiLCJuZXdFdmVudHMiLCJzZW5kU3luY1JlcXVlc3QiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsImV4aXN0aW5nUm9vbUNoYW5uZWwiLCJleGlzdGluZ1BsYXllcnNDaGFubmVsIiwicm9vbUNoYW5uZWxTdGF0ZSIsInN0YXRlIiwicGxheWVyc0NoYW5uZWxTdGF0ZSIsInJlbW92ZUNoYW5uZWwiLCJmZXRjaERhdGEiLCJ1c2VyIiwiZ2V0VXNlciIsInJvb21EYXRhIiwicm9vbUVycm9yIiwiZmV0Y2hQbGF5ZXJzIiwiY2hhbm5lbCIsIm9uIiwiZXZlbnQiLCJzY2hlbWEiLCJ0YWJsZSIsInN1YnNjcmliZSIsImNoYW5uZWxOYW1lIiwiZmlsdGVyU3RyaW5nIiwicm9vbUNoYW5uZWwiLCJwYXlsb2FkIiwibmV3IiwidXBkYXRlZFJvb20iLCJwcmV2Um9vbSIsInNjb3JlX2xpbWl0Iiwic2hvdWxkUG9sbCIsInBvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInBsYXllcnNEYXRhIiwicGxheWVyc0Vycm9yIiwiaXMiLCJhbGxQbGF5ZXJzIiwiYWxsRXJyb3IiLCJTdHJpbmciLCJwbGF5ZXJzV2l0aFByb2ZpbGVzIiwicHJvZmlsZUVycm9yIiwic2VuZFJlYWR5TWVzc2FnZSIsInJlYWR5TWVzc2FnZSIsInNlbmRQbGF5TWVzc2FnZSIsInBsYXlNZXNzYWdlIiwibmV3SGFuZCIsImhhbmRDYXJkIiwic29tZSIsInBsYXllZENhcmQiLCJwcmV2T3JkZXIiLCJwbGF5ZWRJbmRpY2VzIiwiZmluZEluZGV4IiwiaWR4IiwibmV3T3JkZXIiLCJhZGp1c3RtZW50IiwicGxheWVkSWR4Iiwic2VuZFNldFJ1bGVzTWVzc2FnZSIsIm5ld1Njb3JlTGltaXQiLCJydWxlc01lc3NhZ2UiLCJzZW5kUGFzc01lc3NhZ2UiLCJwYXNzTWVzc2FnZSIsImhhbmRsZUNhcmRDbGljayIsImlzU2VsZWN0ZWQiLCJjIiwicmFuayIsInN1aXQiLCJoYW5kbGVQbGF5IiwidmFsaWRMZW5ndGhzIiwiaGFuZGxlUGFzcyIsImlzTXlUdXJuIiwiaGFuZGxlVG9nZ2xlUmVhZHkiLCJyb29tU3RhdGVQbGF5ZXIiLCJzdXBhYmFzZVBsYXllciIsImN1cnJlbnRSZWFkeVN0YXRlIiwibmV3UmVhZHlTdGF0ZSIsInNlbnQiLCJjdXJyZW50UGxheWVyIiwidXBkYXRlIiwiaGFuZGxlTGVhdmUiLCJtYXJrTWFudWFsQ2xvc2UiLCJoYW5kbGVTdGFydCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInJvb21GZXRjaEVycm9yIiwib3duZXJfaWQiLCJvd25lcklkIiwidXBkYXRlRXJyb3IiLCJlcnJvckRldGFpbHMiLCJkZXRhaWxzIiwiaGludCIsInJlc2V0VGltZW91dCIsImNoZWNrQ29ubmVjdGlvbiIsImNsZWFyVGltZW91dCIsImhhbmRsZVJlY29ubmVjdCIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJpc093bmVyIiwidGl0bGUiLCJzdWJ0aXRsZSIsInNob3dTaWduT3V0IiwidmFyaWFudCIsImRpc2FibGVkIiwiaXNMb2FkaW5nIiwic3Ryb25nIiwic3BhbiIsInRvTG9jYWxlU3RyaW5nIiwiaGVhZGVyIiwiaDMiLCJzaXplIiwidGltZXN0YW1wIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwibXNnIiwiaDIiLCJwbGF5ZXJzVG9SZW5kZXIiLCJyc3AiLCJkaXNwbGF5TmFtZSIsImlzQ3VycmVudFBsYXllciIsImhhc1Bhc3NlZCIsImlzQ3VycmVudFR1cm4iLCJjdXJyZW50UmVhZHkiLCJpc0Rpc2FibGVkIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJtYXgiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiTnVtYmVyIiwidGFyZ2V0Iiwic3VjY2VzcyIsInBsYXllck5hbWVzIiwicGxheWVyQXZhdGFycyIsIm9yaWdpbmFsSWR4IiwiQm9vbGVhbiIsImRyYWdnYWJsZSIsIm9uRHJhZ1N0YXJ0IiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsImVmZmVjdEFsbG93ZWQiLCJvbkRyYWdPdmVyIiwiZHJvcEVmZmVjdCIsIm9uRHJvcCIsImRyYWdnZWRJbmRleCIsInBhcnNlSW50IiwiZ2V0RGF0YSIsImRyb3BJbmRleCIsIl8iLCJkcmFnZ2VkUG9zIiwiaW5kZXhPZiIsImRyb3BQb3MiLCJzcGxpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/pages/RoomPage.tsx\n"));

/***/ })

});